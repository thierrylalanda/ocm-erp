
‚úî **Facturation**
‚úî **Caisse**
‚úî **POS / Point de Vente**
‚úî **Facturation g√©olocalis√©e** (mobilit√©, livreurs, agents itin√©rants, force de vente terrain)

Cette base est pens√©e pour un ERP moderne (distribution, commerce, agroalimentaire, TPE/PME, industrie l√©g√®re).

---

# **1. FONCTIONNALIT√âS DU MODULE FACTURATION + CAISSE + POS + FACTURATION G√âOLOCALIS√âE**

---

# üü¶ **A. Facturation classique**

## **1. Gestion des Devis / Proformas**

* Cr√©ation, modification, validation, suppression
* Conversion en commande, BL, facture
* Gestion remises & taxes
* Impression & envoi

## **2. Gestion des Commandes Clients**

* Cr√©ation / validation
* Gestion des statuts (en attente, valid√©e, annul√©e, livr√©e)
* Lien avec stock
* G√©n√©ration facture / BL

## **3. Gestion des Factures**

* Facturation directe
* Facturation group√©e
* Facturation p√©riodique
* Facturation avec acomptes
* Gestion des statuts (valid√©e, pay√©e, impay√©e, partielle)
* G√©n√©ration re√ßus

## **4. Bons de Livraison (BL)**

* Cr√©ation / validation
* Annulation / retour
* Conversion en facture

## **5. Gestion des Avoirs / Notes de cr√©dit**

* Cr√©ation d‚Äôun avoir partiel ou total
* Affectation sur facture
* Remboursement via caisse

## **6. Param√©trage**

* Remises, taxes, num√©rotation, mod√®les de documents
* S√©ries / journaux de facturation
* Groupes fiscaux (TVA, exon√©ration, auto-liquidation‚Ä¶)

---

# üüß **B. Module CAISSE**

## **1. Sessions de caisse**

* Ouverture / fermeture
* Fonds de caisse
* R√©ouverture (superviseur)

## **2. Encaissements**

* Multi-modes : cash, Mobile Money, carte bancaire, ch√®que, virement, cr√©dit client
* Paiement partiel / total
* Edition ticket/re√ßu

## **3. D√©caissements**

* Sortie de caisse
* D√©penses terrain
* Versements bancaires

## **4. Rapprochement & rapports**

* Suivi entr√©es/sorties
* Pointage caisse
* Gestion des √©carts

---

# üü´ **C. POS / POINT DE VENTE**

## **1. Interface de vente rapide**

* S√©lection articles par cat√©gories / favoris
* Produits scann√©s (code-barres / QR code)
* Gestion panier et remises

## **2. Tickets**

* Ticket simple / ticket + facture
* Gestion annulation ligne / ticket
* Suspense (mise en attente de ticket)

## **3. √âquipements POS**

* Imprimante ticket
* Tiroir caisse
* Terminal carte bancaire
* Mobile POS (portable Android/iOS
## **4. Fonctionnalit√©s avanc√©es**

* Mode offline (synchronisation diff√©r√©e)
* Gestion des caisses multiples (POS 1, POS 2‚Ä¶)
* Vente par agent itin√©rant (POS mobile)

---

# üü© **D. Facturation g√©olocalis√©e**

Ce module permet la facturation terrain : livreurs, commerciaux itin√©rants, agents de recouvrement, techniciens‚Ä¶

## **1. Emission de documents g√©olocalis√©s**

* Devis g√©olocalis√©s
* Commandes g√©olocalis√©es
* Factures terrain g√©olocalis√©es
* Encaissements g√©olocalis√©s

## **2. Suivi terrain**

* Historique GPS
* Distance parcourue
* Localisation au moment de la facture

## **3. Preuve de passage**

* Capture de photo
* Signature client
* Enregistrement de coordonn√©es GPS

## **4. Contr√¥le anti-fraude**

* V√©rification position vs. zone commerciale
* Blocage facturation hors zone autoris√©e
* Rapport des anomalies (facturation trop √©loign√©e)

---

# **2. LISTE EXHAUSTIVE DES ACTIONS UTILISATEUR**

Je classe par module pour clart√©.

---

# üü¶ **ACTIONS ‚Äî FACTURATION**

## **DEVIS**

* Cr√©er
* Modifier
* Appliquer remise/TVA
* Ajouter ligne / supprimer ligne
* Convertir en commande
* Convertir en facture
* Supprimer
* Valider
* Imprimer / envoyer

## **COMMANDES**

* Cr√©er / modifier
* Valider
* Annuler
* Supprimer
* G√©n√©rer facture
* G√©n√©rer BL

## **FACTURES**

* Cr√©er facture
* Modifier facture non valid√©e
* Valider facture
* Annuler facture
* Supprimer facture
* Imprimer
* Envoyer par mail
* Exporter vers compta
* Appliquer remise
* Rattacher encaissements

## **BL**

* Cr√©er
* Valider
* Annuler
* Convertir en facture
* Imprimer

## **AVOIRS**

* Cr√©er
* Modifier
* Valider
* Appliquer sur facture
* Supprimer

---

# üüß **ACTIONS ‚Äî CAISSE**

## **SESSIONS**

* Ouvrir session
* D√©finir fonds
* Cl√¥turer session
* R√©ouvrir session
* Consulter sessions

## **ENCAISSEMENTS**

* Cr√©er encaissement
* Modifier encaissement
* Valider encaissement
* Annuler / supprimer encaissement
* Associer encaissement √† facture
* Imprimer re√ßu

## **D√âCAISSEMENTS**

* Cr√©er
* Valider
* Annuler
* Imprimer ticket

## **RAPPROCHEMENT**

* Voir mouvements
* Pointer caisse
* Enregistrer √©carts
* Justifier √©cart

---

# üü´ **ACTIONS ‚Äî POS**

## **VENTE**

* Scanne code-barres
* Ajouter produit panier
* Modifier quantit√©
* Supprimer ligne
* Appliquer remise POS
* Enregistrer vente / ticket
* Ticket suspendu / restaurer
* Ticket annul√©

## **√âQUIPEMENT**

* Ouvrir tiroir caisse
* Fermer tiroir caisse
* Lancer impression ticket
* Reimprimer ticket

---

# üü© **ACTIONS ‚Äî FACTURATION G√âOLOCALIS√âE**

* Activer GPS obligatoire
* Capturer position GPS lors facturation
* Capturer signature client
* Capturer photo preuve
* V√©rifier autorisation zone g√©ographique
* Consulter historique positions agents
* Modifier zone d‚Äôintervention (superviseur)
* Voir carte des ventes en temps r√©el

---

# **3. MATRICE COMPL√àTE DES PERMISSIONS**

---

## üü¶ **A. Permissions Facturation**

| Permission          | Description           | Fonction           | Type        |
| ------------------- | --------------------- | ------------------ | ----------- |
| devis.view          | Voir devis            | Devis              | Lecture     |
| devis.create        | Cr√©er devis           | Devis              | √âcriture    |
| devis.update        | Modifier devis        | Devis              | √âcriture    |
| devis.validate      | Valider devis         | Devis              | Validation  |
| devis.delete        | Supprimer devis       | Devis              | Suppression |
| devis.convert       | Convertir en commande | Devis              | Validation  |
| order.view          | Voir commandes        | Commande           | Lecture     |
| order.create        | Cr√©er commande        | Commande           | √âcriture    |
| order.update        | Modifier commande     | Commande           | √âcriture    |
| order.validate      | Valider commande      | Commande           | Validation  |
| order.cancel        | Annuler commande      | Commande           | Suppression |
| order.to_invoice    | G√©n√©rer facture       | Commande ‚Üí Facture | Validation  |
| order.to_delivery   | G√©n√©rer BL            | Commande ‚Üí BL      | Validation  |
| invoice.view        | Voir factures         | Facture            | Lecture     |
| invoice.create      | Cr√©er facture         | Facture            | √âcriture    |
| invoice.update      | Modifier facture      | Facture            | √âcriture    |
| invoice.validate    | Valider facture       | Facture            | Validation  |
| invoice.cancel      | Annuler facture       | Facture            | Suppression |
| invoice.delete      | Supprimer facture     | Facture            | Suppression |
| invoice.print       | Imprimer              | Facture            | Lecture     |
| invoice.send        | Envoyer e-mail        | Facture            | Action      |
| invoice.export      | Export comptable      | Facture            | Export      |
| delivery.view       | Voir BL               | BL                 | Lecture     |
| delivery.create     | Cr√©er BL              | BL                 | √âcriture    |
| delivery.validate   | Valider BL            | BL                 | Validation  |
| delivery.cancel     | Annuler BL            | BL                 | Suppression |
| delivery.to_invoice | Facturer BL           | BL ‚Üí Facture       | Validation  |
| creditnote.create   | Cr√©er avoir           | Avoir              | √âcriture    |
| creditnote.validate | Valider avoir         | Avoir              | Validation  |
| creditnote.apply    | Appliquer avoir       | Avoir              | Validation  |
| creditnote.delete   | Supprimer avoir       | Avoir              | Suppression |

---

## üüß **B. Permissions Caisse**

| Permission          | Description          | Fonction | Type        |
| ------------------- | -------------------- | -------- | ----------- |
| cash.session.open   | Ouvrir caisse        | Caisse   | √âcriture    |
| cash.session.close  | Cl√¥turer caisse      | Caisse   | Validation  |
| cash.session.reopen | R√©ouvrir caisse      | Caisse   | Validation  |
| cash.session.view   | Voir sessions        | Caisse   | Lecture     |
| payment.create      | Cr√©er encaissement   | Caisse   | √âcriture    |
| payment.validate    | Valider encaissement | Caisse   | Validation  |
| payment.cancel      | Annuler encaissement | Caisse   | Suppression |
| payment.delete      | Supprimer            | Caisse   | Suppression |
| payout.create       | Cr√©er d√©caissement   | Caisse   | √âcriture    |
| payout.validate     | Valider d√©caissement | Caisse   | Validation  |
| payout.cancel       | Annuler d√©caissement | Caisse   | Suppression |
| cash.reconcile      | Rapprocher caisse    | Caisse   | Validation  |
| cash.adjust         | Enregistrer √©cart    | Caisse   | √âcriture    |

---

## üü´ **C. Permissions POS**

| Permission          | Description              | Fonction | Type        |
| ------------------- | ------------------------ | -------- | ----------- |
| pos.sell            | R√©aliser vente POS       | POS      | √âcriture    |
| pos.discount        | Appliquer remise POS     | POS      | √âcriture    |
| pos.ticket.cancel   | Annuler ticket           | POS      | Suppression |
| pos.ticket.hold     | Mettre ticket en attente | POS      | √âcriture    |
| pos.ticket.restore  | Restaurer ticket         | POS      | √âcriture    |
| pos.reprint         | R√©imprimer ticket        | POS      | Lecture     |
| pos.cashdrawer.open | Ouvrir tiroir caisse     | POS      | Action      |

---

## üü© **D. Permissions Facturation G√©olocalis√©e**

| Permission        | Description                       | Fonction    | Type       |
| ----------------- | --------------------------------- | ----------- | ---------- |
| geo.enable        | Activer facturation g√©olocalis√©e  | Mobile      | √âcriture   |
| geo.capture       | Capturer position GPS             | Mobile      | Action     |
| geo.sign          | Capture signature client          | Mobile      | Action     |
| geo.photo         | Capture photo preuve              | Mobile      | Action     |
| geo.zone.validate | V√©rifier si facturation dans zone | Mobile      | Validation |
| geo.zone.override | Autoriser facturation hors zone   | Superviseur | Validation |
| geo.history.view  | Voir historique GPS               | Monitoring  | Lecture    |
| geo.map.view      | Voir carte des ventes             | Monitoring  | Lecture    |



# ‚úÖ **MATRICE DES R√îLES (Module Facturation ‚Äì POS ‚Äì Caisse ‚Äì G√©olocalis√©e)**

### **L√©gende des types d‚Äôacc√®s**

* **L = Lecture**
* **E = √âcriture / Cr√©ation**
* **M = Modification**
* **V = Validation / Encaissement / Cl√¥ture**
* **S = Suppression / Annulation**
* **A = Acc√®s interdit**

---

# üìå **1. R√¥les Types**

* **R1 ‚Äì Caissier**
* **R2 ‚Äì POS / Vendeur Comptoir**
* **R3 ‚Äì Commercial Terrain (Facturation G√©olocalis√©e)**
* **R4 ‚Äì Superviseur Point de Vente**
* **R5 ‚Äì Chef Commercial / Responsable Vente**
* **R6 ‚Äì Administrateur (Module Facturation / POS / Caisse)**

---

# üìå **2. Matrice des Permissions Par R√¥le**

## **A. Facturation / POS**

| Permission                           | Description                   | Caissier | POS | Commercial Terrain | Superviseur | Chef Commercial | Admin |
| ------------------------------------ | ----------------------------- | -------- | --- | ------------------ | ----------- | --------------- | ----- |
| **Cr√©er facture POS**                | Saisie rapide au comptoir     | E        | E   | A                  | E           | E               | E     |
| **Cr√©er facture comptoir classique** | Facture standard avec remises | E        | E   | A                  | E           | E               | E     |
| **Cr√©er facture g√©olocalis√©e**       | Facture enregistr√©e avec GPS  | A        | A   | E                  | E           | E               | E     |
| **Modifier facture non valid√©e**     | Avant encaissement            | M        | M   | M                  | M           | M               | M     |
| **Valider facture**                  | Finaliser la vente            | V        | V   | V                  | V           | V               | V     |
| **Annuler facture**                  | Annulation apr√®s erreur       | S        | S   | A                  | V/S         | V/S             | V/S   |
| **Appliquer remise standard**        | Remise max d√©finie            | V        | V   | V                  | V           | V               | V     |
| **Appliquer remise exceptionnelle**  | Remise > limite               | A        | A   | A                  | V           | V               | V     |
| **Consulter factures**               | Historique                    | L        | L   | L                  | L           | L               | L     |
| **R√©imprimer facture**               | Seconde impression            | V        | V   | V                  | V           | V               | V     |
| **Transf√©rer facture en livraison**  | Lier facture √† livraison      | A        | M   | V                  | V           | V               | V     |
| **Cr√©er commande client**            | Avant-facture                 | A        | E   | E                  | E           | E               | E     |
| **Convertir commande ‚Üí facture**     | Workflow vente                | V        | V   | V                  | V           | V               | V     |

---

## **B. Caisse**

| Permission                       | Description            | Caissier | POS | Commercial Terrain | Superviseur | Chef Commercial | Admin |
| -------------------------------- | ---------------------- | -------- | --- | ------------------ | ----------- | --------------- | ----- |
| **Ouvrir une caisse**            | D√©marrer session       | V        | V   | A                  | V           | V               | V     |
| **Cl√¥turer une caisse**          | Fermer session         | V        | V   | A                  | V           | V               | V     |
| **Saisir encaissement**          | Esp√®ces, Mobile Money‚Ä¶ | E        | E   | E                  | V           | V               | V     |
| **Saisir remboursement**         | Retour client          | S        | S   | A                  | V           | V               | V     |
| **Suivi √©tat caisse**            | Montants et √©carts     | L        | L   | A                  | L/V         | L/V             | L/V   |
| **Corriger mouvement de caisse** | Correction erreur      | A        | A   | A                  | M           | M               | M     |
| **G√©n√©rer rapport Z / X**        | Fin de journ√©e         | V        | V   | A                  | V           | V               | V     |

---

## **C. Paiements / Encaissements externes**

| Permission                      | Description            | Caissier | POS | Commercial Terrain | Superviseur | Chef Commercial | Admin |
| ------------------------------- | ---------------------- | -------- | --- | ------------------ | ----------- | --------------- | ----- |
| **Enregistrer paiement client** | Sur facture en attente | E        | E   | E                  | E           | E               | E     |
| **Valider paiement**            | Contr√¥le supervision   | V        | V   | A                  | V           | V               | V     |
| **Modifier paiement**           | Avant validation       | M        | M   | M                  | M           | M               | M     |
| **Annuler paiement**            | Apr√®s validation       | A        | A   | A                  | S           | S               | S     |
| **G√©rer acomptes**              | Paiements partiels     | E        | E   | E                  | E           | E               | E     |

---

## **D. Clients & Tarification**

| Permission                        | Description           | Caissier | POS | Commercial Terrain | Superviseur | Chef Commercial | Admin |
| --------------------------------- | --------------------- | -------- | --- | ------------------ | ----------- | --------------- | ----- |
| **Cr√©er client simple**           | Depuis POS            | E        | E   | E                  | E           | E               | E     |
| **Cr√©er client complet**          | Champs avanc√©s        | A        | M   | M                  | E           | E               | E     |
| **Modifier fiche client**         | Donn√©es g√©n√©rales     | A        | A   | M                  | M           | M               | M     |
| **Attribuer cat√©gorie tarifaire** | Grossiste, revendeur‚Ä¶ | A        | A   | A                  | V           | V               | V     |
| **Consulter comptes clients**     | Solde, historique     | L        | L   | L                  | L           | L               | L     |
| **Mettre en interdit de vente**   | Blocage client        | A        | A   | A                  | V           | V               | V     |

---

## **E. Produits / Catalogue**

| Permission                     | Description            | Caissier | POS | Commercial Terrain | Superviseur | Chef Commercial | Admin |
| ------------------------------ | ---------------------- | -------- | --- | ------------------ | ----------- | --------------- | ----- |
| **Consulter catalogue**        | Produits / prix        | L        | L   | L                  | L           | L               | L     |
| **Modifier prix**              | Prix standard          | A        | A   | A                  | A           | V               | V     |
| **Modifier remise max**        | Gestion des politiques | A        | A   | A                  | A           | V               | V     |
| **Activer/D√©sactiver produit** | Visibilit√©             | A        | A   | A                  | M           | V               | V     |

---

## **F. Facturation G√©olocalis√©e**

| Permission                               | Description              | Caissier | POS | Commercial Terrain | Superviseur | Chef Commercial | Admin |
| ---------------------------------------- | ------------------------ | -------- | --- | ------------------ | ----------- | --------------- | ----- |
| **Activer GPS obligatoire**              | Mode ‚Äúforce location‚Äù    | A        | A   | V                  | V           | V               | V     |
| **Valider position GPS**                 | Preuve de vente sur site | A        | A   | V                  | V           | V               | V     |
| **Voir carte des ventes**                | Map journali√®re          | A        | A   | L                  | L/V         | L/V             | L/V   |
| **Contr√¥ler exactitude g√©olocalisation** | Anti-fraude              | A        | A   | A                  | V           | V               | V     |

---

## **G. Param√©trage & Administration**


| Permission | Description | Caissier | POS | Commercial Terrain | Superviseur | Chef Commercial | Admin |
|-----------|-------------|-----|---------------------|-------------|------------------|--------|
| Cr√©er/Modifier s√©ries de factures | Pr√©fixes, s√©quences | A | A | A | A | A | M |
| Configurer moyens de paiement | Esp√®ces, OM, MoMo | A | A | A | M | M | M |
| Configurer r√®gles de remise | Plafonds, exceptions | A | A | A | M | V | M |
| Cr√©er/Modifier r√¥les et permissions | S√©curit√© module | A | A | A | A | A | V/M |
| Acc√©der √† tous les rapports | Reporting global | L | L | L | L | L | V |
---

# üìå **R√©sum√© rapide des r√¥les**

### **Caissier**

‚û°Ô∏è Ventes simples, encaissements, r√©impression, cl√¥ture caisse
‚ùå Pas de remises exceptionnelles, pas d‚Äôannulation avanc√©e

### **POS / Vendeur Comptoir**

‚û°Ô∏è Similaire au caissier + gestion commandes
‚ùå Pas de supervision, pas de remises exceptionnelles

### **Commercial Terrain**

‚û°Ô∏è Facturation g√©olocalis√©e, encaissement terrain
‚ùå Pas d‚Äôannulation, pas de gestion caisse

### **Superviseur PDV**

‚û°Ô∏è Contr√¥le, validation remises, annulations, rapports
‚ùå Pas de param√©trage avanc√©

### **Chef Commercial**

‚û°Ô∏è Gestion des tarifs, remises, performance
‚ùå Pas de configuration technique du module

### **Administrateur**

‚û°Ô∏è Acc√®s total : param√©trage, s√©curit√©, tarifs, rapports avanc√©s

