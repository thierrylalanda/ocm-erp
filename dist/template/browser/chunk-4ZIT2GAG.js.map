{
  "version": 3,
  "sources": ["src/app/modules/manage-users/application/use-cases/get-roles.use-case.token.ts", "src/app/modules/manage-users/domain/repositories/role.repository.token.ts", "src/app/modules/manage-users/infrastructure/repositories/http-role.repository.ts", "src/app/modules/manage-users/application/use-cases/get-roles.use-case.ts"],
  "sourcesContent": ["import { InjectionToken } from '@angular/core';\nimport { GetRolesUseCase } from './get-roles.use-case';\n\n/**\n * Token d'injection pour le use case de récupération des rôles\n */\nexport const GET_ROLES_USE_CASE = new InjectionToken<GetRolesUseCase>('GetRolesUseCase');\n", "import { InjectionToken } from '@angular/core';\nimport { RoleRepository } from './role.repository';\n\n/**\n * Token d'injection pour le repository des rôles\n */\nexport const ROLE_REPOSITORY = new InjectionToken<RoleRepository>('RoleRepository');\n", "import { Injectable, inject } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../../../../environments/environment';\nimport { RoleRepository } from '../../domain/repositories/role.repository';\nimport { CreateRoleDto, RoleResponseDto, UpdateRoleDto, CopyRoleDto } from '../../application/dto/create-role.dto';\n\n@Injectable()\nexport class HttpRoleRepository implements RoleRepository {\n  private http = inject(HttpClient);\n  private baseUrl = `${environment.api}security/roles`;\n\n  create(role: CreateRoleDto): Observable<RoleResponseDto> {\n    return this.http.post<RoleResponseDto>(this.baseUrl, role);\n  }\n\n  findAllBySociete(societeId: number): Observable<RoleResponseDto[]> {\n    return this.http.get<RoleResponseDto[]>(`${this.baseUrl}/societe/${societeId}`);\n  }\n\n  findById(id: number): Observable<RoleResponseDto> {\n    return this.http.get<RoleResponseDto>(`${this.baseUrl}/${id}`);\n  }\n\n  update(id: number, role: UpdateRoleDto): Observable<RoleResponseDto> {\n    return this.http.put<RoleResponseDto>(`${this.baseUrl}/${id}`, role);\n  }\n\n  delete(id: number): Observable<void> {\n    return this.http.delete<void>(`${this.baseUrl}/${id}`);\n  }\n\n  copy(id: number, copyData: CopyRoleDto): Observable<RoleResponseDto> {\n    return this.http.post<RoleResponseDto>(`${this.baseUrl}/${id}/copy`, copyData);\n  }\n}\n", "import { inject, Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { RoleResponseDto } from '../dto/create-role.dto';\nimport { ROLE_REPOSITORY } from '../../domain/repositories/role.repository.token';\n\n/**\n * Interface pour le use case de récupération des rôles\n */\nexport interface GetRolesUseCase {\n  execute(societeId: number): Observable<RoleResponseDto[]>;\n}\n\n/**\n * Implémentation du use case de récupération des rôles\n */\n@Injectable()\nexport class GetRolesUseCaseImpl implements GetRolesUseCase {\n  private roleRepository = inject(ROLE_REPOSITORY);\n\n  execute(societeId: number): Observable<RoleResponseDto[]> {\n    // Validation\n    if (societeId === undefined || societeId === null) {\n      throw new Error('L\\'ID de la société est obligatoire');\n    }\n\n    // Appel au repository\n    return this.roleRepository.findAllBySociete(societeId);\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;AAMO,IAAM,qBAAqB,IAAI,eAAgC,iBAAiB;;;ACAhF,IAAM,kBAAkB,IAAI,eAA+B,gBAAgB;;;ACE5E,IAAO,qBAAP,MAAO,oBAAkB;EACrB,OAAO,OAAO,UAAU;EACxB,UAAU,GAAG,YAAY,GAAG;EAEpC,OAAO,MAAmB;AACxB,WAAO,KAAK,KAAK,KAAsB,KAAK,SAAS,IAAI;EAC3D;EAEA,iBAAiB,WAAiB;AAChC,WAAO,KAAK,KAAK,IAAuB,GAAG,KAAK,OAAO,YAAY,SAAS,EAAE;EAChF;EAEA,SAAS,IAAU;AACjB,WAAO,KAAK,KAAK,IAAqB,GAAG,KAAK,OAAO,IAAI,EAAE,EAAE;EAC/D;EAEA,OAAO,IAAY,MAAmB;AACpC,WAAO,KAAK,KAAK,IAAqB,GAAG,KAAK,OAAO,IAAI,EAAE,IAAI,IAAI;EACrE;EAEA,OAAO,IAAU;AACf,WAAO,KAAK,KAAK,OAAa,GAAG,KAAK,OAAO,IAAI,EAAE,EAAE;EACvD;EAEA,KAAK,IAAY,UAAqB;AACpC,WAAO,KAAK,KAAK,KAAsB,GAAG,KAAK,OAAO,IAAI,EAAE,SAAS,QAAQ;EAC/E;;qCA1BW,qBAAkB;EAAA;4EAAlB,qBAAkB,SAAlB,oBAAkB,UAAA,CAAA;;;sEAAlB,oBAAkB,CAAA;UAD9B;;;;;ACSK,IAAO,sBAAP,MAAO,qBAAmB;EACtB,iBAAiB,OAAO,eAAe;EAE/C,QAAQ,WAAiB;AAEvB,QAAI,cAAc,UAAa,cAAc,MAAM;AACjD,YAAM,IAAI,MAAM,0CAAqC;IACvD;AAGA,WAAO,KAAK,eAAe,iBAAiB,SAAS;EACvD;;qCAXW,sBAAmB;EAAA;4EAAnB,sBAAmB,SAAnB,qBAAmB,UAAA,CAAA;;;sEAAnB,qBAAmB,CAAA;UAD/B;;;",
  "names": []
}
