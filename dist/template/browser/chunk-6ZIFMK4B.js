import{la as r}from"./chunk-ODQYRIBQ.js";import{f as n}from"./chunk-EQDQRRRY.js";var D=new r("UserRepository"),a=class{findWithOptions(e){return n(this,null,function*(){let t=yield this.findAllPaginated(e);return{users:t.content.map(i=>this.mapResponseToUser(i)),total:t.totalElements,hasMore:t.page<t.totalPages-1,currentPage:t.page,totalPages:t.totalPages}})}countByStatus(e){return n(this,null,function*(){return(yield this.findByStatus(e)).totalElements})}countBySite(e){return n(this,null,function*(){return(yield this.findBySite(e)).totalElements})}countByDepartment(e){return n(this,null,function*(){return(yield this.findByDepartment(e)).totalElements})}findActiveUsers(e){return n(this,null,function*(){return this.findByStatus("ACTIF",e)})}findInactiveUsers(e){return n(this,null,function*(){return this.findByStatus("INACTIF",e)})}};var A=new r("GetUsersUseCase");var o=class s{constructor(e,t,i,d,p,u,g,l,U,h,c,P,b,I,y,C,x,N,f,R,w,S){this.id=e;this.nomPrenom=t;this.telephone=i;this.adresse=d;this.userName=p;this.email=u;this.pwdText=g;this.statut=l;this.societeId=U;this.societeNom=h;this.siteId=c;this.siteNom=P;this.departementId=b;this.departementNom=I;this.derniereConnexion=y;this.tentativesConnexion=C;this.photo=x;this.signature=N;this.langue=f;this.dateCreation=R;this.permissions=w;this.roles=S}static create(e){let t=new Date,i={value:0};return new s(e.id,e.nomPrenom,e.telephone,e.adresse,e.userName,e.email,e.pwdText,e.statut,e.societeId,"",e.siteId,"",e.departementId,"",null,0,e.photo,e.signature,e.langue,t,[],[])}update(e){return new s(this.id,e.nomPrenom??this.nomPrenom,e.telephone??this.telephone,e.adresse??this.adresse,e.userName??this.userName,e.email??this.email,this.pwdText,e.statut??this.statut,this.societeId,this.societeNom,e.siteId??this.siteId,this.siteNom,e.departementId??this.departementId,this.departementNom,this.derniereConnexion,this.tentativesConnexion,e.photo??this.photo,e.signature??this.signature,e.langue??this.langue,this.dateCreation,[],[])}deactivate(){return new s(this.id,this.nomPrenom,this.telephone,this.adresse,this.userName,this.email,this.pwdText,"INACTIF",this.societeId,this.societeNom,this.siteId,this.siteNom,this.departementId,this.departementNom,this.derniereConnexion,this.tentativesConnexion,this.photo,this.signature,this.langue,this.dateCreation,[],[])}activate(){return new s(this.id,this.nomPrenom,this.telephone,this.adresse,this.userName,this.email,this.pwdText,"ACTIF",this.societeId,this.societeNom,this.siteId,this.siteNom,this.departementId,this.departementNom,this.derniereConnexion,this.tentativesConnexion,this.photo,this.signature,this.langue,this.dateCreation,[],[])}recordLogin(){return new s(this.id,this.nomPrenom,this.telephone,this.adresse,this.userName,this.email,this.pwdText,this.statut,this.societeId,this.societeNom,this.siteId,this.siteNom,this.departementId,this.departementNom,new Date,this.tentativesConnexion+1,this.photo,this.signature,this.langue,this.dateCreation,[],[])}isActive(){return this.statut==="ACTIF"}getFullName(){return this.nomPrenom}getIdValue(){return this.id}};var m=class{static toCreateCommand(e){return{nomPrenom:e.nomPrenom,telephone:e.telephone,adresse:e.adresse,userName:e.userName,password:e.password,email:e.email,pwdText:e.pwdText,societeId:e.societeId,siteId:e.siteId,departementId:e.departementId,statut:e.statut,photo:e.photo,signature:e.signature,langue:e.langue}}static toUpdateCommand(e){return{nomPrenom:e.nomPrenom,telephone:e.telephone,adresse:e.adresse,userName:e.userName,email:e.email,statut:e.statut,siteId:e.siteId,societeId:e.societeId,departementId:e.departementId,photo:e.photo,signature:e.signature,langue:e.langue}}static toUser(e){return{id:{value:e.id},nomPrenom:e.nomPrenom,telephone:e.telephone,adresse:e.adresse,userName:e.userName,email:e.email,pwdText:e.pwdText,statut:e.statut,societeId:e.societeId,societeNom:e.societeNom,siteId:e.siteId,siteNom:e.siteNom,departementId:e.departementId,departementNom:e.departementNom,derniereConnexion:e.derniereConnexion?new Date(e.derniereConnexion):null,tentativesConnexion:e.tentativesConnexion,photo:e.photo,signature:e.signature,langue:e.langue,dateCreation:new Date(e.dateCreation)}}static toResponseDto(e){return{id:e.id||0,nomPrenom:e.nomPrenom,telephone:e.telephone,adresse:e.adresse,userName:e.userName,email:e.email,pwdText:e.pwdText,statut:e.statut,societeId:e.societeId,societeNom:e.societeNom||"",siteId:e.siteId,siteNom:e.siteNom||"",departementId:e.departementId,departementNom:e.departementNom||"",derniereConnexion:e.derniereConnexion?e.derniereConnexion:null,tentativesConnexion:e.tentativesConnexion||0,photo:e.photo,signature:e.signature,langue:e.langue,dateCreation:e.dateCreation?e.dateCreation.toISOString():new Date().toISOString(),roles:e.roles||[],permissions:e.permissions||[]}}static toPagedResponseDto(e){return{content:e.content?.map(t=>this.toResponseDto(t))||[],page:e.page||0,size:e.size||10,totalElements:e.totalElements||0,totalPages:e.totalPages||0}}};export{D as a,a as b,A as c,o as d,m as e};
