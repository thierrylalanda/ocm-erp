import{a as pe}from"./chunk-H5RQM42I.js";import{b as ae}from"./chunk-27KQ6NAF.js";import{C as se,b as Q,d as W,f as h,h as X,i as Z,j as ee,n as te,o as ie,q as oe,r as re,v as ne,z as le}from"./chunk-OZCTR5Q5.js";import{b as K}from"./chunk-6P5VJYPL.js";import"./chunk-VLYMLFWW.js";import{f as J}from"./chunk-5IGNUQZL.js";import"./chunk-G64D4X4E.js";import{c as z}from"./chunk-HOOCBFFS.js";import{k as q,l as Y,y as H}from"./chunk-E22WOTPK.js";import{$b as O,Gc as R,Ic as M,Kb as j,Rb as d,Sb as o,Sc as s,Tb as r,Tc as a,Ub as m,Wc as V,fc as g,ha as _,hb as i,hc as v,ka as C,ma as b,ra as S,rc as G,sa as I,ub as A,vc as $,wc as l,xc as c,yc as u,zb as x}from"./chunk-RKWTZGMB.js";import{a as y,b as T}from"./chunk-EQDQRRRY.js";var k=new C("CreateRoleUseCase");var U=new C("GetRolesUseCase");var L=new C("COPY_ROLE_USE_CASE");var E=new C("RoleRepository");var F=class n{roleRepository=b(E);execute(t){return this.validateRole(t),this.roleRepository.create(t)}validateRole(t){if(!t.roleCode||t.roleCode.trim().length===0)throw new Error("Le code du r\xF4le est obligatoire");if(!t.roleNom||t.roleNom.trim().length===0)throw new Error("Le nom du r\xF4le est obligatoire");if(t.roleNiveau===void 0||t.roleNiveau===null)throw new Error("Le niveau du r\xF4le est obligatoire");if(t.societeId===void 0||t.societeId===null)throw new Error("L'ID de la soci\xE9t\xE9 est obligatoire")}static \u0275fac=function(e){return new(e||n)};static \u0275prov=_({token:n,factory:n.\u0275fac})};var w=class n{roleRepository=b(E);execute(t){if(t==null)throw new Error("L'ID de la soci\xE9t\xE9 est obligatoire");return this.roleRepository.findAllBySociete(t)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=_({token:n,factory:n.\u0275fac})};var P=class n{roleRepository=b(E);execute(t,e){return this.validateCopyData(e),this.roleRepository.copy(t,e)}validateCopyData(t){if(!t.newRoleCode||t.newRoleCode.trim().length===0)throw new Error("Le code du nouveau r\xF4le est obligatoire");if(!t.newRoleNom||t.newRoleNom.trim().length===0)throw new Error("Le nom du nouveau r\xF4le est obligatoire")}static \u0275fac=function(e){return new(e||n)};static \u0275prov=_({token:n,factory:n.\u0275fac})};var B=class n{http=b(z);baseUrl=`${pe.api}security/roles`;create(t){return this.http.post(this.baseUrl,t)}findAllBySociete(t){return this.http.get(`${this.baseUrl}/societe/${t}`)}findById(t){return this.http.get(`${this.baseUrl}/${t}`)}update(t,e){return this.http.put(`${this.baseUrl}/${t}`,e)}delete(t){return this.http.delete(`${this.baseUrl}/${t}`)}copy(t,e){return this.http.post(`${this.baseUrl}/${t}/copy`,e)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=_({token:n,factory:n.\u0275fac})};function de(n,t){n&1&&(o(0,"div",66)(1,"div",67)(2,"span",68),l(3,"Loading..."),r()(),o(4,"p",69),l(5),s(6,"translate"),r()()),n&2&&(i(5),c(a(6,1,"rolesPermissions.loading")))}function ce(n,t){if(n&1){let e=O();o(0,"div",70),m(1,"i",71),l(2),o(3,"button",72),g("click",function(){S(e);let f=v();return I(f.loadRoles())}),l(4),s(5,"translate"),r()()}if(n&2){let e=v();i(2),u(" ",e.error," "),i(2),c(a(5,2,"common.retry"))}}function ue(n,t){n&1&&(o(0,"div",73),m(1,"i",74),l(2),s(3,"translate"),m(4,"button",75),r()),n&2&&(i(2),u(" ",a(3,1,"rolesPermissions.saveSuccess")," "))}function ve(n,t){if(n&1&&(o(0,"span"),l(1),r()),n&2){let e=v().$implicit,p=v(2);j("data-bs-toggle",e.roleDescription.length>50?"popover":null)("data-bs-trigger",e.roleDescription.length>50?"hover focus":null)("data-bs-placement",e.roleDescription.length>50?"top":null)("data-bs-content",e.roleDescription.length>50?e.roleDescription:null)("title",e.roleDescription.length>50?e.roleDescription:null),i(),u(" ",p.truncateDescription(e.roleDescription)," ")}}function fe(n,t){n&1&&l(0,"-")}function xe(n,t){if(n&1){let e=O();o(0,"tr")(1,"td"),l(2),r(),o(3,"td"),l(4),r(),o(5,"td"),x(6,ve,2,6,"span",82)(7,fe,1,0,"ng-template",null,0,V),r(),o(9,"td"),l(10),r(),o(11,"td")(12,"span"),l(13),r()(),o(14,"td"),l(15),r(),o(16,"td")(17,"a",83),m(18,"i",84),l(19),s(20,"translate"),r()(),o(21,"td",85)(22,"a",86),m(23,"i",87),r(),o(24,"ul",7)(25,"li")(26,"a",88),g("click",function(){let f=S(e).$implicit,N=v(2);return I(N.openEditModal(f))}),m(27,"i",89),l(28),s(29,"translate"),r()(),o(30,"li")(31,"a",90),g("click",function(){let f=S(e).$implicit,N=v(2);return I(N.openCopyModal(f))}),m(32,"i",91),l(33),s(34,"translate"),r()(),o(35,"li")(36,"a",92),m(37,"i",93),l(38),s(39,"translate"),r()()()()()}if(n&2){let e=t.$implicit,p=G(8),f=v(2);i(2),c(e.roleCode),i(2),c(e.roleNom),i(2),d("ngIf",e.roleDescription)("ngIfElse",p),i(4),c(e.roleNiveau),i(2),$(f.getRoleStatusClass(e)),i(),c(f.getRoleStatus(e)),i(2),c(f.formatDate(e.roleDateCreation)),i(2),d("routerLink",f.routes.permission(e.id)),i(2),u(" ",a(20,14,"rolesPermissions.permissions")," "),i(9),u("",a(29,16,"rolesPermissions.edit")," "),i(5),u("",a(34,18,"rolesPermissions.copy")," "),i(5),u("",a(39,20,"rolesPermissions.delete")," ")}}function he(n,t){n&1&&(o(0,"tr")(1,"td",94),m(2,"i",95),o(3,"p",96),l(4),s(5,"translate"),r()()()),n&2&&(i(4),c(a(5,1,"rolesPermissions.noRoles")))}function be(n,t){if(n&1&&(o(0,"div",76)(1,"table",77)(2,"thead",78)(3,"tr")(4,"th"),l(5),s(6,"translate"),r(),o(7,"th"),l(8),s(9,"translate"),r(),o(10,"th"),l(11),s(12,"translate"),r(),o(13,"th"),l(14),s(15,"translate"),r(),o(16,"th"),l(17),s(18,"translate"),r(),o(19,"th"),l(20),s(21,"translate"),r(),m(22,"th",79)(23,"th",79),r()(),o(24,"tbody"),x(25,xe,40,22,"tr",80)(26,he,6,3,"tr",81),r()()()),n&2){let e=v();i(5),c(a(6,8,"rolesPermissions.roleName")),i(3),c(a(9,10,"rolesPermissions.roleName")),i(3),c(a(12,12,"rolesPermissions.description")),i(3),c(a(15,14,"rolesPermissions.level")),i(3),c(a(18,16,"rolesPermissions.status")),i(3),c(a(21,18,"rolesPermissions.createdDate")),i(5),d("ngForOf",e.roles),i(),d("ngIf",e.roles.length===0&&!e.loading)}}function ge(n,t){if(n&1&&(o(0,"div",97),l(1),r()),n&2){let e=v();i(),u(" ",e.getFieldError("roleCode")," ")}}function Re(n,t){if(n&1&&(o(0,"div",97),l(1),r()),n&2){let e=v();i(),u(" ",e.getFieldError("roleNom")," ")}}function _e(n,t){if(n&1&&(o(0,"div",97),l(1),r()),n&2){let e=v();i(),u(" ",e.getFieldError("roleNiveau")," ")}}function Ce(n,t){n&1&&m(0,"span",98)}function Ee(n,t){n&1&&(o(0,"div",73),m(1,"i",74),l(2),s(3,"translate"),m(4,"button",75),r()),n&2&&(i(2),u(" ",a(3,1,"permissions.roleForm.successEdit")," "))}function ye(n,t){if(n&1&&(o(0,"div",70),m(1,"i",71),l(2),r()),n&2){let e=v();i(2),u(" ",e.editError," ")}}function Se(n,t){if(n&1&&(o(0,"div",97),l(1),r()),n&2){let e=v();i(),u(" ",e.getEditFieldError("roleNom")," ")}}function Ie(n,t){if(n&1&&(o(0,"div",97),l(1),r()),n&2){let e=v();i(),u(" ",e.getEditFieldError("roleNiveau")," ")}}function Fe(n,t){n&1&&m(0,"span",98)}function De(n,t){n&1&&(o(0,"div",73),m(1,"i",74),l(2),s(3,"translate"),m(4,"button",75),r()),n&2&&(i(2),u(" ",a(3,1,"permissions.roleForm.successCopy")," "))}function we(n,t){if(n&1&&(o(0,"div",70),m(1,"i",71),l(2),r()),n&2){let e=v();i(2),u(" ",e.copyError," ")}}function Pe(n,t){if(n&1&&(o(0,"div",97),l(1),r()),n&2){let e=v();i(),u(" ",e.getCopyFieldError("newRoleCode")," ")}}function Be(n,t){if(n&1&&(o(0,"div",97),l(1),r()),n&2){let e=v();i(),u(" ",e.getCopyFieldError("newRoleNom")," ")}}function Ne(n,t){n&1&&m(0,"span",98)}var me=class n{fb=b(le);createRoleUseCase=b(k);getRolesUseCase=b(U);copyRoleUseCase=b(L);authService=b(K);roleForm;editForm;copyForm;roles=[];loading=!1;error=null;success=!1;editSuccess=!1;editError=null;copySuccess=!1;copyError=null;selectedRole=null;routes={permission:t=>`/app/manage-users/permission/${t}`};ngOnInit(){this.initForm(),this.initEditForm(),this.initCopyForm(),this.loadRoles()}initForm(){this.roleForm=this.fb.group({roleCode:["",[h.required,h.minLength(3)]],roleNom:["",[h.required,h.minLength(3)]],roleDescription:[""],roleNiveau:[1,[h.required,h.min(1)]],roleActif:[!0]})}initEditForm(){this.editForm=this.fb.group({roleNom:["",[h.required,h.minLength(3)]],roleDescription:[""],roleNiveau:[1,[h.required,h.min(1)]],roleActif:[!0]})}loadRoles(){this.loading=!0,this.error=null;let t=this.authService.user.societeId;this.getRolesUseCase.execute(t).subscribe({next:e=>{this.roles=e,this.loading=!1},error:e=>{console.error("Erreur lors du chargement des r\xF4les:",e),this.error="Erreur lors du chargement des r\xF4les",this.loading=!1}})}onSubmit(){if(this.roleForm.invalid){this.markFormGroupTouched(this.roleForm);return}this.loading=!0,this.error=null,this.success=!1;let t=T(y({},this.roleForm.value),{societeId:1});this.createRoleUseCase.execute(t).subscribe({next:e=>{this.success=!0,this.roles.push(e),this.roleForm.reset({roleNiveau:1,roleActif:!0}),this.loading=!1},error:e=>{console.error("Erreur lors de la cr\xE9ation du r\xF4le:",e),this.error=e.message||"Erreur lors de la cr\xE9ation du r\xF4le",this.loading=!1}})}markFormGroupTouched(t){Object.values(t.controls).forEach(e=>{e.markAsTouched(),e instanceof ee&&this.markFormGroupTouched(e)})}isFieldInvalid(t){let e=this.roleForm.get(t);return e?e.invalid&&(e.dirty||e.touched):!1}getFieldError(t){let e=this.roleForm.get(t);return!e||!e.errors?"":e.errors.required?"Ce champ est obligatoire":e.errors.minlength?`Minimum ${e.errors.minlength.requiredLength} caract\xE8res`:e.errors.min?`La valeur minimale est ${e.errors.min.min}`:"Valeur invalide"}formatDate(t){return new Date(t).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}getRoleStatus(t){return t.roleActif?"Actif":"Inactif"}getRoleStatusClass(t){return t.roleActif?"badge bg-success":"badge bg-danger"}initCopyForm(){this.copyForm=this.fb.group({newRoleCode:["",[h.required,h.minLength(3)]],newRoleNom:["",[h.required,h.minLength(3)]]})}openEditModal(t){this.selectedRole=t,this.editForm.patchValue({roleNom:t.roleNom,roleDescription:t.roleDescription||"",roleNiveau:t.roleNiveau,roleActif:t.roleActif}),this.editError=null,this.editSuccess=!1}closeEditModal(){this.selectedRole=null,this.editForm.reset({roleNiveau:1,roleActif:!0}),this.editError=null,this.editSuccess=!1}onEditSubmit(){if(this.editForm.invalid||!this.selectedRole){this.markFormGroupTouched(this.editForm);return}this.loading=!0,this.editError=null,this.editSuccess=!1;let t=T(y({},this.editForm.value),{id:this.selectedRole.id,societeId:1});setTimeout(()=>{let e=this.roles.findIndex(p=>p.id===this.selectedRole.id);e!==-1&&(this.roles[e]=y(y({},this.roles[e]),t)),this.editSuccess=!0,this.loading=!1,setTimeout(()=>{this.closeEditModal()},2e3)},1e3)}isEditFieldInvalid(t){let e=this.editForm.get(t);return e?e.invalid&&(e.dirty||e.touched):!1}getEditFieldError(t){let e=this.editForm.get(t);return!e||!e.errors?"":e.errors.required?"Ce champ est obligatoire":e.errors.minlength?`Minimum ${e.errors.minlength.requiredLength} caract\xE8res`:e.errors.min?`La valeur minimale est ${e.errors.min.min}`:"Valeur invalide"}openCopyModal(t){this.selectedRole=t,this.copyForm.reset({newRoleCode:`${t.roleCode}_COPY`,newRoleNom:`${t.roleNom} (Copie)`}),this.copyError=null,this.copySuccess=!1}closeCopyModal(){this.selectedRole=null,this.copyForm.reset(),this.copyError=null,this.copySuccess=!1}onCopySubmit(){if(this.copyForm.invalid||!this.selectedRole){this.markFormGroupTouched(this.copyForm);return}this.loading=!0,this.copyError=null,this.copySuccess=!1;let t=this.copyForm.value;this.copyRoleUseCase.execute(this.selectedRole.id,t).subscribe({next:e=>{this.copySuccess=!0,this.roles.push(e),this.loading=!1,setTimeout(()=>{this.closeCopyModal()},2e3)},error:e=>{console.error("Erreur lors de la copie du r\xF4le:",e),this.copyError=e.message||"Erreur lors de la copie du r\xF4le",this.loading=!1}})}isCopyFieldInvalid(t){let e=this.copyForm.get(t);return e?e.invalid&&(e.dirty||e.touched):!1}getCopyFieldError(t){let e=this.copyForm.get(t);return!e||!e.errors?"":e.errors.required?"Ce champ est obligatoire":e.errors.minlength?`Minimum ${e.errors.minlength.requiredLength} caract\xE8res`:"Valeur invalide"}truncateDescription(t){if(!t)return"-";let e=50;return t.length<=e?t:t.substring(0,e)+"..."}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=A({type:n,selectors:[["app-roles-permissions"]],features:[M([{provide:E,useClass:B},{provide:k,useClass:F},{provide:U,useClass:w},{provide:L,useClass:P}])],decls:218,vars:159,consts:[["noDescription",""],[1,"content-two"],[1,"d-flex","d-block","align-items-center","justify-content-between","flex-wrap","gap-3","mb-3"],[1,"d-flex","my-xl-auto","right-content","align-items-center","flex-wrap","gap-2"],[1,"dropdown"],["href","javascript:void(0);","data-bs-toggle","dropdown",1,"btn","btn-outline-white","d-inline-flex","align-items-center"],[1,"isax","isax-export-1","me-1"],[1,"dropdown-menu"],["href","javascript:void(0);",1,"dropdown-item"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#add_modal",1,"btn","btn-primary","d-flex","align-items-center"],[1,"isax","isax-add-circle5","me-1"],[1,"row"],[1,"col-md-3"],[1,"input-group","mb-3"],[1,"input-group-text","bg-white","border-end-0"],[1,"isax","isax-search-normal","fs-12"],["type","text",1,"form-control","border-start-0","ps-0","bg-white",3,"placeholder"],["class","text-center py-5",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","alert alert-success alert-dismissible fade show","role","alert",4,"ngIf"],["class","table-responsive table-nowrap",4,"ngIf"],["id","add_modal",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-md"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","btn-close-modal","custom-btn-close"],[1,"fa-solid","fa-x"],[3,"ngSubmit","formGroup"],[1,"modal-body"],[1,"mb-3"],[1,"form-label"],[1,"text-danger"],["type","text","formControlName","roleCode",1,"form-control",3,"placeholder"],["class","text-danger small mt-1",4,"ngIf"],["type","text","formControlName","roleNom",1,"form-control",3,"placeholder"],["formControlName","roleDescription","rows","2",1,"form-control",3,"placeholder"],["type","number","formControlName","roleNiveau","min","1",1,"form-control"],[1,"mb-0"],[1,"form-check","form-switch"],["type","checkbox","role","switch","formControlName","roleActif","id","roleActif",1,"form-check-input"],["for","roleActif",1,"form-check-label"],[1,"modal-footer","d-flex","align-items-center","justify-content-between","gap-1"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-white"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["id","edit_modal",1,"modal","fade"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","btn-close-modal","custom-btn-close",3,"click"],["type","text","readonly","",1,"form-control","bg-light",3,"value"],[1,"text-muted","small","mt-1"],["type","checkbox","role","switch","formControlName","roleActif","id","editRoleActif",1,"form-check-input"],["for","editRoleActif",1,"form-check-label"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-white",3,"click"],["id","delete_modal",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-sm"],[1,"modal-body","text-center"],["src","assets/img/icons/delete.svg","alt","img"],[1,"mb-1"],[1,"d-flex","justify-content-center"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-outline-white","me-3"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-primary"],["id","copy_modal",1,"modal","fade"],["type","text","formControlName","newRoleCode",1,"form-control",3,"placeholder"],["type","text","formControlName","newRoleNom",1,"form-control",3,"placeholder"],[1,"text-muted","small"],[1,"isax","isax-info-circle","me-1"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"],["role","alert",1,"alert","alert-danger"],[1,"isax","isax-danger","me-2"],["type","button",1,"btn","btn-sm","btn-outline-danger","ms-2",3,"click"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"isax","isax-tick-circle","me-2"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],[1,"table-responsive","table-nowrap"],[1,"table","border","mb-0"],[1,"table-light"],[1,"no-sort"],[4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"btn","btn-outline-white","d-inline-flex","align-items-center",3,"routerLink"],[1,"isax","isax-shield-tick","me-1"],[1,"action-item"],["href","javascript:void(0);","data-bs-toggle","dropdown"],[1,"isax","isax-more"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#edit_modal",1,"dropdown-item","d-flex","align-items-center",3,"click"],[1,"isax","isax-edit","me-2"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#copy_modal",1,"dropdown-item","d-flex","align-items-center",3,"click"],[1,"isax","isax-copy","me-2"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#delete_modal",1,"dropdown-item","d-flex","align-items-center"],[1,"isax","isax-trash","me-2"],["colspan","8",1,"text-center","py-4"],[1,"isax","isax-user-square","fs-24","text-muted","mb-2","d-block"],[1,"text-muted","mb-0"],[1,"text-danger","small","mt-1"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(e,p){e&1&&(o(0,"div",1)(1,"div",2)(2,"div")(3,"h6"),l(4),s(5,"translate"),r()(),o(6,"div",3)(7,"div",4)(8,"a",5),m(9,"i",6),l(10),s(11,"translate"),r(),o(12,"ul",7)(13,"li")(14,"a",8),l(15),s(16,"translate"),r()(),o(17,"li")(18,"a",8),l(19),s(20,"translate"),r()()()(),o(21,"div")(22,"a",9),m(23,"i",10),l(24),s(25,"translate"),r()()()(),o(26,"div",11)(27,"div",12)(28,"div",13)(29,"span",14),m(30,"i",15),r(),m(31,"input",16),s(32,"translate"),r()()(),x(33,de,7,3,"div",17)(34,ce,6,4,"div",18)(35,ue,5,3,"div",19)(36,be,27,20,"div",20),r(),o(37,"div",21)(38,"div",22)(39,"div",23)(40,"div",24)(41,"h4",25),l(42),s(43,"translate"),r(),o(44,"button",26),m(45,"i",27),r()(),o(46,"form",28),g("ngSubmit",function(){return p.onSubmit()}),o(47,"div",29)(48,"div",30)(49,"label",31),l(50),s(51,"translate"),o(52,"span",32),l(53,"*"),r()(),m(54,"input",33),s(55,"translate"),x(56,ge,2,1,"div",34),r(),o(57,"div",30)(58,"label",31),l(59),s(60,"translate"),o(61,"span",32),l(62,"*"),r()(),m(63,"input",35),s(64,"translate"),x(65,Re,2,1,"div",34),r(),o(66,"div",30)(67,"label",31),l(68),s(69,"translate"),r(),m(70,"textarea",36),s(71,"translate"),r(),o(72,"div",30)(73,"label",31),l(74),s(75,"translate"),o(76,"span",32),l(77,"*"),r()(),m(78,"input",37),x(79,_e,2,1,"div",34),r(),o(80,"div",38)(81,"div",39),m(82,"input",40),o(83,"label",41),l(84),s(85,"translate"),r()()()(),o(86,"div",42)(87,"button",43),l(88),s(89,"translate"),r(),o(90,"button",44),x(91,Ce,1,0,"span",45),l(92),s(93,"translate"),s(94,"translate"),r()()()()()(),o(95,"div",46)(96,"div",22)(97,"div",23)(98,"div",24)(99,"h4",25),l(100),s(101,"translate"),r(),o(102,"button",47),g("click",function(){return p.closeEditModal()}),m(103,"i",27),r()(),o(104,"form",28),g("ngSubmit",function(){return p.onEditSubmit()}),o(105,"div",29),x(106,Ee,5,3,"div",19)(107,ye,3,1,"div",18),o(108,"div",30)(109,"label",31),l(110),s(111,"translate"),r(),m(112,"input",48),o(113,"p",49),l(114),s(115,"translate"),r()(),o(116,"div",30)(117,"label",31),l(118),s(119,"translate"),o(120,"span",32),l(121,"*"),r()(),m(122,"input",35),s(123,"translate"),x(124,Se,2,1,"div",34),r(),o(125,"div",30)(126,"label",31),l(127),s(128,"translate"),r(),m(129,"textarea",36),s(130,"translate"),r(),o(131,"div",30)(132,"label",31),l(133),s(134,"translate"),o(135,"span",32),l(136,"*"),r()(),m(137,"input",37),x(138,Ie,2,1,"div",34),r(),o(139,"div",38)(140,"div",39),m(141,"input",50),o(142,"label",51),l(143),s(144,"translate"),r()()()(),o(145,"div",42)(146,"button",52),g("click",function(){return p.closeEditModal()}),l(147),s(148,"translate"),r(),o(149,"button",44),x(150,Fe,1,0,"span",45),l(151),s(152,"translate"),s(153,"translate"),r()()()()()(),o(154,"div",53)(155,"div",54)(156,"div",23)(157,"div",55)(158,"div",30),m(159,"img",56),r(),o(160,"h6",57),l(161),s(162,"translate"),r(),o(163,"p",30),l(164),s(165,"translate"),r(),o(166,"div",58)(167,"a",59),l(168),s(169,"translate"),r(),o(170,"a",60),l(171),s(172,"translate"),r()()()()()(),o(173,"div",61)(174,"div",22)(175,"div",23)(176,"div",24)(177,"h4",25),l(178),s(179,"translate"),r(),o(180,"button",47),g("click",function(){return p.closeCopyModal()}),m(181,"i",27),r()(),o(182,"form",28),g("ngSubmit",function(){return p.onCopySubmit()}),o(183,"div",29),x(184,De,5,3,"div",19)(185,we,3,1,"div",18),o(186,"div",30)(187,"label",31),l(188),s(189,"translate"),o(190,"span",32),l(191,"*"),r()(),m(192,"input",62),s(193,"translate"),x(194,Pe,2,1,"div",34),r(),o(195,"div",30)(196,"label",31),l(197),s(198,"translate"),o(199,"span",32),l(200,"*"),r()(),m(201,"input",63),s(202,"translate"),x(203,Be,2,1,"div",34),r(),o(204,"div",38)(205,"p",64),m(206,"i",65),l(207),s(208,"translate"),r()()(),o(209,"div",42)(210,"button",52),g("click",function(){return p.closeCopyModal()}),l(211),s(212,"translate"),r(),o(213,"button",44),x(214,Ne,1,0,"span",45),l(215),s(216,"translate"),s(217,"translate"),r()()()()()()),e&2&&(i(4),c(a(5,73,"rolesPermissions.title")),i(6),u("",a(11,75,"rolesPermissions.export")," "),i(5),c(a(16,77,"rolesPermissions.exportPdf")),i(4),c(a(20,79,"rolesPermissions.exportExcel")),i(5),u("",a(25,81,"rolesPermissions.newRole")," "),i(7),d("placeholder",R(a(32,83,"rolesPermissions.search"))),i(2),d("ngIf",p.loading&&p.roles.length===0),i(),d("ngIf",p.error&&p.roles.length===0),i(),d("ngIf",p.success),i(),d("ngIf",!p.loading||p.roles.length>0),i(6),c(a(43,85,"permissions.roleForm.addTitle")),i(4),d("formGroup",p.roleForm),i(4),u("",a(51,87,"permissions.roleForm.roleCode")," "),i(4),d("placeholder",R(a(55,89,"permissions.roleForm.roleCodePlaceholder"))),i(2),d("ngIf",p.isFieldInvalid("roleCode")),i(3),u("",a(60,91,"permissions.roleForm.roleName")," "),i(4),d("placeholder",R(a(64,93,"permissions.roleForm.roleNamePlaceholder"))),i(2),d("ngIf",p.isFieldInvalid("roleNom")),i(3),c(a(69,95,"permissions.roleForm.description")),i(2),d("placeholder",R(a(71,97,"permissions.roleForm.descriptionPlaceholder"))),i(4),u("",a(75,99,"permissions.roleForm.level")," "),i(5),d("ngIf",p.isFieldInvalid("roleNiveau")),i(5),c(a(85,101,"permissions.roleForm.active")),i(4),c(a(89,103,"permissions.roleForm.cancel")),i(2),d("disabled",p.roleForm.invalid||p.loading),i(),d("ngIf",p.loading),i(),u(" ",p.loading?a(93,105,"permissions.roleForm.saving"):a(94,107,"permissions.roleForm.create")," "),i(8),c(a(101,109,"permissions.roleForm.editTitle")),i(4),d("formGroup",p.editForm),i(2),d("ngIf",p.editSuccess),i(),d("ngIf",p.editError),i(3),c(a(111,111,"permissions.roleForm.roleCode")),i(2),d("value",(p.selectedRole==null?null:p.selectedRole.roleCode)||""),i(2),c(a(115,113,"permissions.roleForm.codeReadonly")),i(4),u("",a(119,115,"permissions.roleForm.roleName")," "),i(4),d("placeholder",R(a(123,117,"permissions.roleForm.roleNamePlaceholder"))),i(2),d("ngIf",p.isEditFieldInvalid("roleNom")),i(3),c(a(128,119,"permissions.roleForm.description")),i(2),d("placeholder",R(a(130,121,"permissions.roleForm.descriptionPlaceholder"))),i(4),u("",a(134,123,"permissions.roleForm.level")," "),i(5),d("ngIf",p.isEditFieldInvalid("roleNiveau")),i(5),c(a(144,125,"permissions.roleForm.active")),i(4),c(a(148,127,"permissions.roleForm.cancel")),i(2),d("disabled",p.editForm.invalid||p.loading),i(),d("ngIf",p.loading),i(),u(" ",p.loading?a(152,129,"permissions.roleForm.saving"):a(153,131,"permissions.roleForm.save")," "),i(10),c(a(162,133,"permissions.roleForm.deleteTitle")),i(3),c(a(165,135,"permissions.roleForm.deleteConfirm")),i(4),c(a(169,137,"permissions.roleForm.cancel")),i(3),c(a(172,139,"permissions.roleForm.delete")),i(7),c(a(179,141,"permissions.roleForm.copyTitle")),i(4),d("formGroup",p.copyForm),i(2),d("ngIf",p.copySuccess),i(),d("ngIf",p.copyError),i(3),u("",a(189,143,"permissions.roleForm.roleCode")," "),i(4),d("placeholder",R(a(193,145,"permissions.roleForm.roleCodePlaceholder"))),i(2),d("ngIf",p.isCopyFieldInvalid("newRoleCode")),i(3),u("",a(198,147,"permissions.roleForm.roleName")," "),i(4),d("placeholder",R(a(202,149,"permissions.roleForm.roleNamePlaceholder"))),i(2),d("ngIf",p.isCopyFieldInvalid("newRoleNom")),i(4),u(" ",a(208,151,"permissions.roleForm.copyInfo")," "),i(4),c(a(212,153,"permissions.roleForm.cancel")),i(2),d("disabled",p.copyForm.invalid||p.loading),i(),d("ngIf",p.loading),i(),u(" ",p.loading?a(216,155,"permissions.roleForm.saving"):a(217,157,"permissions.roleForm.copy")," "))},dependencies:[H,q,Y,J,se,te,W,ie,Q,X,Z,ne,oe,re,ae],encapsulation:2})};export{me as RolesPermissionsComponent};
