import{a as D,b as C,c as re,d as le}from"./chunk-HY66KC4I.js";import"./chunk-H5RQM42I.js";import{b as ne}from"./chunk-RTG4BLL2.js";import{B as ie,E as oe,b as H,d as z,f as g,h as J,i as K,j as Q,n as W,o as X,q as Z,r as ee,w as te}from"./chunk-ONBUWNZZ.js";import{b as Y}from"./chunk-CPHVHMG6.js";import"./chunk-VLYMLFWW.js";import{f as $}from"./chunk-5IXW6HGI.js";import"./chunk-DIDBO66C.js";import"./chunk-DXRJN4NQ.js";import{k as G,l as V,y as q}from"./chunk-AKUYEWL4.js";import{Ab as x,Ic as _,Kc as j,Lb as L,Sb as m,Tb as o,Ub as n,Uc as a,Vb as d,Vc as s,Yc as M,ac as N,gc as h,ia as R,ib as t,ic as v,la as y,na as b,sa as S,sc as A,ta as I,vb as O,wc as U,xc as r,yc as c,zc as u}from"./chunk-ODQYRIBQ.js";import{a as E,b as B}from"./chunk-EQDQRRRY.js";var T=new y("CreateRoleUseCase");var k=new y("COPY_ROLE_USE_CASE");var F=class l{roleRepository=b(C);execute(i){return this.validateRole(i),this.roleRepository.create(i)}validateRole(i){if(!i.roleCode||i.roleCode.trim().length===0)throw new Error("Le code du r\xF4le est obligatoire");if(!i.roleNom||i.roleNom.trim().length===0)throw new Error("Le nom du r\xF4le est obligatoire");if(i.roleNiveau===void 0||i.roleNiveau===null)throw new Error("Le niveau du r\xF4le est obligatoire");if(i.societeId===void 0||i.societeId===null)throw new Error("L'ID de la soci\xE9t\xE9 est obligatoire")}static \u0275fac=function(e){return new(e||l)};static \u0275prov=R({token:l,factory:l.\u0275fac})};var P=class l{roleRepository=b(C);execute(i,e){return this.validateCopyData(e),this.roleRepository.copy(i,e)}validateCopyData(i){if(!i.newRoleCode||i.newRoleCode.trim().length===0)throw new Error("Le code du nouveau r\xF4le est obligatoire");if(!i.newRoleNom||i.newRoleNom.trim().length===0)throw new Error("Le nom du nouveau r\xF4le est obligatoire")}static \u0275fac=function(e){return new(e||l)};static \u0275prov=R({token:l,factory:l.\u0275fac})};function pe(l,i){l&1&&(o(0,"div",66)(1,"div",67)(2,"span",68),r(3,"Loading..."),n()(),o(4,"p",69),r(5),a(6,"translate"),n()()),l&2&&(t(5),c(s(6,1,"rolesPermissions.loading")))}function de(l,i){if(l&1){let e=N();o(0,"div",70),d(1,"i",71),r(2),o(3,"button",72),h("click",function(){S(e);let f=v();return I(f.loadRoles())}),r(4),a(5,"translate"),n()()}if(l&2){let e=v();t(2),u(" ",e.error," "),t(2),c(s(5,2,"common.retry"))}}function me(l,i){l&1&&(o(0,"div",73),d(1,"i",74),r(2),a(3,"translate"),d(4,"button",75),n()),l&2&&(t(2),u(" ",s(3,1,"rolesPermissions.saveSuccess")," "))}function ce(l,i){if(l&1&&(o(0,"span"),r(1),n()),l&2){let e=v().$implicit,p=v(2);L("data-bs-toggle",e.roleDescription.length>50?"popover":null)("data-bs-trigger",e.roleDescription.length>50?"hover focus":null)("data-bs-placement",e.roleDescription.length>50?"top":null)("data-bs-content",e.roleDescription.length>50?e.roleDescription:null)("title",e.roleDescription.length>50?e.roleDescription:null),t(),u(" ",p.truncateDescription(e.roleDescription)," ")}}function ue(l,i){l&1&&r(0,"-")}function ve(l,i){if(l&1){let e=N();o(0,"tr")(1,"td"),r(2),n(),o(3,"td"),r(4),n(),o(5,"td"),x(6,ce,2,6,"span",82)(7,ue,1,0,"ng-template",null,0,M),n(),o(9,"td"),r(10),n(),o(11,"td")(12,"span"),r(13),n()(),o(14,"td"),r(15),n(),o(16,"td")(17,"a",83),d(18,"i",84),r(19),a(20,"translate"),n()(),o(21,"td",85)(22,"a",86),d(23,"i",87),n(),o(24,"ul",7)(25,"li")(26,"a",88),h("click",function(){let f=S(e).$implicit,w=v(2);return I(w.openEditModal(f))}),d(27,"i",89),r(28),a(29,"translate"),n()(),o(30,"li")(31,"a",90),h("click",function(){let f=S(e).$implicit,w=v(2);return I(w.openCopyModal(f))}),d(32,"i",91),r(33),a(34,"translate"),n()(),o(35,"li")(36,"a",92),d(37,"i",93),r(38),a(39,"translate"),n()()()()()}if(l&2){let e=i.$implicit,p=A(8),f=v(2);t(2),c(e.roleCode),t(2),c(e.roleNom),t(2),m("ngIf",e.roleDescription)("ngIfElse",p),t(4),c(e.roleNiveau),t(2),U(f.getRoleStatusClass(e)),t(),c(f.getRoleStatus(e)),t(2),c(f.formatDate(e.roleDateCreation)),t(2),m("routerLink",f.routes.permission(e.id)),t(2),u(" ",s(20,14,"rolesPermissions.permissions")," "),t(9),u("",s(29,16,"rolesPermissions.edit")," "),t(5),u("",s(34,18,"rolesPermissions.copy")," "),t(5),u("",s(39,20,"rolesPermissions.delete")," ")}}function fe(l,i){l&1&&(o(0,"tr")(1,"td",94),d(2,"i",95),o(3,"p",96),r(4),a(5,"translate"),n()()()),l&2&&(t(4),c(s(5,1,"rolesPermissions.noRoles")))}function xe(l,i){if(l&1&&(o(0,"div",76)(1,"table",77)(2,"thead",78)(3,"tr")(4,"th"),r(5),a(6,"translate"),n(),o(7,"th"),r(8),a(9,"translate"),n(),o(10,"th"),r(11),a(12,"translate"),n(),o(13,"th"),r(14),a(15,"translate"),n(),o(16,"th"),r(17),a(18,"translate"),n(),o(19,"th"),r(20),a(21,"translate"),n(),d(22,"th",79)(23,"th",79),n()(),o(24,"tbody"),x(25,ve,40,22,"tr",80)(26,fe,6,3,"tr",81),n()()()),l&2){let e=v();t(5),c(s(6,8,"rolesPermissions.roleName")),t(3),c(s(9,10,"rolesPermissions.roleName")),t(3),c(s(12,12,"rolesPermissions.description")),t(3),c(s(15,14,"rolesPermissions.level")),t(3),c(s(18,16,"rolesPermissions.status")),t(3),c(s(21,18,"rolesPermissions.createdDate")),t(5),m("ngForOf",e.roles),t(),m("ngIf",e.roles.length===0&&!e.loading)}}function ge(l,i){if(l&1&&(o(0,"div",97),r(1),n()),l&2){let e=v();t(),u(" ",e.getFieldError("roleCode")," ")}}function he(l,i){if(l&1&&(o(0,"div",97),r(1),n()),l&2){let e=v();t(),u(" ",e.getFieldError("roleNom")," ")}}function be(l,i){if(l&1&&(o(0,"div",97),r(1),n()),l&2){let e=v();t(),u(" ",e.getFieldError("roleNiveau")," ")}}function _e(l,i){l&1&&d(0,"span",98)}function Ce(l,i){l&1&&(o(0,"div",73),d(1,"i",74),r(2),a(3,"translate"),d(4,"button",75),n()),l&2&&(t(2),u(" ",s(3,1,"permissions.roleForm.successEdit")," "))}function Ee(l,i){if(l&1&&(o(0,"div",70),d(1,"i",71),r(2),n()),l&2){let e=v();t(2),u(" ",e.editError," ")}}function Re(l,i){if(l&1&&(o(0,"div",97),r(1),n()),l&2){let e=v();t(),u(" ",e.getEditFieldError("roleNom")," ")}}function ye(l,i){if(l&1&&(o(0,"div",97),r(1),n()),l&2){let e=v();t(),u(" ",e.getEditFieldError("roleNiveau")," ")}}function Se(l,i){l&1&&d(0,"span",98)}function Ie(l,i){l&1&&(o(0,"div",73),d(1,"i",74),r(2),a(3,"translate"),d(4,"button",75),n()),l&2&&(t(2),u(" ",s(3,1,"permissions.roleForm.successCopy")," "))}function Fe(l,i){if(l&1&&(o(0,"div",70),d(1,"i",71),r(2),n()),l&2){let e=v();t(2),u(" ",e.copyError," ")}}function Pe(l,i){if(l&1&&(o(0,"div",97),r(1),n()),l&2){let e=v();t(),u(" ",e.getCopyFieldError("newRoleCode")," ")}}function we(l,i){if(l&1&&(o(0,"div",97),r(1),n()),l&2){let e=v();t(),u(" ",e.getCopyFieldError("newRoleNom")," ")}}function Be(l,i){l&1&&d(0,"span",98)}var se=class l{fb=b(ie);createRoleUseCase=b(T);getRolesUseCase=b(D);copyRoleUseCase=b(k);authService=b(Y);roleForm;editForm;copyForm;roles=[];loading=!1;error=null;success=!1;editSuccess=!1;editError=null;copySuccess=!1;copyError=null;selectedRole=null;routes={permission:i=>`/app/manage-users/permission/${i}`};ngOnInit(){this.initForm(),this.initEditForm(),this.initCopyForm(),this.loadRoles()}initForm(){this.roleForm=this.fb.group({roleCode:["",[g.required,g.minLength(3)]],roleNom:["",[g.required,g.minLength(3)]],roleDescription:[""],roleNiveau:[1,[g.required,g.min(1)]],roleActif:[!0]})}initEditForm(){this.editForm=this.fb.group({roleNom:["",[g.required,g.minLength(3)]],roleDescription:[""],roleNiveau:[1,[g.required,g.min(1)]],roleActif:[!0]})}loadRoles(){this.loading=!0,this.error=null;let i=this.authService.user.societeId;this.getRolesUseCase.execute(i).subscribe({next:e=>{this.roles=e,this.loading=!1},error:e=>{console.error("Erreur lors du chargement des r\xF4les:",e),this.error="Erreur lors du chargement des r\xF4les",this.loading=!1}})}onSubmit(){if(this.roleForm.invalid){this.markFormGroupTouched(this.roleForm);return}this.loading=!0,this.error=null,this.success=!1;let i=B(E({},this.roleForm.value),{societeId:1});this.createRoleUseCase.execute(i).subscribe({next:e=>{this.success=!0,this.roles.push(e),this.roleForm.reset({roleNiveau:1,roleActif:!0}),this.loading=!1},error:e=>{console.error("Erreur lors de la cr\xE9ation du r\xF4le:",e),this.error=e.message||"Erreur lors de la cr\xE9ation du r\xF4le",this.loading=!1}})}markFormGroupTouched(i){Object.values(i.controls).forEach(e=>{e.markAsTouched(),e instanceof Q&&this.markFormGroupTouched(e)})}isFieldInvalid(i){let e=this.roleForm.get(i);return e?e.invalid&&(e.dirty||e.touched):!1}getFieldError(i){let e=this.roleForm.get(i);return!e||!e.errors?"":e.errors.required?"Ce champ est obligatoire":e.errors.minlength?`Minimum ${e.errors.minlength.requiredLength} caract\xE8res`:e.errors.min?`La valeur minimale est ${e.errors.min.min}`:"Valeur invalide"}formatDate(i){return new Date(i).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})}getRoleStatus(i){return i.roleActif?"Actif":"Inactif"}getRoleStatusClass(i){return i.roleActif?"badge bg-success":"badge bg-danger"}initCopyForm(){this.copyForm=this.fb.group({newRoleCode:["",[g.required,g.minLength(3)]],newRoleNom:["",[g.required,g.minLength(3)]]})}openEditModal(i){this.selectedRole=i,this.editForm.patchValue({roleNom:i.roleNom,roleDescription:i.roleDescription||"",roleNiveau:i.roleNiveau,roleActif:i.roleActif}),this.editError=null,this.editSuccess=!1}closeEditModal(){this.selectedRole=null,this.editForm.reset({roleNiveau:1,roleActif:!0}),this.editError=null,this.editSuccess=!1}onEditSubmit(){if(this.editForm.invalid||!this.selectedRole){this.markFormGroupTouched(this.editForm);return}this.loading=!0,this.editError=null,this.editSuccess=!1;let i=B(E({},this.editForm.value),{id:this.selectedRole.id,societeId:1});setTimeout(()=>{let e=this.roles.findIndex(p=>p.id===this.selectedRole.id);e!==-1&&(this.roles[e]=E(E({},this.roles[e]),i)),this.editSuccess=!0,this.loading=!1,setTimeout(()=>{this.closeEditModal()},2e3)},1e3)}isEditFieldInvalid(i){let e=this.editForm.get(i);return e?e.invalid&&(e.dirty||e.touched):!1}getEditFieldError(i){let e=this.editForm.get(i);return!e||!e.errors?"":e.errors.required?"Ce champ est obligatoire":e.errors.minlength?`Minimum ${e.errors.minlength.requiredLength} caract\xE8res`:e.errors.min?`La valeur minimale est ${e.errors.min.min}`:"Valeur invalide"}openCopyModal(i){this.selectedRole=i,this.copyForm.reset({newRoleCode:`${i.roleCode}_COPY`,newRoleNom:`${i.roleNom} (Copie)`}),this.copyError=null,this.copySuccess=!1}closeCopyModal(){this.selectedRole=null,this.copyForm.reset(),this.copyError=null,this.copySuccess=!1}onCopySubmit(){if(this.copyForm.invalid||!this.selectedRole){this.markFormGroupTouched(this.copyForm);return}this.loading=!0,this.copyError=null,this.copySuccess=!1;let i=this.copyForm.value;this.copyRoleUseCase.execute(this.selectedRole.id,i).subscribe({next:e=>{this.copySuccess=!0,this.roles.push(e),this.loading=!1,setTimeout(()=>{this.closeCopyModal()},2e3)},error:e=>{console.error("Erreur lors de la copie du r\xF4le:",e),this.copyError=e.message||"Erreur lors de la copie du r\xF4le",this.loading=!1}})}isCopyFieldInvalid(i){let e=this.copyForm.get(i);return e?e.invalid&&(e.dirty||e.touched):!1}getCopyFieldError(i){let e=this.copyForm.get(i);return!e||!e.errors?"":e.errors.required?"Ce champ est obligatoire":e.errors.minlength?`Minimum ${e.errors.minlength.requiredLength} caract\xE8res`:"Valeur invalide"}truncateDescription(i){if(!i)return"-";let e=50;return i.length<=e?i:i.substring(0,e)+"..."}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=O({type:l,selectors:[["app-roles-permissions"]],features:[j([{provide:C,useClass:re},{provide:T,useClass:F},{provide:D,useClass:le},{provide:k,useClass:P}])],decls:218,vars:159,consts:[["noDescription",""],[1,"content-two"],[1,"d-flex","d-block","align-items-center","justify-content-between","flex-wrap","gap-3","mb-3"],[1,"d-flex","my-xl-auto","right-content","align-items-center","flex-wrap","gap-2"],[1,"dropdown"],["href","javascript:void(0);","data-bs-toggle","dropdown",1,"btn","btn-outline-white","d-inline-flex","align-items-center"],[1,"isax","isax-export-1","me-1"],[1,"dropdown-menu"],["href","javascript:void(0);",1,"dropdown-item"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#add_modal",1,"btn","btn-primary","d-flex","align-items-center"],[1,"isax","isax-add-circle5","me-1"],[1,"row"],[1,"col-md-3"],[1,"input-group","mb-3"],[1,"input-group-text","bg-white","border-end-0"],[1,"isax","isax-search-normal","fs-12"],["type","text",1,"form-control","border-start-0","ps-0","bg-white",3,"placeholder"],["class","text-center py-5",4,"ngIf"],["class","alert alert-danger","role","alert",4,"ngIf"],["class","alert alert-success alert-dismissible fade show","role","alert",4,"ngIf"],["class","table-responsive table-nowrap",4,"ngIf"],["id","add_modal",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-md"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","btn-close-modal","custom-btn-close"],[1,"fa-solid","fa-x"],[3,"ngSubmit","formGroup"],[1,"modal-body"],[1,"mb-3"],[1,"form-label"],[1,"text-danger"],["type","text","formControlName","roleCode",1,"form-control",3,"placeholder"],["class","text-danger small mt-1",4,"ngIf"],["type","text","formControlName","roleNom",1,"form-control",3,"placeholder"],["formControlName","roleDescription","rows","2",1,"form-control",3,"placeholder"],["type","number","formControlName","roleNiveau","min","1",1,"form-control"],[1,"mb-0"],[1,"form-check","form-switch"],["type","checkbox","role","switch","formControlName","roleActif","id","roleActif",1,"form-check-input"],["for","roleActif",1,"form-check-label"],[1,"modal-footer","d-flex","align-items-center","justify-content-between","gap-1"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-white"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-1",4,"ngIf"],["id","edit_modal",1,"modal","fade"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close","btn-close-modal","custom-btn-close",3,"click"],["type","text","readonly","",1,"form-control","bg-light",3,"value"],[1,"text-muted","small","mt-1"],["type","checkbox","role","switch","formControlName","roleActif","id","editRoleActif",1,"form-check-input"],["for","editRoleActif",1,"form-check-label"],["type","button","data-bs-dismiss","modal",1,"btn","btn-outline-white",3,"click"],["id","delete_modal",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-sm"],[1,"modal-body","text-center"],["src","assets/img/icons/delete.svg","alt","img"],[1,"mb-1"],[1,"d-flex","justify-content-center"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-outline-white","me-3"],["href","javascript:void(0);","data-bs-dismiss","modal",1,"btn","btn-primary"],["id","copy_modal",1,"modal","fade"],["type","text","formControlName","newRoleCode",1,"form-control",3,"placeholder"],["type","text","formControlName","newRoleNom",1,"form-control",3,"placeholder"],[1,"text-muted","small"],[1,"isax","isax-info-circle","me-1"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"],["role","alert",1,"alert","alert-danger"],[1,"isax","isax-danger","me-2"],["type","button",1,"btn","btn-sm","btn-outline-danger","ms-2",3,"click"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"isax","isax-tick-circle","me-2"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close"],[1,"table-responsive","table-nowrap"],[1,"table","border","mb-0"],[1,"table-light"],[1,"no-sort"],[4,"ngFor","ngForOf"],[4,"ngIf"],[4,"ngIf","ngIfElse"],[1,"btn","btn-outline-white","d-inline-flex","align-items-center",3,"routerLink"],[1,"isax","isax-shield-tick","me-1"],[1,"action-item"],["href","javascript:void(0);","data-bs-toggle","dropdown"],[1,"isax","isax-more"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#edit_modal",1,"dropdown-item","d-flex","align-items-center",3,"click"],[1,"isax","isax-edit","me-2"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#copy_modal",1,"dropdown-item","d-flex","align-items-center",3,"click"],[1,"isax","isax-copy","me-2"],["href","javascript:void(0);","data-bs-toggle","modal","data-bs-target","#delete_modal",1,"dropdown-item","d-flex","align-items-center"],[1,"isax","isax-trash","me-2"],["colspan","8",1,"text-center","py-4"],[1,"isax","isax-user-square","fs-24","text-muted","mb-2","d-block"],[1,"text-muted","mb-0"],[1,"text-danger","small","mt-1"],[1,"spinner-border","spinner-border-sm","me-1"]],template:function(e,p){e&1&&(o(0,"div",1)(1,"div",2)(2,"div")(3,"h6"),r(4),a(5,"translate"),n()(),o(6,"div",3)(7,"div",4)(8,"a",5),d(9,"i",6),r(10),a(11,"translate"),n(),o(12,"ul",7)(13,"li")(14,"a",8),r(15),a(16,"translate"),n()(),o(17,"li")(18,"a",8),r(19),a(20,"translate"),n()()()(),o(21,"div")(22,"a",9),d(23,"i",10),r(24),a(25,"translate"),n()()()(),o(26,"div",11)(27,"div",12)(28,"div",13)(29,"span",14),d(30,"i",15),n(),d(31,"input",16),a(32,"translate"),n()()(),x(33,pe,7,3,"div",17)(34,de,6,4,"div",18)(35,me,5,3,"div",19)(36,xe,27,20,"div",20),n(),o(37,"div",21)(38,"div",22)(39,"div",23)(40,"div",24)(41,"h4",25),r(42),a(43,"translate"),n(),o(44,"button",26),d(45,"i",27),n()(),o(46,"form",28),h("ngSubmit",function(){return p.onSubmit()}),o(47,"div",29)(48,"div",30)(49,"label",31),r(50),a(51,"translate"),o(52,"span",32),r(53,"*"),n()(),d(54,"input",33),a(55,"translate"),x(56,ge,2,1,"div",34),n(),o(57,"div",30)(58,"label",31),r(59),a(60,"translate"),o(61,"span",32),r(62,"*"),n()(),d(63,"input",35),a(64,"translate"),x(65,he,2,1,"div",34),n(),o(66,"div",30)(67,"label",31),r(68),a(69,"translate"),n(),d(70,"textarea",36),a(71,"translate"),n(),o(72,"div",30)(73,"label",31),r(74),a(75,"translate"),o(76,"span",32),r(77,"*"),n()(),d(78,"input",37),x(79,be,2,1,"div",34),n(),o(80,"div",38)(81,"div",39),d(82,"input",40),o(83,"label",41),r(84),a(85,"translate"),n()()()(),o(86,"div",42)(87,"button",43),r(88),a(89,"translate"),n(),o(90,"button",44),x(91,_e,1,0,"span",45),r(92),a(93,"translate"),a(94,"translate"),n()()()()()(),o(95,"div",46)(96,"div",22)(97,"div",23)(98,"div",24)(99,"h4",25),r(100),a(101,"translate"),n(),o(102,"button",47),h("click",function(){return p.closeEditModal()}),d(103,"i",27),n()(),o(104,"form",28),h("ngSubmit",function(){return p.onEditSubmit()}),o(105,"div",29),x(106,Ce,5,3,"div",19)(107,Ee,3,1,"div",18),o(108,"div",30)(109,"label",31),r(110),a(111,"translate"),n(),d(112,"input",48),o(113,"p",49),r(114),a(115,"translate"),n()(),o(116,"div",30)(117,"label",31),r(118),a(119,"translate"),o(120,"span",32),r(121,"*"),n()(),d(122,"input",35),a(123,"translate"),x(124,Re,2,1,"div",34),n(),o(125,"div",30)(126,"label",31),r(127),a(128,"translate"),n(),d(129,"textarea",36),a(130,"translate"),n(),o(131,"div",30)(132,"label",31),r(133),a(134,"translate"),o(135,"span",32),r(136,"*"),n()(),d(137,"input",37),x(138,ye,2,1,"div",34),n(),o(139,"div",38)(140,"div",39),d(141,"input",50),o(142,"label",51),r(143),a(144,"translate"),n()()()(),o(145,"div",42)(146,"button",52),h("click",function(){return p.closeEditModal()}),r(147),a(148,"translate"),n(),o(149,"button",44),x(150,Se,1,0,"span",45),r(151),a(152,"translate"),a(153,"translate"),n()()()()()(),o(154,"div",53)(155,"div",54)(156,"div",23)(157,"div",55)(158,"div",30),d(159,"img",56),n(),o(160,"h6",57),r(161),a(162,"translate"),n(),o(163,"p",30),r(164),a(165,"translate"),n(),o(166,"div",58)(167,"a",59),r(168),a(169,"translate"),n(),o(170,"a",60),r(171),a(172,"translate"),n()()()()()(),o(173,"div",61)(174,"div",22)(175,"div",23)(176,"div",24)(177,"h4",25),r(178),a(179,"translate"),n(),o(180,"button",47),h("click",function(){return p.closeCopyModal()}),d(181,"i",27),n()(),o(182,"form",28),h("ngSubmit",function(){return p.onCopySubmit()}),o(183,"div",29),x(184,Ie,5,3,"div",19)(185,Fe,3,1,"div",18),o(186,"div",30)(187,"label",31),r(188),a(189,"translate"),o(190,"span",32),r(191,"*"),n()(),d(192,"input",62),a(193,"translate"),x(194,Pe,2,1,"div",34),n(),o(195,"div",30)(196,"label",31),r(197),a(198,"translate"),o(199,"span",32),r(200,"*"),n()(),d(201,"input",63),a(202,"translate"),x(203,we,2,1,"div",34),n(),o(204,"div",38)(205,"p",64),d(206,"i",65),r(207),a(208,"translate"),n()()(),o(209,"div",42)(210,"button",52),h("click",function(){return p.closeCopyModal()}),r(211),a(212,"translate"),n(),o(213,"button",44),x(214,Be,1,0,"span",45),r(215),a(216,"translate"),a(217,"translate"),n()()()()()()),e&2&&(t(4),c(s(5,73,"rolesPermissions.title")),t(6),u("",s(11,75,"rolesPermissions.export")," "),t(5),c(s(16,77,"rolesPermissions.exportPdf")),t(4),c(s(20,79,"rolesPermissions.exportExcel")),t(5),u("",s(25,81,"rolesPermissions.newRole")," "),t(7),m("placeholder",_(s(32,83,"rolesPermissions.search"))),t(2),m("ngIf",p.loading&&p.roles.length===0),t(),m("ngIf",p.error&&p.roles.length===0),t(),m("ngIf",p.success),t(),m("ngIf",!p.loading||p.roles.length>0),t(6),c(s(43,85,"permissions.roleForm.addTitle")),t(4),m("formGroup",p.roleForm),t(4),u("",s(51,87,"permissions.roleForm.roleCode")," "),t(4),m("placeholder",_(s(55,89,"permissions.roleForm.roleCodePlaceholder"))),t(2),m("ngIf",p.isFieldInvalid("roleCode")),t(3),u("",s(60,91,"permissions.roleForm.roleName")," "),t(4),m("placeholder",_(s(64,93,"permissions.roleForm.roleNamePlaceholder"))),t(2),m("ngIf",p.isFieldInvalid("roleNom")),t(3),c(s(69,95,"permissions.roleForm.description")),t(2),m("placeholder",_(s(71,97,"permissions.roleForm.descriptionPlaceholder"))),t(4),u("",s(75,99,"permissions.roleForm.level")," "),t(5),m("ngIf",p.isFieldInvalid("roleNiveau")),t(5),c(s(85,101,"permissions.roleForm.active")),t(4),c(s(89,103,"permissions.roleForm.cancel")),t(2),m("disabled",p.roleForm.invalid||p.loading),t(),m("ngIf",p.loading),t(),u(" ",p.loading?s(93,105,"permissions.roleForm.saving"):s(94,107,"permissions.roleForm.create")," "),t(8),c(s(101,109,"permissions.roleForm.editTitle")),t(4),m("formGroup",p.editForm),t(2),m("ngIf",p.editSuccess),t(),m("ngIf",p.editError),t(3),c(s(111,111,"permissions.roleForm.roleCode")),t(2),m("value",(p.selectedRole==null?null:p.selectedRole.roleCode)||""),t(2),c(s(115,113,"permissions.roleForm.codeReadonly")),t(4),u("",s(119,115,"permissions.roleForm.roleName")," "),t(4),m("placeholder",_(s(123,117,"permissions.roleForm.roleNamePlaceholder"))),t(2),m("ngIf",p.isEditFieldInvalid("roleNom")),t(3),c(s(128,119,"permissions.roleForm.description")),t(2),m("placeholder",_(s(130,121,"permissions.roleForm.descriptionPlaceholder"))),t(4),u("",s(134,123,"permissions.roleForm.level")," "),t(5),m("ngIf",p.isEditFieldInvalid("roleNiveau")),t(5),c(s(144,125,"permissions.roleForm.active")),t(4),c(s(148,127,"permissions.roleForm.cancel")),t(2),m("disabled",p.editForm.invalid||p.loading),t(),m("ngIf",p.loading),t(),u(" ",p.loading?s(152,129,"permissions.roleForm.saving"):s(153,131,"permissions.roleForm.save")," "),t(10),c(s(162,133,"permissions.roleForm.deleteTitle")),t(3),c(s(165,135,"permissions.roleForm.deleteConfirm")),t(4),c(s(169,137,"permissions.roleForm.cancel")),t(3),c(s(172,139,"permissions.roleForm.delete")),t(7),c(s(179,141,"permissions.roleForm.copyTitle")),t(4),m("formGroup",p.copyForm),t(2),m("ngIf",p.copySuccess),t(),m("ngIf",p.copyError),t(3),u("",s(189,143,"permissions.roleForm.roleCode")," "),t(4),m("placeholder",_(s(193,145,"permissions.roleForm.roleCodePlaceholder"))),t(2),m("ngIf",p.isCopyFieldInvalid("newRoleCode")),t(3),u("",s(198,147,"permissions.roleForm.roleName")," "),t(4),m("placeholder",_(s(202,149,"permissions.roleForm.roleNamePlaceholder"))),t(2),m("ngIf",p.isCopyFieldInvalid("newRoleNom")),t(4),u(" ",s(208,151,"permissions.roleForm.copyInfo")," "),t(4),c(s(212,153,"permissions.roleForm.cancel")),t(2),m("disabled",p.copyForm.invalid||p.loading),t(),m("ngIf",p.loading),t(),u(" ",p.loading?s(216,155,"permissions.roleForm.saving"):s(217,157,"permissions.roleForm.copy")," "))},dependencies:[q,G,V,$,oe,W,z,X,H,J,K,te,Z,ee,ne],encapsulation:2})};export{se as RolesPermissionsComponent};
