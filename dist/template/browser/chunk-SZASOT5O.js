import{a as O}from"./chunk-XXI34M3H.js";import{D as W,E as B,h as V,m as F,s as I,t as E,u as j}from"./chunk-ONBUWNZZ.js";import{j as M,y as D}from"./chunk-AKUYEWL4.js";import{Fc as w,Gc as T,Hc as N,Mb as d,Mc as b,Nb as C,Pb as y,Qb as v,Rb as k,Sb as h,Tb as a,Ub as o,Vb as P,ac as _,gc as c,ib as g,ic as p,ob as x,sa as m,ta as u,uc as z,vb as f,xc as s,zc as A}from"./chunk-ODQYRIBQ.js";var R=r=>({disabled:r});function q(r,i){if(r&1){let e=_();a(0,"li",17),c("click",function(){m(e);let t=p(2);return u(t.moveToPage(t.currentPage-2))})("keydown.enter",function(){m(e);let t=p(2);return u(t.moveToPage(t.currentPage-2))}),a(1,"a",18),s(2," ... "),o()()}if(r&2){let e=p(2);h("hidden",e.currentPage===1)}}function G(r,i){if(r&1){let e=_();a(0,"li",17),c("click",function(){m(e);let t=p(2);return u(t.moveToPage(t.currentPage+2))})("keydown.enter",function(){m(e);let t=p(2);return u(t.moveToPage(t.currentPage+2))}),a(1,"a",18),s(2," ... "),o()()}if(r&2){let e=p(2);h("hidden",e.currentPage>=e.pageNumberArray[e.pageNumberArray.length-2]||e.totalData<e.serialNumberArray[e.serialNumberArray.length-1])}}function H(r,i){if(r&1){let e=_();a(0,"li",14)(1,"a",15),c("click",function(){let t=m(e).$implicit,l=p();return u(l.moveToPage(t))}),s(2),o()(),d(3,q,3,1,"li",16),d(4,G,3,1,"li",16)}if(r&2){let e=i.$implicit,n=i.$index,t=p();z("active",e===t.currentPage),h("ngClass",t.pageNumberArray[t.currentPage-2]>e&&e!==1&&t.pageNumberArray.length>6||t.pageNumberArray[t.currentPage]<e&&e!==1&&t.pageNumberArray.length>6&&t.pageNumberArray.length!==e?"hide-page-no":"show-page-no"),g(2),A(" ",e," "),g(),C(n===0&&t.pageNumberArray.length>6&&t.currentPage>2?3:-1),g(),C(n===t.pageNumberArray.length-2&&t.pageNumberArray.length>6?4:-1)}}var $=class r{constructor(i){this.pagination=i;this.tableData=[],this.pagination.calculatePageSize.subscribe(e=>{this.calculateTotalPages(e.totalData,e.pageSize,e.tableData,e.serialNumberArray),this.pageSize=e.pageSize}),this.pagination.changePagesize.subscribe(e=>{this.changePageSize(e.pageSize)})}pageSize=10;tableData=[];lastIndex=0;totalData=0;skip=0;limit=this.pageSize;pageIndex=0;serialNumberArray=[];currentPage=1;pageNumberArray=[];pageSelection=[];totalPages=0;getMoreData(i){i=="next"?(this.currentPage++,this.pageIndex=this.currentPage-1,this.limit+=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.pagination.tablePageSize.next({skip:this.skip,limit:this.limit,pageSize:this.pageSize})):i=="previous"&&(this.currentPage--,this.pageIndex=this.currentPage-1,this.limit-=this.pageSize,this.skip=this.pageSize*this.pageIndex,this.pagination.tablePageSize.next({skip:this.skip,limit:this.limit,pageSize:this.pageSize}))}moveToPage(i){i!==this.currentPage&&(this.currentPage=i,this.skip=this.pageSelection[i-1].skip,this.limit=this.pageSelection[i-1].limit,i>this.currentPage?this.pageIndex=i-1:i<this.currentPage&&(this.pageIndex=i+1),this.pagination.tablePageSize.next({skip:this.skip,limit:this.limit,pageSize:this.pageSize}))}changePageSize(i){this.pageSelection=[],this.limit=i,this.skip=0,this.currentPage=1,this.pagination.tablePageSize.next({skip:this.skip,limit:this.limit,pageSize:this.pageSize})}calculateTotalPages(i,e,n,t){this.tableData=n,this.pageNumberArray=[],this.serialNumberArray=t,this.totalData=i,this.totalPages=i/e,this.totalPages%1!=0&&(this.totalPages=Math.trunc(this.totalPages+1));for(let l=1;l<=this.totalPages;l++){let S=e*l,L=S-e;this.pageNumberArray.push(l),this.pageSelection.push({skip:L,limit:S})}}static \u0275fac=function(e){return new(e||r)(x(O))};static \u0275cmp=f({type:r,selectors:[["app-custom-pagination"]],decls:23,vars:7,consts:[[1,"dataTables_length","pt-0"],[1,"form-select","form-select-sm",3,"ngModelChange","ngModel"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"dataTables_paginate","paging_simple_numbers"],[1,"pagination"],[1,"paginate_button","page-item","previous",3,"ngClass"],["href","javascript:void(0);","tabindex","-1",1,"page-link","me-0",3,"click"],[1,"isax","isax-arrow-left"],[1,"paginate_button","page-item","next",3,"ngClass"],["href","javascript:void(0);",1,"page-link","ms-0",3,"click"],[1,"isax","isax-arrow-right-1"],[1,"page-item",3,"ngClass"],["href","javascript:void(0);",1,"page-link",3,"click"],["tabindex","0",1,"page-item",3,"hidden"],["tabindex","0",1,"page-item",3,"click","keydown.enter","hidden"],["href","javascript:void(0);",1,"page-link"]],template:function(e,n){e&1&&(a(0,"div",0)(1,"label"),s(2," Row Per Page "),a(3,"select",1),N("ngModelChange",function(l){return T(n.pageSize,l)||(n.pageSize=l),l}),c("ngModelChange",function(){return n.changePageSize(n.pageSize)}),a(4,"option",2),s(5,"10"),o(),a(6,"option",3),s(7,"25"),o(),a(8,"option",4),s(9,"50"),o(),a(10,"option",5),s(11,"100"),o()(),s(12," Entries "),o()(),a(13,"div",6)(14,"ul",7)(15,"li",8)(16,"a",9),c("click",function(){return n.getMoreData("previous")}),P(17,"i",10),o()(),v(18,H,5,6,null,null,y),a(20,"li",11)(21,"a",12),c("click",function(){return n.getMoreData("next")}),P(22,"i",13),o()()()()),e&2&&(g(3),w("ngModel",n.pageSize),g(12),h("ngClass",b(3,R,n.currentPage===1)),g(3),k(n.pageNumberArray),g(2),h("ngClass",b(5,R,n.currentPage===n.pageNumberArray[n.pageNumberArray.length-1]||n.tableData.length===0)))},dependencies:[D,M,W,E,j,I,V,F,B],encapsulation:2})};export{$ as a};
