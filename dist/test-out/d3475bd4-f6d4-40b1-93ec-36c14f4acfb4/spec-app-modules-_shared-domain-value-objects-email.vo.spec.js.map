{
  "version": 3,
  "sources": ["src/app/modules/_shared/domain/value-objects/email.vo.spec.ts"],
  "sourcesContent": ["import { Email } from './email.vo';\nimport { ValidationError } from '../errors/domain.error';\n\ndescribe('Email Value Object', () => {\n    describe('create', () => {\n        it('should create valid email', () => {\n            const result = Email.create('user@example.com');\n\n            expect(result.isSuccess).toBe(true);\n            expect(result.value.getValue()).toBe('user@example.com');\n        });\n\n        it('should normalize email to lowercase', () => {\n            const result = Email.create('USER@EXAMPLE.COM');\n\n            expect(result.isSuccess).toBe(true);\n            expect(result.value.getValue()).toBe('user@example.com');\n        });\n\n        it('should fail for empty email', () => {\n            const result = Email.create('');\n\n            expect(result.isFailure).toBe(true);\n            expect(result.error).toBeInstanceOf(ValidationError);\n            expect(result.error.message).toContain('Email requis');\n        });\n\n        it('should fail for email without @', () => {\n            const result = Email.create('invalidemail.com');\n\n            expect(result.isFailure).toBe(true);\n            expect(result.error).toBeInstanceOf(ValidationError);\n            expect(result.error.message).toContain('invalide');\n        });\n\n        it('should fail for email without domain', () => {\n            const result = Email.create('user@');\n\n            expect(result.isFailure).toBe(true);\n            expect(result.error).toBeInstanceOf(ValidationError);\n        });\n\n        it('should fail for email too long', () => {\n            const longEmail = 'a'.repeat(250) + '@example.com';\n            const result = Email.create(longEmail);\n\n            expect(result.isFailure).toBe(true);\n            expect(result.error.message).toContain('trop long');\n        });\n\n        it('should trim whitespace', () => {\n            const result = Email.create('  user@example.com  ');\n\n            expect(result.isSuccess).toBe(true);\n            expect(result.value.getValue()).toBe('user@example.com');\n        });\n    });\n\n    describe('getDomain', () => {\n        it('should return domain part', () => {\n            const email = Email.create('user@example.com').value;\n\n            expect(email.getDomain()).toBe('example.com');\n        });\n\n        it('should return subdomain correctly', () => {\n            const email = Email.create('user@mail.example.com').value;\n\n            expect(email.getDomain()).toBe('mail.example.com');\n        });\n    });\n\n    describe('getLocalPart', () => {\n        it('should return local part', () => {\n            const email = Email.create('user@example.com').value;\n\n            expect(email.getLocalPart()).toBe('user');\n        });\n\n        it('should handle dots in local part', () => {\n            const email = Email.create('first.last@example.com').value;\n\n            expect(email.getLocalPart()).toBe('first.last');\n        });\n    });\n\n    describe('isFromDomain', () => {\n        it('should return true for matching domain', () => {\n            const email = Email.create('user@example.com').value;\n\n            expect(email.isFromDomain('example.com')).toBe(true);\n        });\n\n        it('should return false for different domain', () => {\n            const email = Email.create('user@example.com').value;\n\n            expect(email.isFromDomain('other.com')).toBe(false);\n        });\n\n        it('should be case insensitive', () => {\n            const email = Email.create('user@example.com').value;\n\n            expect(email.isFromDomain('EXAMPLE.COM')).toBe(true);\n        });\n    });\n\n    describe('equals', () => {\n        it('should return true for same email', () => {\n            const email1 = Email.create('user@example.com').value;\n            const email2 = Email.create('user@example.com').value;\n\n            expect(email1.equals(email2)).toBe(true);\n        });\n\n        it('should return true for same email with different case', () => {\n            const email1 = Email.create('user@example.com').value;\n            const email2 = Email.create('USER@EXAMPLE.COM').value;\n\n            expect(email1.equals(email2)).toBe(true);\n        });\n\n        it('should return false for different emails', () => {\n            const email1 = Email.create('user1@example.com').value;\n            const email2 = Email.create('user2@example.com').value;\n\n            expect(email1.equals(email2)).toBe(false);\n        });\n    });\n\n    describe('toString', () => {\n        it('should return email as string', () => {\n            const email = Email.create('user@example.com').value;\n\n            expect(email.toString()).toBe('user@example.com');\n        });\n    });\n});\n"],
  "mappings": "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",
  "names": []
}
