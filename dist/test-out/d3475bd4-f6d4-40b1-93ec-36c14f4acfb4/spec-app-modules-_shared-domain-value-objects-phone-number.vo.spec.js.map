{
  "version": 3,
  "sources": ["src/app/modules/_shared/domain/value-objects/phone-number.vo.spec.ts"],
  "sourcesContent": ["import { PhoneNumber } from './phone-number.vo';\nimport { ValidationError } from '../errors/domain.error';\n\ndescribe('PhoneNumber Value Object', () => {\n    describe('create', () => {\n        it('should create valid phone number', () => {\n            const result = PhoneNumber.create('+237690123456');\n\n            expect(result.isSuccess).toBe(true);\n            expect(result.value.getValue()).toBe('+237690123456');\n        });\n\n        it('should create valid phone with spaces', () => {\n            const result = PhoneNumber.create('+237 690 123 456');\n\n            expect(result.isSuccess).toBe(true);\n        });\n\n        it('should create valid phone with hyphens', () => {\n            const result = PhoneNumber.create('+237-690-123-456');\n\n            expect(result.isSuccess).toBe(true);\n        });\n\n        it('should fail for empty phone', () => {\n            const result = PhoneNumber.create('');\n\n            expect(result.isFailure).toBe(true);\n            expect(result.error).toBeInstanceOf(ValidationError);\n            expect(result.error.message).toContain('requis');\n        });\n\n        it('should fail for too short phone', () => {\n            const result = PhoneNumber.create('123');\n\n            expect(result.isFailure).toBe(true);\n            expect(result.error.message).toContain('trop court');\n        });\n\n        it('should fail for too long phone', () => {\n            const result = PhoneNumber.create('123456789012345678901');\n\n            expect(result.isFailure).toBe(true);\n            expect(result.error.message).toContain('trop long');\n        });\n\n        it('should fail for invalid characters', () => {\n            const result = PhoneNumber.create('abc123def456');\n\n            expect(result.isFailure).toBe(true);\n            expect(result.error.message).toContain('invalide');\n        });\n\n        it('should trim whitespace', () => {\n            const result = PhoneNumber.create('  +237690123456  ');\n\n            expect(result.isSuccess).toBe(true);\n        });\n    });\n\n    describe('getFormatted', () => {\n        it('should format international number', () => {\n            const phone = PhoneNumber.create('+237690123456').value;\n            const formatted = phone.getFormatted();\n\n            expect(formatted).toContain('+237');\n            expect(formatted).toContain(' ');\n        });\n\n        it('should format local number', () => {\n            const phone = PhoneNumber.create('690123456').value;\n            const formatted = phone.getFormatted();\n\n            expect(formatted).toContain(' ');\n        });\n\n        it('should handle already formatted number', () => {\n            const phone = PhoneNumber.create('+237 690 123 456').value;\n            const formatted = phone.getFormatted();\n\n            expect(formatted).toBeTruthy();\n        });\n    });\n\n    describe('getDigitsOnly', () => {\n        it('should return only digits', () => {\n            const phone = PhoneNumber.create('+237 690-123-456').value;\n\n            expect(phone.getDigitsOnly()).toBe('237690123456');\n        });\n\n        it('should remove all non-digit characters', () => {\n            const phone = PhoneNumber.create('+237 (690) 123-456').value;\n\n            expect(phone.getDigitsOnly()).toBe('237690123456');\n        });\n    });\n\n    describe('isInternational', () => {\n        it('should return true for international number', () => {\n            const phone = PhoneNumber.create('+237690123456').value;\n\n            expect(phone.isInternational()).toBe(true);\n        });\n\n        it('should return false for local number', () => {\n            const phone = PhoneNumber.create('690123456').value;\n\n            expect(phone.isInternational()).toBe(false);\n        });\n    });\n\n    describe('getCountryCode', () => {\n        it('should return country code for international number', () => {\n            const phone = PhoneNumber.create('+237690123456').value;\n\n            expect(phone.getCountryCode()).toBe('237');\n        });\n\n        it('should return null for local number', () => {\n            const phone = PhoneNumber.create('690123456').value;\n\n            expect(phone.getCountryCode()).toBeNull();\n        });\n\n        it('should handle different country code lengths', () => {\n            const phone1 = PhoneNumber.create('+1234567890').value;\n            expect(phone1.getCountryCode()).toBeTruthy();\n\n            const phone2 = PhoneNumber.create('+33123456789').value;\n            expect(phone2.getCountryCode()).toBeTruthy();\n        });\n    });\n\n    describe('equals', () => {\n        it('should return true for same phone number', () => {\n            const phone1 = PhoneNumber.create('+237690123456').value;\n            const phone2 = PhoneNumber.create('+237690123456').value;\n\n            expect(phone1.equals(phone2)).toBe(true);\n        });\n\n        it('should return false for different phone numbers', () => {\n            const phone1 = PhoneNumber.create('+237690123456').value;\n            const phone2 = PhoneNumber.create('+237690123457').value;\n\n            expect(phone1.equals(phone2)).toBe(false);\n        });\n    });\n});\n"],
  "mappings": ";;;;;;;;;;;;AAAA;AACA;AAEA,SAAS,4BAA4B,MAAK;AACtC,WAAS,UAAU,MAAK;AACpB,OAAG,oCAAoC,MAAK;AACxC,YAAM,SAAS,YAAY,OAAO,eAAe;AAEjD,aAAO,OAAO,SAAS,EAAE,KAAK,IAAI;AAClC,aAAO,OAAO,MAAM,SAAQ,CAAE,EAAE,KAAK,eAAe;IACxD,CAAC;AAED,OAAG,yCAAyC,MAAK;AAC7C,YAAM,SAAS,YAAY,OAAO,kBAAkB;AAEpD,aAAO,OAAO,SAAS,EAAE,KAAK,IAAI;IACtC,CAAC;AAED,OAAG,0CAA0C,MAAK;AAC9C,YAAM,SAAS,YAAY,OAAO,kBAAkB;AAEpD,aAAO,OAAO,SAAS,EAAE,KAAK,IAAI;IACtC,CAAC;AAED,OAAG,+BAA+B,MAAK;AACnC,YAAM,SAAS,YAAY,OAAO,EAAE;AAEpC,aAAO,OAAO,SAAS,EAAE,KAAK,IAAI;AAClC,aAAO,OAAO,KAAK,EAAE,eAAe,eAAe;AACnD,aAAO,OAAO,MAAM,OAAO,EAAE,UAAU,QAAQ;IACnD,CAAC;AAED,OAAG,mCAAmC,MAAK;AACvC,YAAM,SAAS,YAAY,OAAO,KAAK;AAEvC,aAAO,OAAO,SAAS,EAAE,KAAK,IAAI;AAClC,aAAO,OAAO,MAAM,OAAO,EAAE,UAAU,YAAY;IACvD,CAAC;AAED,OAAG,kCAAkC,MAAK;AACtC,YAAM,SAAS,YAAY,OAAO,uBAAuB;AAEzD,aAAO,OAAO,SAAS,EAAE,KAAK,IAAI;AAClC,aAAO,OAAO,MAAM,OAAO,EAAE,UAAU,WAAW;IACtD,CAAC;AAED,OAAG,sCAAsC,MAAK;AAC1C,YAAM,SAAS,YAAY,OAAO,cAAc;AAEhD,aAAO,OAAO,SAAS,EAAE,KAAK,IAAI;AAClC,aAAO,OAAO,MAAM,OAAO,EAAE,UAAU,UAAU;IACrD,CAAC;AAED,OAAG,0BAA0B,MAAK;AAC9B,YAAM,SAAS,YAAY,OAAO,mBAAmB;AAErD,aAAO,OAAO,SAAS,EAAE,KAAK,IAAI;IACtC,CAAC;EACL,CAAC;AAED,WAAS,gBAAgB,MAAK;AAC1B,OAAG,sCAAsC,MAAK;AAC1C,YAAM,QAAQ,YAAY,OAAO,eAAe,EAAE;AAClD,YAAM,YAAY,MAAM,aAAY;AAEpC,aAAO,SAAS,EAAE,UAAU,MAAM;AAClC,aAAO,SAAS,EAAE,UAAU,GAAG;IACnC,CAAC;AAED,OAAG,8BAA8B,MAAK;AAClC,YAAM,QAAQ,YAAY,OAAO,WAAW,EAAE;AAC9C,YAAM,YAAY,MAAM,aAAY;AAEpC,aAAO,SAAS,EAAE,UAAU,GAAG;IACnC,CAAC;AAED,OAAG,0CAA0C,MAAK;AAC9C,YAAM,QAAQ,YAAY,OAAO,kBAAkB,EAAE;AACrD,YAAM,YAAY,MAAM,aAAY;AAEpC,aAAO,SAAS,EAAE,WAAU;IAChC,CAAC;EACL,CAAC;AAED,WAAS,iBAAiB,MAAK;AAC3B,OAAG,6BAA6B,MAAK;AACjC,YAAM,QAAQ,YAAY,OAAO,kBAAkB,EAAE;AAErD,aAAO,MAAM,cAAa,CAAE,EAAE,KAAK,cAAc;IACrD,CAAC;AAED,OAAG,0CAA0C,MAAK;AAC9C,YAAM,QAAQ,YAAY,OAAO,oBAAoB,EAAE;AAEvD,aAAO,MAAM,cAAa,CAAE,EAAE,KAAK,cAAc;IACrD,CAAC;EACL,CAAC;AAED,WAAS,mBAAmB,MAAK;AAC7B,OAAG,+CAA+C,MAAK;AACnD,YAAM,QAAQ,YAAY,OAAO,eAAe,EAAE;AAElD,aAAO,MAAM,gBAAe,CAAE,EAAE,KAAK,IAAI;IAC7C,CAAC;AAED,OAAG,wCAAwC,MAAK;AAC5C,YAAM,QAAQ,YAAY,OAAO,WAAW,EAAE;AAE9C,aAAO,MAAM,gBAAe,CAAE,EAAE,KAAK,KAAK;IAC9C,CAAC;EACL,CAAC;AAED,WAAS,kBAAkB,MAAK;AAC5B,OAAG,uDAAuD,MAAK;AAC3D,YAAM,QAAQ,YAAY,OAAO,eAAe,EAAE;AAElD,aAAO,MAAM,eAAc,CAAE,EAAE,KAAK,KAAK;IAC7C,CAAC;AAED,OAAG,uCAAuC,MAAK;AAC3C,YAAM,QAAQ,YAAY,OAAO,WAAW,EAAE;AAE9C,aAAO,MAAM,eAAc,CAAE,EAAE,SAAQ;IAC3C,CAAC;AAED,OAAG,gDAAgD,MAAK;AACpD,YAAM,SAAS,YAAY,OAAO,aAAa,EAAE;AACjD,aAAO,OAAO,eAAc,CAAE,EAAE,WAAU;AAE1C,YAAM,SAAS,YAAY,OAAO,cAAc,EAAE;AAClD,aAAO,OAAO,eAAc,CAAE,EAAE,WAAU;IAC9C,CAAC;EACL,CAAC;AAED,WAAS,UAAU,MAAK;AACpB,OAAG,4CAA4C,MAAK;AAChD,YAAM,SAAS,YAAY,OAAO,eAAe,EAAE;AACnD,YAAM,SAAS,YAAY,OAAO,eAAe,EAAE;AAEnD,aAAO,OAAO,OAAO,MAAM,CAAC,EAAE,KAAK,IAAI;IAC3C,CAAC;AAED,OAAG,mDAAmD,MAAK;AACvD,YAAM,SAAS,YAAY,OAAO,eAAe,EAAE;AACnD,YAAM,SAAS,YAAY,OAAO,eAAe,EAAE;AAEnD,aAAO,OAAO,OAAO,MAAM,CAAC,EAAE,KAAK,KAAK;IAC5C,CAAC;EACL,CAAC;AACL,CAAC;",
  "names": []
}
