{
  "version": 3,
  "sources": ["src/app/modules/_shared/domain/value-objects/user-name.vo.spec.ts"],
  "sourcesContent": ["import { UserName } from './user-name.vo';\nimport { ValidationError } from '../errors/domain.error';\n\ndescribe('UserName Value Object', () => {\n    describe('create', () => {\n        it('should create valid username', () => {\n            const result = UserName.create('john.doe');\n\n            expect(result.isSuccess).toBe(true);\n            expect(result.value.getValue()).toBe('john.doe');\n        });\n\n        it('should normalize to lowercase', () => {\n            const result = UserName.create('John.Doe');\n\n            expect(result.isSuccess).toBe(true);\n            expect(result.value.getValue()).toBe('john.doe');\n        });\n\n        it('should accept alphanumeric characters', () => {\n            const result = UserName.create('user123');\n\n            expect(result.isSuccess).toBe(true);\n        });\n\n        it('should accept dots', () => {\n            const result = UserName.create('john.doe');\n\n            expect(result.isSuccess).toBe(true);\n        });\n\n        it('should accept underscores', () => {\n            const result = UserName.create('john_doe');\n\n            expect(result.isSuccess).toBe(true);\n        });\n\n        it('should accept hyphens', () => {\n            const result = UserName.create('john-doe');\n\n            expect(result.isSuccess).toBe(true);\n        });\n\n        it('should fail for empty username', () => {\n            const result = UserName.create('');\n\n            expect(result.isFailure).toBe(true);\n            expect(result.error).toBeInstanceOf(ValidationError);\n            expect(result.error.message).toContain('requis');\n        });\n\n        it('should fail for too short username', () => {\n            const result = UserName.create('ab');\n\n            expect(result.isFailure).toBe(true);\n            expect(result.error.message).toContain('trop court');\n        });\n\n        it('should fail for too long username', () => {\n            const result = UserName.create('a'.repeat(31));\n\n            expect(result.isFailure).toBe(true);\n            expect(result.error.message).toContain('trop long');\n        });\n\n        it('should fail for invalid characters', () => {\n            const result = UserName.create('john@doe');\n\n            expect(result.isFailure).toBe(true);\n            expect(result.error.message).toContain('invalide');\n        });\n\n        it('should fail for spaces', () => {\n            const result = UserName.create('john doe');\n\n            expect(result.isFailure).toBe(true);\n        });\n\n        it('should fail for reserved names', () => {\n            const reservedNames = ['admin', 'root', 'system', 'administrator', 'test'];\n\n            reservedNames.forEach(name => {\n                const result = UserName.create(name);\n                expect(result.isFailure).toBe(true);\n                expect(result.error.message).toContain('réservé');\n            });\n        });\n\n        it('should fail for consecutive special characters', () => {\n            const result = UserName.create('john..doe');\n\n            expect(result.isFailure).toBe(true);\n            expect(result.error.message).toContain('consécutifs');\n        });\n\n        it('should fail for starting with special character', () => {\n            const result = UserName.create('.johndoe');\n\n            expect(result.isFailure).toBe(true);\n            expect(result.error.message).toContain('commencer');\n        });\n\n        it('should fail for ending with special character', () => {\n            const result = UserName.create('johndoe.');\n\n            expect(result.isFailure).toBe(true);\n            expect(result.error.message).toContain('finir');\n        });\n\n        it('should trim whitespace', () => {\n            const result = UserName.create('  johndoe  ');\n\n            expect(result.isSuccess).toBe(true);\n            expect(result.value.getValue()).toBe('johndoe');\n        });\n    });\n\n    describe('isAlphanumericOnly', () => {\n        it('should return true for alphanumeric only', () => {\n            const username = UserName.create('user123').value;\n\n            expect(username.isAlphanumericOnly()).toBe(true);\n        });\n\n        it('should return false for username with special characters', () => {\n            const username = UserName.create('user.name').value;\n\n            expect(username.isAlphanumericOnly()).toBe(false);\n        });\n    });\n\n    describe('getDisplayName', () => {\n        it('should capitalize first letter', () => {\n            const username = UserName.create('johndoe').value;\n\n            expect(username.getDisplayName()).toBe('Johndoe');\n        });\n\n        it('should handle already capitalized', () => {\n            const username = UserName.create('JohnDoe').value;\n\n            // Normalized to lowercase, then capitalized\n            expect(username.getDisplayName()).toBe('Johndoe');\n        });\n    });\n\n    describe('equals', () => {\n        it('should return true for same username', () => {\n            const username1 = UserName.create('johndoe').value;\n            const username2 = UserName.create('johndoe').value;\n\n            expect(username1.equals(username2)).toBe(true);\n        });\n\n        it('should return true for same username with different case', () => {\n            const username1 = UserName.create('johndoe').value;\n            const username2 = UserName.create('JohnDoe').value;\n\n            expect(username1.equals(username2)).toBe(true);\n        });\n\n        it('should return false for different usernames', () => {\n            const username1 = UserName.create('johndoe').value;\n            const username2 = UserName.create('janedoe').value;\n\n            expect(username1.equals(username2)).toBe(false);\n        });\n    });\n\n    describe('edge cases', () => {\n        it('should handle minimum length username', () => {\n            const result = UserName.create('abc');\n\n            expect(result.isSuccess).toBe(true);\n        });\n\n        it('should handle maximum length username', () => {\n            const result = UserName.create('a'.repeat(30));\n\n            expect(result.isSuccess).toBe(true);\n        });\n\n        it('should handle mixed case reserved names', () => {\n            const result = UserName.create('Admin');\n\n            expect(result.isFailure).toBe(true);\n            expect(result.error.message).toContain('réservé');\n        });\n    });\n});\n"],
  "mappings": "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",
  "names": []
}
