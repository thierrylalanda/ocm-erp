{
  "version": 3,
  "sources": ["src/app/modules/manage-users/application/use-cases/activate-user.use-case.ts"],
  "sourcesContent": ["import { Inject, Injectable, InjectionToken } from '@angular/core';\nimport { UserRepository, USER_REPOSITORY } from '../../domain/repositories/user.repository';\nimport { Result, DomainError, NotFoundError, InfrastructureError } from '../../../_shared';\n\n/**\n * Use Case: Activate User\n * \n * Activates a user account, allowing them to log in and use the system.\n * \n * @example\n * const result = await activateUserUseCase.execute(userId);\n * if (result.isSuccess) {\n *   console.log('User activated');\n * } else {\n *   console.error(result.error.message);\n * }\n */\nexport interface ActivateUserUseCase {\n    execute(userId: number): Promise<Result<void, DomainError>>;\n}\n\n@Injectable()\nexport class ActivateUserUseCaseImpl implements ActivateUserUseCase {\n    constructor(\n        @Inject(USER_REPOSITORY) private readonly userRepository: UserRepository\n    ) { }\n\n    async execute(userId: number): Promise<Result<void, DomainError>> {\n        try {\n            // Check if user exists\n            const user = await this.userRepository.findById({ value: userId });\n\n            if (!user) {\n                return Result.fail(new NotFoundError('Utilisateur', userId));\n            }\n\n            // Activate the user\n            await this.userRepository.activateUser({ value: userId });\n\n            return Result.ok(undefined);\n        } catch (error) {\n            return Result.fail(\n                new InfrastructureError(\n                    `Erreur lors de l'activation de l'utilisateur: ${error instanceof Error ? error.message : 'Erreur inconnue'}`,\n                    error instanceof Error ? error : undefined\n                )\n            );\n        }\n    }\n}\n\n/**\n * Injection token for ActivateUserUseCase\n */\nexport const ACTIVATE_USER_USE_CASE = new InjectionToken<ActivateUserUseCase>('ActivateUserUseCase');\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;IAsBa,yBAgCA;;;;;AAtDb;AACA;AACA;AAoBO,IAAM,0BAAN,MAAMA,yBAAuB;MAEc;MAD9C,YAC8C,gBAA8B;AAA9B,aAAA,iBAAA;MAC1C;MAEE,QAAQ,QAAc;;AACxB,cAAI;AAEA,kBAAM,OAAO,MAAM,KAAK,eAAe,SAAS,EAAE,OAAO,OAAM,CAAE;AAEjE,gBAAI,CAAC,MAAM;AACP,qBAAO,OAAO,KAAK,IAAI,cAAc,eAAe,MAAM,CAAC;YAC/D;AAGA,kBAAM,KAAK,eAAe,aAAa,EAAE,OAAO,OAAM,CAAE;AAExD,mBAAO,OAAO,GAAG,MAAS;UAC9B,SAAS,OAAO;AACZ,mBAAO,OAAO,KACV,IAAI,oBACA,iDAAiD,iBAAiB,QAAQ,MAAM,UAAU,iBAAiB,IAC3G,iBAAiB,QAAQ,QAAQ,MAAS,CAC7C;UAET;QACJ;;;6CAxBK,QAAM,MAAA,CAAC,eAAe,EAAA,CAAA,EAAA;;;AAFlB,8BAAuB,WAAA;MADnC,WAAU;OACE,uBAAuB;AAgC7B,IAAM,yBAAyB,IAAI,eAAoC,qBAAqB;;;",
  "names": ["ActivateUserUseCaseImpl"]
}
