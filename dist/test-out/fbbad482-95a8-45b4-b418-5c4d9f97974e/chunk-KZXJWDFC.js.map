{
  "version": 3,
  "sources": ["src/app/modules/_shared/domain/value-objects/email.vo.ts"],
  "sourcesContent": ["import { ValueObject } from '../base/value-object.base';\nimport { Result } from '../types/result.type';\nimport { ValidationError } from '../errors/domain.error';\n\n/**\n * Email Value Object\n * \n * Ensures email validity and normalization (lowercase).\n * Immutable and self-validating.\n * \n * @example\n * const emailResult = Email.create('user@example.com');\n * if (emailResult.isSuccess) {\n *   const email = emailResult.value;\n *   console.log(email.getValue()); // 'user@example.com'\n * }\n */\nexport class Email extends ValueObject<string> {\n    private static readonly EMAIL_REGEX = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    private static readonly MAX_LENGTH = 255;\n\n    private constructor(value: string) {\n        super(value);\n    }\n\n    /**\n     * Create an Email value object\n     * \n     * @param email - The email string to validate\n     * @returns Result with Email or ValidationError\n     */\n    static create(email: string): Result<Email, ValidationError> {\n        // Check if empty\n        if (!email || email.trim().length === 0) {\n            return Result.fail(new ValidationError('Email requis', 'email'));\n        }\n\n        // Normalize\n        const normalizedEmail = email.trim().toLowerCase();\n\n        // Check length\n        if (normalizedEmail.length > this.MAX_LENGTH) {\n            return Result.fail(\n                new ValidationError(`Email trop long (max ${this.MAX_LENGTH} caract√®res)`, 'email')\n            );\n        }\n\n        // Check format\n        if (!this.EMAIL_REGEX.test(normalizedEmail)) {\n            return Result.fail(new ValidationError('Format d\\'email invalide', 'email'));\n        }\n\n        return Result.ok(new Email(normalizedEmail));\n    }\n\n    /**\n     * Get the domain part of the email\n     * @example email.getDomain() // 'example.com'\n     */\n    getDomain(): string {\n        return this.value.split('@')[1];\n    }\n\n    /**\n     * Get the local part of the email\n     * @example email.getLocalPart() // 'user'\n     */\n    getLocalPart(): string {\n        return this.value.split('@')[0];\n    }\n\n    /**\n     * Check if email is from a specific domain\n     */\n    isFromDomain(domain: string): boolean {\n        return this.getDomain().toLowerCase() === domain.toLowerCase();\n    }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;AAAA,IAiBa;AAjBb;;;;AACA;AACA;AAeM,IAAO,QAAP,MAAO,eAAc,YAAmB;MAClC,OAAgB,cAAc;MAC9B,OAAgB,aAAa;MAErC,YAAoB,OAAa;AAC7B,cAAM,KAAK;MACf;;;;;;;MAQA,OAAO,OAAO,OAAa;AAEvB,YAAI,CAAC,SAAS,MAAM,KAAI,EAAG,WAAW,GAAG;AACrC,iBAAO,OAAO,KAAK,IAAI,gBAAgB,gBAAgB,OAAO,CAAC;QACnE;AAGA,cAAM,kBAAkB,MAAM,KAAI,EAAG,YAAW;AAGhD,YAAI,gBAAgB,SAAS,KAAK,YAAY;AAC1C,iBAAO,OAAO,KACV,IAAI,gBAAgB,wBAAwB,KAAK,UAAU,mBAAgB,OAAO,CAAC;QAE3F;AAGA,YAAI,CAAC,KAAK,YAAY,KAAK,eAAe,GAAG;AACzC,iBAAO,OAAO,KAAK,IAAI,gBAAgB,2BAA4B,OAAO,CAAC;QAC/E;AAEA,eAAO,OAAO,GAAG,IAAI,OAAM,eAAe,CAAC;MAC/C;;;;;MAMA,YAAS;AACL,eAAO,KAAK,MAAM,MAAM,GAAG,EAAE,CAAC;MAClC;;;;;MAMA,eAAY;AACR,eAAO,KAAK,MAAM,MAAM,GAAG,EAAE,CAAC;MAClC;;;;MAKA,aAAa,QAAc;AACvB,eAAO,KAAK,UAAS,EAAG,YAAW,MAAO,OAAO,YAAW;MAChE;;;;",
  "names": []
}
