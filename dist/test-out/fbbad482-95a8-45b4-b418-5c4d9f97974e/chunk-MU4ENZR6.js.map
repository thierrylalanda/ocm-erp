{
  "version": 3,
  "sources": ["src/app/modules/_shared/application/ports/application-context.port.ts"],
  "sourcesContent": ["import { InjectionToken } from '@angular/core';\n\n/**\n * Application Context Port (Interface)\n * \n * Provides access to application-wide context information like:\n * - Current user\n * - Current company (société)\n * - Authentication state\n * \n * This is a port (interface) in Clean Architecture terms.\n * The actual implementation (adapter) can use localStorage, sessionStorage,\n * or any other mechanism.\n * \n * Benefits:\n * - Decouples repositories from storage mechanism\n * - Easy to test (mock the context)\n * - Easy to change storage implementation\n * - Single source of truth for context data\n * \n * @example\n * // In repository\n * constructor(\n *   @Inject(APPLICATION_CONTEXT) private context: ApplicationContext\n * ) {}\n * \n * async findAll(): Promise<User[]> {\n *   const societeId = this.context.getSocieteId();\n *   return this.http.get(`/users?societeId=${societeId}`);\n * }\n */\nexport interface ApplicationContext {\n    /**\n     * Get the current société (company) ID\n     */\n    getSocieteId(): number;\n\n    /**\n     * Get the current user ID\n     */\n    getUserId(): number;\n\n    /**\n     * Get the current site ID (if applicable)\n     */\n    getSiteId(): number | null;\n\n    /**\n     * Get the current département ID (if applicable)\n     */\n    getDepartementId(): number | null;\n\n    /**\n     * Get the authentication token\n     */\n    getToken(): string | null;\n\n    /**\n     * Check if user is authenticated\n     */\n    isAuthenticated(): boolean;\n\n    /**\n     * Get user permissions\n     */\n    getPermissions(): string[];\n\n    /**\n     * Check if user has a specific permission\n     */\n    hasPermission(permission: string): boolean;\n\n    /**\n     * Get user roles\n     */\n    getRoles(): string[];\n\n    /**\n     * Check if user has a specific role\n     */\n    hasRole(role: string): boolean;\n\n    /**\n     * Get user language preference\n     */\n    getLanguage(): string;\n\n    /**\n     * Set société ID\n     */\n    setSocieteId(id: number): void;\n\n    /**\n     * Set user ID\n     */\n    setUserId(id: number): void;\n\n    /**\n     * Set authentication token\n     */\n    setToken(token: string): void;\n\n    /**\n     * Clear all context data (logout)\n     */\n    clear(): void;\n}\n\n/**\n * Injection token for ApplicationContext\n */\nexport const APPLICATION_CONTEXT = new InjectionToken<ApplicationContext>('ApplicationContext');\n"],
  "mappings": ";;;;;;;;;AAAA,IA+Ga;AA/Gb;;;;AA+GO,IAAM,sBAAsB,IAAI,eAAmC,oBAAoB;;;",
  "names": []
}
