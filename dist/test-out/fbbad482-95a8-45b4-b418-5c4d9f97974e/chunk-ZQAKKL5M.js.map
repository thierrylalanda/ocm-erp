{
  "version": 3,
  "sources": ["src/app/modules/manage-users/application/use-cases/deactivate-user.use-case.ts"],
  "sourcesContent": ["import { Inject, Injectable, InjectionToken } from '@angular/core';\nimport { UserRepository, USER_REPOSITORY } from '../../domain/repositories/user.repository';\nimport { Result, DomainError, NotFoundError, InfrastructureError } from '../../../_shared';\n\n/**\n * Use Case: Deactivate User\n * \n * Deactivates a user account, preventing them from logging in.\n * The user data is preserved but access is revoked.\n * \n * @example\n * const result = await deactivateUserUseCase.execute(userId);\n * if (result.isSuccess) {\n *   console.log('User deactivated');\n * } else {\n *   console.error(result.error.message);\n * }\n */\nexport interface DeactivateUserUseCase {\n    execute(userId: number): Promise<Result<void, DomainError>>;\n}\n\n@Injectable()\nexport class DeactivateUserUseCaseImpl implements DeactivateUserUseCase {\n    constructor(\n        @Inject(USER_REPOSITORY) private readonly userRepository: UserRepository\n    ) { }\n\n    async execute(userId: number): Promise<Result<void, DomainError>> {\n        try {\n            // Check if user exists\n            const user = await this.userRepository.findById({ value: userId });\n\n            if (!user) {\n                return Result.fail(new NotFoundError('Utilisateur', userId));\n            }\n\n            // Deactivate the user\n            await this.userRepository.deactivateUser({ value: userId });\n\n            return Result.ok(undefined);\n        } catch (error) {\n            return Result.fail(\n                new InfrastructureError(\n                    `Erreur lors de la d√©sactivation de l'utilisateur: ${error instanceof Error ? error.message : 'Erreur inconnue'}`,\n                    error instanceof Error ? error : undefined\n                )\n            );\n        }\n    }\n}\n\n/**\n * Injection token for DeactivateUserUseCase\n */\nexport const DEACTIVATE_USER_USE_CASE = new InjectionToken<DeactivateUserUseCase>('DeactivateUserUseCase');\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;IAuBa,2BAgCA;;;;;AAvDb;AACA;AACA;AAqBO,IAAM,4BAAN,MAAMA,2BAAyB;MAEY;MAD9C,YAC8C,gBAA8B;AAA9B,aAAA,iBAAA;MAC1C;MAEE,QAAQ,QAAc;;AACxB,cAAI;AAEA,kBAAM,OAAO,MAAM,KAAK,eAAe,SAAS,EAAE,OAAO,OAAM,CAAE;AAEjE,gBAAI,CAAC,MAAM;AACP,qBAAO,OAAO,KAAK,IAAI,cAAc,eAAe,MAAM,CAAC;YAC/D;AAGA,kBAAM,KAAK,eAAe,eAAe,EAAE,OAAO,OAAM,CAAE;AAE1D,mBAAO,OAAO,GAAG,MAAS;UAC9B,SAAS,OAAO;AACZ,mBAAO,OAAO,KACV,IAAI,oBACA,wDAAqD,iBAAiB,QAAQ,MAAM,UAAU,iBAAiB,IAC/G,iBAAiB,QAAQ,QAAQ,MAAS,CAC7C;UAET;QACJ;;;6CAxBK,QAAM,MAAA,CAAC,eAAe,EAAA,CAAA,EAAA;;;AAFlB,gCAAyB,WAAA;MADrC,WAAU;OACE,yBAAyB;AAgC/B,IAAM,2BAA2B,IAAI,eAAsC,uBAAuB;;;",
  "names": ["DeactivateUserUseCaseImpl"]
}
