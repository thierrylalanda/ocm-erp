{
  "version": 3,
  "sources": ["src/app/core/guards/loggedIn/logged-in.guard.spec.ts", "src/app/core/guards/loggedIn/logged-in.guard.ts"],
  "sourcesContent": ["import { TestBed } from '@angular/core/testing';\n\nimport { LoggedInGuard } from './logged-in.guard';\n\ndescribe('LoggedInGuard', () => {\n  let guard: LoggedInGuard;\n\n  beforeEach(() => {\n    TestBed.configureTestingModule({});\n    guard = TestBed.inject(LoggedInGuard);\n  });\n\n  it('should be created', () => {\n    expect(guard).toBeTruthy();\n  });\n});\n", "import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, Route, Router, RouterStateSnapshot, UrlSegment, UrlTree } from '@angular/router';\nimport { Observable, of, switchMap } from 'rxjs';\nimport { AuthService, routes } from '../../core.index';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class LoggedInGuard {\n  constructor(private router: Router,private authService:AuthService) {}\n\n   // -----------------------------------------------------------------------------------------------------\n    // @ Public methods\n    // -----------------------------------------------------------------------------------------------------\n\n    /**\n     * Can activate\n     *\n     * @param route\n     * @param state\n     */\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> | Promise<boolean> | boolean\n    {\n        const redirectUrl = state.url === routes.login ? routes.login : state.url;\n        return this._check(redirectUrl);\n    }\n\n  /**\n     * Can activate child\n     *\n     * @param childRoute\n     * @param state\n     */\n    canActivateChild(childRoute: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean | UrlTree> | Promise<boolean | UrlTree> | boolean | UrlTree\n    {\n        const redirectUrl = state.url === routes.login ? routes.login : state.url;\n        return this._check(redirectUrl);\n    }\n\n    /**\n     * Can load\n     *\n     * @param route\n     * @param segments\n     */\n    canLoad(route: Route, segments: UrlSegment[]): Observable<boolean> | Promise<boolean> | boolean\n    {\n        return this._check('/');\n    }\n\n    // -----------------------------------------------------------------------------------------------------\n    // @ Private methods\n    // -----------------------------------------------------------------------------------------------------\n\n    /**\n     * Check the authenticated status\n     *\n     * @param redirectURL\n     * @private\n     */\n    private _check(redirectURL: string): Observable<boolean>\n    {\n        // Check the authentication status\n        return this.authService.check()\n                   .pipe(\n                       switchMap((authenticated) => {\n\n                           // If the user is not authenticated...\n                           if ( !authenticated )\n                           {\n                               // Redirect to the sign-in page\n                               this.router.navigate([routes.login], {queryParams: {redirectURL}});\n\n                               // Prevent the access\n                               return of(false);\n                           }\n                         \n\n                           // Allow the access\n                           return of(true);\n                       })\n                   );\n    }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;ACAA;AACA;AACA;AACA;AAKO,IAAM,gBAAN,MAAMA,eAAa;EACJ;EAAuB;EAA3C,YAAoB,QAAuB,aAAuB;AAA9C,SAAA,SAAA;AAAuB,SAAA,cAAA;EAA0B;;;;;;;;;;EAYnE,YAAY,OAA+B,OAA0B;AAEjE,UAAM,cAAc,MAAM,QAAQ,OAAO,QAAQ,OAAO,QAAQ,MAAM;AACtE,WAAO,KAAK,OAAO,WAAW;EAClC;;;;;;;EAQA,iBAAiB,YAAoC,OAA0B;AAE3E,UAAM,cAAc,MAAM,QAAQ,OAAO,QAAQ,OAAO,QAAQ,MAAM;AACtE,WAAO,KAAK,OAAO,WAAW;EAClC;;;;;;;EAQA,QAAQ,OAAc,UAAsB;AAExC,WAAO,KAAK,OAAO,GAAG;EAC1B;;;;;;;;;;EAYQ,OAAO,aAAmB;AAG9B,WAAO,KAAK,YAAY,MAAK,EACjB,KACG,UAAU,CAAC,kBAAiB;AAGxB,UAAK,CAAC,eACN;AAEI,aAAK,OAAO,SAAS,CAAC,OAAO,KAAK,GAAG,EAAC,aAAa,EAAC,YAAW,EAAC,CAAC;AAGjE,eAAO,GAAG,KAAK;MACnB;AAIA,aAAO,GAAG,IAAI;IAClB,CAAC,CAAC;EAErB;;;;;;AA1ES,gBAAa,WAAA;EAHzB,WAAW;IACV,YAAY;GACb;GACY,aAAa;;;ADJ1B,SAAS,iBAAiB,MAAK;AAC7B,MAAI;AAEJ,aAAW,MAAK;AACd,YAAQ,uBAAuB,CAAA,CAAE;AACjC,YAAQ,QAAQ,OAAO,aAAa;EACtC,CAAC;AAED,KAAG,qBAAqB,MAAK;AAC3B,WAAO,KAAK,EAAE,WAAU;EAC1B,CAAC;AACH,CAAC;",
  "names": ["LoggedInGuard"]
}
