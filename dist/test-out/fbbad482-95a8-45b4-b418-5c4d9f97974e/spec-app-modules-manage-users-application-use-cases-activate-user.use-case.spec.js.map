{
  "version": 3,
  "sources": ["src/app/modules/manage-users/application/use-cases/activate-user.use-case.spec.ts"],
  "sourcesContent": ["import { ActivateUserUseCaseImpl } from './activate-user.use-case';\nimport { UserRepository } from '../../domain/repositories/user.repository';\nimport { NotFoundError, DomainError } from '../../../_shared';\nimport { Result } from '../../../_shared/domain/types/result.type';\n\ndescribe('ActivateUserUseCase', () => {\n    let useCase: ActivateUserUseCaseImpl;\n    let mockRepository: jasmine.SpyObj<UserRepository>;\n\n    beforeEach(() => {\n        mockRepository = jasmine.createSpyObj('UserRepository', ['findById', 'activateUser']);\n        useCase = new ActivateUserUseCaseImpl(mockRepository);\n    });\n\n    describe('execute', () => {\n        it('should activate user successfully', async () => {\n            const userId = 1;\n            const mockUser = {\n                id: userId,\n                nomPrenom: 'John Doe',\n                email: 'john@example.com',\n                statut: 'INACTIF'\n            };\n\n            mockRepository.findById.and.returnValue(Promise.resolve(mockUser as any));\n            mockRepository.activateUser.and.returnValue(Promise.resolve({ ...mockUser, statut: 'ACTIF' } as any));\n\n            const result = await useCase.execute(userId);\n\n            expect(result.isSuccess).toBe(true);\n            expect(mockRepository.findById).toHaveBeenCalledWith(jasmine.objectContaining({ value: userId }));\n            expect(mockRepository.activateUser).toHaveBeenCalledWith(jasmine.objectContaining({ value: userId }));\n        });\n\n        it('should fail when user not found', async () => {\n            const userId = 999;\n            mockRepository.findById.and.returnValue(Promise.resolve(null));\n\n            const result = await useCase.execute(userId);\n\n            expect(result.isFailure).toBe(true);\n            expect(result.error).toBeInstanceOf(NotFoundError);\n            expect((result.error as any).message).toContain('999');\n            expect(mockRepository.activateUser).not.toHaveBeenCalled();\n        });\n    });\n});\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;AAEA;AAGA,aAAS,uBAAuB,MAAK;AACjC,UAAI;AACJ,UAAI;AAEJ,iBAAW,MAAK;AACZ,yBAAiB,QAAQ,aAAa,kBAAkB,CAAC,YAAY,cAAc,CAAC;AACpF,kBAAU,IAAI,wBAAwB,cAAc;MACxD,CAAC;AAED,eAAS,WAAW,MAAK;AACrB,WAAG,qCAAqC,MAAW;AAC/C,gBAAM,SAAS;AACf,gBAAM,WAAW;YACb,IAAI;YACJ,WAAW;YACX,OAAO;YACP,QAAQ;;AAGZ,yBAAe,SAAS,IAAI,YAAY,QAAQ,QAAQ,QAAe,CAAC;AACxE,yBAAe,aAAa,IAAI,YAAY,QAAQ,QAAQ,iCAAK,WAAL,EAAe,QAAQ,QAAO,EAAS,CAAC;AAEpG,gBAAM,SAAS,MAAM,QAAQ,QAAQ,MAAM;AAE3C,iBAAO,OAAO,SAAS,EAAE,KAAK,IAAI;AAClC,iBAAO,eAAe,QAAQ,EAAE,qBAAqB,QAAQ,iBAAiB,EAAE,OAAO,OAAM,CAAE,CAAC;AAChG,iBAAO,eAAe,YAAY,EAAE,qBAAqB,QAAQ,iBAAiB,EAAE,OAAO,OAAM,CAAE,CAAC;QACxG,EAAC;AAED,WAAG,mCAAmC,MAAW;AAC7C,gBAAM,SAAS;AACf,yBAAe,SAAS,IAAI,YAAY,QAAQ,QAAQ,IAAI,CAAC;AAE7D,gBAAM,SAAS,MAAM,QAAQ,QAAQ,MAAM;AAE3C,iBAAO,OAAO,SAAS,EAAE,KAAK,IAAI;AAClC,iBAAO,OAAO,KAAK,EAAE,eAAe,aAAa;AACjD,iBAAQ,OAAO,MAAc,OAAO,EAAE,UAAU,KAAK;AACrD,iBAAO,eAAe,YAAY,EAAE,IAAI,iBAAgB;QAC5D,EAAC;MACL,CAAC;IACL,CAAC;;;",
  "names": []
}
