{
  "version": 3,
  "sources": ["angular:jit:template:src/app/modules/manage-users/presentation/pages/permission/permission.component.html", "angular:jit:style:src/app/modules/manage-users/presentation/pages/permission/permission.component.scss", "src/app/modules/manage-users/application/dto/permission.dto.ts", "src/app/modules/manage-users/application/use-cases/get-permissions.use-case.token.ts", "src/app/modules/manage-users/domain/repositories/permission.repository.token.ts", "src/app/modules/manage-users/application/use-cases/get-permissions.use-case.ts", "src/app/modules/manage-users/infrastructure/repositories/http-permission.repository.ts", "src/app/modules/manage-users/presentation/pages/permission/permission.component.ts", "src/app/modules/manage-users/presentation/pages/permission/permission.component.spec.ts"],
  "sourcesContent": ["<!-- Start Content -->\n<div class=\"content-two\">\n\n    <!-- Page Header -->\n    <div class=\"d-flex d-block align-items-center justify-content-between flex-wrap gap-3 mb-3\">\n        <div>\n            <h6>\n                <a [routerLink]=\"routes.rolePermissions\">\n                    <i class=\"isax isax-arrow-left me-1\"></i>\n                    {{ 'permissions.permissionManagement.title' | translate }}\n                </a>\n            </h6>\n        </div>\n        <div class=\"d-flex my-xl-auto right-content align-items-center flex-wrap gap-2\">\n            <div class=\"dropdown me-2\">\n                <a href=\"javascript:void(0);\" class=\"dropdown-toggle btn btn-outline-white d-inline-flex align-items-center\" data-bs-toggle=\"dropdown\">\n                    {{ 'permissions.permissionManagement.role' | translate }} : <span class=\"fw-normal ms-1\">{{ roleNom || ('permissions.permissionManagement.roleLoading' | translate) }}</span>\n                </a>\n                <ul class=\"dropdown-menu dropdown-menu-end\">\n                    <li>\n                        <a href=\"javascript:void(0);\" class=\"dropdown-item\">{{ 'permissions.permissionManagement.roleCode' | translate }}: {{ roleCode }}</a>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n    <!-- End Page Header -->\n\n    <!-- Success Message -->\n    <div *ngIf=\"saveSuccess\" class=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\n        <i class=\"isax isax-tick-circle me-2\"></i> {{ 'permissions.permissionManagement.saveSuccess' | translate }}\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\" (click)=\"dismissSaveSuccess()\"></button>\n    </div>\n\n    <!-- Error Message -->\n    <div *ngIf=\"saveError\" class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\n        <i class=\"isax isax-danger me-2\"></i> {{ saveError }}\n        <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\" aria-label=\"Close\" (click)=\"dismissSaveError()\"></button>\n    </div>\n\n    <!-- Loading State -->\n    <div *ngIf=\"loading\" class=\"text-center py-5\">\n        <div class=\"spinner-border text-primary\" role=\"status\">\n            <span class=\"visually-hidden\">Loading...</span>\n        </div>\n        <p class=\"mt-2\">{{ 'permissions.permissionManagement.loading' | translate }}</p>\n    </div>\n\n    <!-- Error State -->\n    <div *ngIf=\"error && !loading\" class=\"alert alert-danger\" role=\"alert\">\n        <i class=\"isax isax-danger me-2\"></i> {{ error }}\n        <button type=\"button\" class=\"btn btn-sm btn-outline-danger ms-2\" (click)=\"loadData()\">{{ 'permissions.permissionManagement.retry' | translate }}</button>\n    </div>\n\n    <!-- Save Button -->\n    <div *ngIf=\"!loading && !error\" class=\"d-flex justify-content-end mb-3\">\n        <button type=\"button\" class=\"btn btn-primary d-inline-flex align-items-center\" (click)=\"savePermissions()\" [disabled]=\"!hasChanges() || saving\">\n            <span *ngIf=\"saving\" class=\"spinner-border spinner-border-sm me-1\"></span>\n            <i *ngIf=\"!saving\" class=\"isax isax-save-2 me-1\"></i>\n            {{ saving ? ('permissions.permissionManagement.saving' | translate) : ('permissions.permissionManagement.saveButton' | translate) }}\n        </button>\n    </div>\n\n    <!-- Start Treeview Structure -->\n    <div *ngIf=\"!loading && !error\" class=\"treeview-container\">\n        <!-- Modules List -->\n        <ul class=\"treeview\">\n            <ng-container *ngFor=\"let module of getAvailableModules(); let moduleIndex = index\">\n                <li class=\"treeview-item\">\n                    <!-- Module Header -->\n                    <div class=\"treeview-header d-flex align-items-center cursor-pointer\" \n                         (click)=\"toggleModuleExpansion(moduleIndex)\">\n                        <i class=\"isax isax-arrow-down-1 me-2 transition-icon\" \n                           [class.rotate-90]=\"isModuleExpanded(moduleIndex)\"></i>\n                        <span class=\"fw-bold\">{{ getModuleDisplayName(module) | translate }}</span>\n                        <span class=\"badge bg-primary rounded-pill ms-2\">{{ getPermissionsBySubModule(module).size }}</span>\n                    </div>\n                    \n                    <!-- Module Content (Collapsible) -->\n                    <ul *ngIf=\"isModuleExpanded(moduleIndex)\" class=\"treeview-submenu\">\n                        <ng-container *ngFor=\"let subModuleEntry of getPermissionsBySubModule(module) | keyvalue; let subModuleIndex = index\">\n                            <li class=\"treeview-item\">\n                                <!-- Sub-module Header -->\n                                <div class=\"treeview-header d-flex align-items-center\">\n                                    <!-- Zone cliquable pour l'expansion (fl\u00E8che + texte) -->\n                                    <div class=\"d-flex align-items-center flex-grow-1 cursor-pointer\"\n                                         (click)=\"toggleSubModuleExpansion(moduleIndex, subModuleIndex)\">\n                                        <i class=\"isax isax-arrow-right-1 me-2 transition-icon\" \n                                           [class.rotate-90]=\"isSubModuleExpanded(moduleIndex, subModuleIndex)\"></i>\n                                        <span class=\"fw-semibold\">{{ subModuleEntry.key }}</span>\n                                    </div>\n                                    <!-- Zone de la checkbox \"Allow All\" (s\u00E9par\u00E9e) -->\n                                    <div class=\"form-check m-0\">\n                                        <input class=\"form-check-input\" \n                                               type=\"checkbox\"\n                                               [checked]=\"isAllPermissionsAssignedForSubModule(subModuleEntry.value)\"\n                                               (change)=\"toggleAllPermissionsForSubModule(subModuleEntry.value, $event)\">\n                                        <label class=\"form-check-label small ms-1\">\n                                            {{ 'permissions.permissionManagement.allowAll' | translate }}\n                                        </label>\n                                    </div>\n                                </div>\n                                \n                                <!-- Sub-module Content (Collapsible) -->\n                                <ul *ngIf=\"isSubModuleExpanded(moduleIndex, subModuleIndex)\" class=\"treeview-submenu\">\n                                    <ng-container *ngFor=\"let actionEntry of subModuleEntry.value | keyvalue\">\n                                        <li *ngIf=\"actionEntry.value.length > 0\" class=\"treeview-item\">\n                                            <!-- Action Header -->\n                                          \n                                            \n                                            <!-- Permissions List -->\n                                            <ul class=\"treeview-permissions\">\n                                                <ng-container *ngFor=\"let permission of actionEntry.value\">\n                                                    <li class=\"treeview-permission-item\">\n                                                        <div class=\"form-check d-flex align-items-center\">\n                                                            <input class=\"form-check-input me-2\" \n                                                                   type=\"checkbox\" \n                                                                   [id]=\"'permission-' + permission.id\"\n                                                                   [checked]=\"isPermissionAssigned(permission.id)\"\n                                                                   (change)=\"onPermissionChange(permission.id, $event)\">\n                                                            <label class=\"form-check-label flex-grow-1\" [for]=\"'permission-' + permission.id\">\n                                                                {{ permission.permNom || permission.permCode }}\n                                                            </label>\n                                                            <!-- Permission Help Icon -->\n                                                            <i *ngIf=\"permission.permDescription\" \n                                                               class=\"isax isax-info-circle ms-2 text-muted cursor-help\"\n                                                               [attr.data-bs-toggle]=\"'popover'\"\n                                                               [attr.data-bs-trigger]=\"'hover focus'\"\n                                                               [attr.data-bs-placement]=\"'top'\"\n                                                               [attr.data-bs-content]=\"permission.permDescription\"\n                                                               [title]=\"permission.permDescription\"></i>\n                                                        </div>\n                                                    </li>\n                                                </ng-container>\n                                            </ul>\n                                        </li>\n                                    </ng-container>\n                                </ul>\n                            </li>\n                        </ng-container>\n\n                        <!-- No sub-modules message -->\n                        <li *ngIf=\"getPermissionsBySubModule(module).size === 0\" class=\"treeview-item text-center py-3\">\n                            <i class=\"isax isax-shield-slash fs-24 text-muted mb-2 d-block\"></i>\n                            <p class=\"text-muted mb-0 small\">{{ 'permissions.permissionManagement.noModulePermissions' | translate }}</p>\n                        </li>\n                    </ul>\n                </li>\n            </ng-container>\n\n            <!-- No permissions message -->\n            <li *ngIf=\"getAvailableModules().length === 0 && !loading\" class=\"treeview-item text-center py-5\">\n                <i class=\"isax isax-shield-slash fs-48 text-muted mb-3 d-block\"></i>\n                <h5 class=\"text-muted mb-2\">{{ 'permissions.permissionManagement.noPermissions' | translate }}</h5>\n                <p class=\"text-muted mb-0\">{{ 'permissions.permissionManagement.noPermissionsMessage' | translate }}</p>\n            </li>\n        </ul>\n    </div>\n    <!-- End Treeview Structure -->\n\n</div>\n<!-- End Content -->\n\n<style>\n.treeview-container {\n    padding: 1rem;\n    background-color: #f8f9fa;\n    border-radius: 8px;\n}\n\n.treeview {\n    list-style: none;\n    padding-left: 0;\n    margin-bottom: 0;\n}\n\n.treeview-item {\n    margin-bottom: 0.5rem;\n}\n\n.treeview-header {\n    padding: 0.75rem 1rem;\n    background-color: white;\n    border: 1px solid #dee2e6;\n    border-radius: 6px;\n    transition: all 0.2s ease;\n}\n\n.treeview-header:hover {\n    background-color: #f8f9fa;\n    border-color: #0d6efd;\n}\n\n.treeview-submenu {\n    list-style: none;\n    padding-left: 1.5rem;\n    margin-top: 0.5rem;\n    margin-bottom: 0.5rem;\n    border-left: 2px solid #dee2e6;\n}\n\n.treeview-action-header {\n    padding: 0.5rem 0.75rem;\n    background-color: #f8f9fa;\n    border-radius: 4px;\n    margin-bottom: 0.5rem;\n}\n\n.treeview-permissions {\n    list-style: none;\n    padding-left: 1rem;\n    margin-bottom: 0.5rem;\n}\n\n.treeview-permission-item {\n    padding: 0.5rem 0.75rem;\n    background-color: white;\n    border: 1px solid #e9ecef;\n    border-radius: 4px;\n    margin-bottom: 0.25rem;\n}\n\n.treeview-permission-item:hover {\n    background-color: #f8f9fa;\n}\n\n.cursor-pointer {\n    cursor: pointer;\n}\n\n.cursor-help {\n    cursor: help;\n}\n\n.transition-icon {\n    transition: transform 0.3s ease;\n}\n\n.rotate-90 {\n    transform: rotate(90deg);\n}\n\n.rotate-90.isax-arrow-down-1 {\n    transform: rotate(180deg);\n}\n\n.form-check-input:checked {\n    background-color: #0d6efd;\n    border-color: #0d6efd;\n}\n\n.badge {\n    font-size: 0.75rem;\n    padding: 0.25rem 0.5rem;\n}\n</style>\n", "/* src/app/modules/manage-users/presentation/pages/permission/permission.component.scss */\n/*# sourceMappingURL=permission.component.css.map */\n", "/**\n * Module enum pour les permissions\n */\nexport enum PermissionModule {\n  CAISSE = 'CAISSE',\n  STOCK = 'STOCK',\n  PRODUCTION = 'PRODUCTION',\n  COMPTABILITE = 'COMPTABILITE',\n  APPROVISIONNEMENT = 'APPROVISIONNEMENT'\n}\n\n/**\n * Action enum pour les permissions\n */\nexport enum PermissionAction {\n  CREATE = 'CREATE',\n  READ = 'READ',\n  UPDATE = 'UPDATE',\n  DELETE = 'DELETE',\n  EXPORT = 'EXPORT',\n  IMPORT = 'IMPORT',\n  PRINT = 'PRINT'\n}\n\n/**\n * DTO pour une permission\n */\nexport interface PermissionDto {\n  id: number;\n  permCode: string;\n  permNom: string;\n  permModule: PermissionModule;\n  permAction: PermissionAction;\n  permDescription: string;\n}\n\n/**\n * DTO pour une permission de rôle\n */\nexport interface RolePermissionDto {\n  id: number;\n  permissionId: number;\n  permCode: string;\n  permNom: string;\n  permModule: PermissionModule;\n  permAction: PermissionAction;\n  dateAttribution: string;\n  attribueParNom: string;\n}\n\n/**\n * DTO pour les permissions d'un rôle\n */\nexport interface RolePermissionsResponseDto {\n  roleId: number;\n  roleCode: string;\n  roleNom: string;\n  permissions: RolePermissionDto[];\n}\n\n/**\n * DTO pour la réponse paginée des permissions\n */\nexport interface PermissionsPagedResponseDto {\n  content: PermissionDto[];\n  page: number;\n  size: number;\n  totalElements: number;\n  totalPages: number;\n}\n\n/**\n * DTO pour assigner une permission à un rôle\n */\nexport interface AssignPermissionDto {\n  permissionId: number;\n}\n", "import { InjectionToken } from '@angular/core';\nimport { GetPermissionsUseCase } from './get-permissions.use-case';\n\n/**\n * Token d'injection pour le use case de récupération des permissions\n */\nexport const GET_PERMISSIONS_USE_CASE = new InjectionToken<GetPermissionsUseCase>('GET_PERMISSIONS_USE_CASE');\n", "import { InjectionToken } from '@angular/core';\nimport { PermissionRepository } from './permission.repository';\n\n/**\n * Token d'injection pour le repository des permissions\n */\nexport const PERMISSION_REPOSITORY = new InjectionToken<PermissionRepository>('PERMISSION_REPOSITORY');\n", "import { inject, Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { PermissionsPagedResponseDto } from '../dto/permission.dto';\nimport { PERMISSION_REPOSITORY } from '../../domain/repositories/permission.repository.token';\n\n/**\n * Interface pour le use case de récupération des permissions\n */\nexport interface GetPermissionsUseCase {\n  execute(page?: number, size?: number): Observable<PermissionsPagedResponseDto>;\n}\n\n/**\n * Implémentation du use case de récupération des permissions\n */\n@Injectable()\nexport class GetPermissionsUseCaseImpl implements GetPermissionsUseCase {\n  private permissionRepository = inject(PERMISSION_REPOSITORY);\n\n  execute(page = 0, size = 100): Observable<PermissionsPagedResponseDto> {\n    return this.permissionRepository.getAllPermissions(page, size);\n  }\n}\n", "import { Injectable, inject } from '@angular/core';\nimport { HttpClient, HttpParams } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../../../../environments/environment';\nimport { PermissionRepository } from '../../domain/repositories/permission.repository';\nimport { \n  PermissionsPagedResponseDto, \n  RolePermissionsResponseDto, \n  AssignPermissionDto \n} from '../../application/dto/permission.dto';\n\n@Injectable()\nexport class HttpPermissionRepository implements PermissionRepository {\n  private http = inject(HttpClient);\n  private baseUrl = `${environment.api}security`;\n\n  getAllPermissions(page = 0, size = 100): Observable<PermissionsPagedResponseDto> {\n    const params = new HttpParams()\n      .set('page', page.toString())\n      .set('size', size.toString());\n    \n    return this.http.get<PermissionsPagedResponseDto>(`${this.baseUrl}/permissions`, { params });\n  }\n\n  getRolePermissions(roleId: number): Observable<RolePermissionsResponseDto> {\n    return this.http.get<RolePermissionsResponseDto>(`${this.baseUrl}/roles/${roleId}/permissions`);\n  }\n\n  assignPermissionToRole(roleId: number, permission: AssignPermissionDto): Observable<void> {\n    return this.http.post<void>(`${this.baseUrl}/roles/${roleId}/permissions`, permission);\n  }\n\n  removePermissionFromRole(roleId: number, permissionId: number): Observable<void> {\n    return this.http.delete<void>(`${this.baseUrl}/roles/${roleId}/permissions/${permissionId}`);\n  }\n\n  assignPermissionsBatch(roleId: number, permissionIds: number[]): Observable<RolePermissionsResponseDto> {\n    const batchData = { permissionIds };\n    return this.http.post<RolePermissionsResponseDto>(\n      `${this.baseUrl}/roles/${roleId}/permissions/batch`, \n      batchData\n    );\n  }\n}\n", "import { Component, OnInit, inject } from '@angular/core';\nimport { RouterLink, ActivatedRoute } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { Observable } from 'rxjs';\n\n// Import de la traduction\nimport { TranslatePipe } from '../../../../../core/services/translation/translate.pipe';\n\n// Import des DTOs\nimport { \n  PermissionDto, \n  PermissionModule,\n  PermissionAction \n} from '../../../application/dto/permission.dto';\n\n// Import des use cases\nimport { GET_PERMISSIONS_USE_CASE } from '../../../application/use-cases/get-permissions.use-case.token';\nimport { GetPermissionsUseCaseImpl } from '../../../application/use-cases/get-permissions.use-case';\nimport { PERMISSION_REPOSITORY } from '../../../domain/repositories/permission.repository.token';\nimport { HttpPermissionRepository } from '../../../infrastructure/repositories/http-permission.repository';\nimport { routes } from '../../../../../core/core.index';\n\n@Component({\n  selector: 'app-permission',\n  imports: [CommonModule, RouterLink, TranslatePipe],\n  templateUrl: './permission.component.html',\n  styleUrls: ['./permission.component.scss'],\n  providers: [\n    {\n      provide: PERMISSION_REPOSITORY,\n      useClass: HttpPermissionRepository,\n    },\n    {\n      provide: GET_PERMISSIONS_USE_CASE,\n      useClass: GetPermissionsUseCaseImpl,\n    },\n    // Provider pour localStorage\n    {\n      provide: 'LOCAL_STORAGE',\n      useValue: localStorage\n    }\n  ]\n})\nexport class PermissionComponent implements OnInit {\n  private route = inject(ActivatedRoute);\n  private getPermissionsUseCase = inject(GET_PERMISSIONS_USE_CASE);\n  private permissionRepository = inject(PERMISSION_REPOSITORY);\n\n  // Données du rôle\n  roleId: number | null = null;\n  roleCode: string = '';\n  roleNom: string = '';\n  \n  // Données des permissions\n  allPermissions: PermissionDto[] = [];\n  rolePermissions: Set<number> = new Set(); // IDs des permissions du rôle (état initial)\n  selectedPermissions: Set<number> = new Set(); // IDs des permissions sélectionnées (état actuel)\n  loading = false;\n  saving = false;\n  error: string | null = null;\n  saveSuccess = false;\n  saveError: string | null = null;\n  \n  // Groupes de permissions par module\n  groupedPermissions: Map<PermissionModule, PermissionDto[]> = new Map();\n  \n  // Routes\n  routes = routes;\n\n  // Exposer PermissionAction au template\n  PermissionAction = PermissionAction;\n\n  // Gestion de l'expansion des modules et sous-modules\n  private expandedModules: Set<number> = new Set();\n  private expandedSubModules: Map<number, Set<number>> = new Map();\n\n  ngOnInit(): void {\n    this.loadRoleId();\n    this.loadData();\n  }\n\n  /**\n   * Charge l'ID du rôle depuis les paramètres de route\n   */\n  private loadRoleId(): void {\n    this.route.paramMap.subscribe(params => {\n      const roleIdParam = params.get('roleId');\n      this.roleId = roleIdParam ? parseInt(roleIdParam, 10) : null;\n    });\n  }\n\n  /**\n   * Charge toutes les données nécessaires\n   */\n  loadData(): void {\n    if (!this.roleId) {\n      this.error = 'ID du rôle non spécifié';\n      return;\n    }\n\n    this.loading = true;\n    this.error = null;\n\n    // Charge les permissions du rôle\n    this.permissionRepository.getRolePermissions(this.roleId).subscribe({\n      next: (rolePermissions) => {\n        this.roleCode = rolePermissions.roleCode;\n        this.roleNom = rolePermissions.roleNom;\n        \n        // Stocke les IDs des permissions du rôle (état initial)\n        this.rolePermissions = new Set(rolePermissions.permissions.map(p => p.permissionId));\n        // Initialise les permissions sélectionnées avec l'état initial\n        this.selectedPermissions = new Set(this.rolePermissions);\n        \n        // Charge toutes les permissions de l'application\n        this.loadAllPermissions();\n      },\n      error: (error) => {\n        this.error = 'Erreur lors du chargement des permissions du rôle';\n        this.loading = false;\n      }\n    });\n  }\n\n  /**\n   * Charge toutes les permissions de l'application\n   */\n  private loadAllPermissions(): void {\n    (this.getPermissionsUseCase.execute() as Observable<any>).subscribe({\n      next: (response) => {\n        this.allPermissions = response.content || [];\n        this.groupPermissionsByModule();\n        this.loading = false;\n      },\n      error: (error) => {\n        this.error = 'Erreur lors du chargement des permissions';\n        this.loading = false;\n      }\n    });\n  }\n\n  /**\n   * Groupe les permissions par module\n   */\n  private groupPermissionsByModule(): void {\n    this.groupedPermissions.clear();\n    \n    this.allPermissions.forEach(permission => {\n      const module = permission.permModule;\n      if (!this.groupedPermissions.has(module)) {\n        this.groupedPermissions.set(module, []);\n      }\n      this.groupedPermissions.get(module)!.push(permission);\n    });\n    \n  }\n\n  /**\n   * Extrait le sous-module d'un code de permission\n   * Format attendu: MODULE:SOUS_MODULE:ACTION\n   * Exemple: SECURITY:ROLE:CREATE -> sous-module = ROLE\n   */\n  getSubModuleFromPermissionCode(permCode: string): string {\n    const parts = permCode.split(':');\n    if (parts.length >= 2) {\n      return parts[1]; // Le sous-module est la deuxième partie\n    }\n    return permCode; // Fallback: retourne le code complet\n  }\n\n  /**\n   * Groupe les permissions par sous-module pour un module donné\n   * Retourne un Map où la clé est le sous-module et la valeur est un Map d'actions -> permissions\n   */\n  getPermissionsBySubModule(module: PermissionModule): Map<string, Map<PermissionAction, PermissionDto[]>> {\n    const subModuleMap = new Map<string, Map<PermissionAction, PermissionDto[]>>();\n    \n    const permissions = this.getPermissionsByModule(module);\n    permissions.forEach(permission => {\n      const subModule = this.getSubModuleFromPermissionCode(permission.permCode);\n      \n      if (!subModuleMap.has(subModule)) {\n        subModuleMap.set(subModule, new Map<PermissionAction, PermissionDto[]>());\n      }\n      \n      const actionMap = subModuleMap.get(subModule)!;\n      const action = permission.permAction;\n      \n      if (!actionMap.has(action)) {\n        actionMap.set(action, []);\n      }\n      \n      actionMap.get(action)!.push(permission);\n    });\n    \n    return subModuleMap;\n  }\n\n  /**\n   * Vérifie si une permission est assignée au rôle (état actuel)\n   */\n  isPermissionAssigned(permissionId: number): boolean {\n    return this.selectedPermissions.has(permissionId);\n  }\n\n  /**\n   * Vérifie s'il y a des changements par rapport à l'état initial\n   */\n  hasChanges(): boolean {\n    if (this.rolePermissions.size !== this.selectedPermissions.size) {\n      return true;\n    }\n    \n    // Vérifie si tous les éléments de rolePermissions sont dans selectedPermissions\n    for (const permissionId of this.rolePermissions) {\n      if (!this.selectedPermissions.has(permissionId)) {\n        return true;\n      }\n    }\n    \n    // Vérifie si tous les éléments de selectedPermissions sont dans rolePermissions\n    for (const permissionId of this.selectedPermissions) {\n      if (!this.rolePermissions.has(permissionId)) {\n        return true;\n      }\n    }\n    \n    return false;\n  }\n\n  /**\n   * Gère le changement d'état d'une checkbox de permission (localement)\n   */\n  onPermissionChange(permissionId: number, event: Event): void {\n    const target = event.target as HTMLInputElement;\n    const checked = target.checked;\n\n    // Créer un nouveau Set pour forcer la détection de changement\n    const newSelectedPermissions = new Set(this.selectedPermissions);\n\n    if (checked) {\n      newSelectedPermissions.add(permissionId);\n    } else {\n      newSelectedPermissions.delete(permissionId);\n    }\n\n    // Mettre à jour la référence pour forcer la détection de changement\n    this.selectedPermissions = newSelectedPermissions;\n  }\n\n  /**\n   * Enregistre toutes les permissions en une seule fois via l'API batch\n   */\n  savePermissions(): void {\n    if (!this.roleId || !this.hasChanges()) return;\n\n    this.saving = true;\n    this.saveError = null;\n    this.saveSuccess = false;\n\n    // Convertir le Set en tableau pour l'API\n    const permissionIds = Array.from(this.selectedPermissions);\n\n    // Appeler l'API batch\n    this.permissionRepository.assignPermissionsBatch(this.roleId, permissionIds).subscribe({\n      next: (response) => {\n        // Mettre à jour l'état initial avec l'état actuel\n        this.rolePermissions = new Set(this.selectedPermissions);\n        // Mettre à jour les informations du rôle si nécessaire\n        if (response.roleCode) {\n          this.roleCode = response.roleCode;\n          this.roleNom = response.roleNom;\n        }\n        \n        this.saveSuccess = true;\n        this.saving = false;\n        \n        // Recharger les données après 2 secondes pour s'assurer de la synchronisation\n        setTimeout(() => {\n          this.loadData();\n        }, 2000);\n      },\n      error: (error) => {\n        this.saveError = error.message || 'Erreur lors de l\\'enregistrement des permissions';\n        this.saving = false;\n      }\n    });\n  }\n\n  /**\n   * Masque le message de succès\n   */\n  dismissSaveSuccess(): void {\n    this.saveSuccess = false;\n  }\n\n  /**\n   * Masque le message d'erreur\n   */\n  dismissSaveError(): void {\n    this.saveError = null;\n  }\n\n  /**\n   * Formate le nom du module pour l'affichage\n   */\n  getModuleDisplayName(module: PermissionModule): string {\n    const moduleKeys: Record<PermissionModule, string> = {\n      [PermissionModule.CAISSE]: 'permissions.permissionManagement.modules.INVOICING',\n      [PermissionModule.STOCK]: 'permissions.permissionManagement.modules.STOCK',\n      [PermissionModule.PRODUCTION]: 'permissions.permissionManagement.modules.PRODUCTION',\n      [PermissionModule.COMPTABILITE]: 'permissions.permissionManagement.modules.ACCOUNTING',\n      [PermissionModule.APPROVISIONNEMENT]: 'permissions.permissionManagement.modules.STOCK'\n    };\n    const key = moduleKeys[module] || module;\n    // Le pipe translate sera utilisé dans le template, donc on retourne la clé\n    return key;\n  }\n\n  /**\n   * Formate le nom de l'action pour l'affichage\n   */\n  getActionDisplayName(action: PermissionAction): string {\n    const actionKeys: Record<PermissionAction, string> = {\n      [PermissionAction.CREATE]: 'permissions.permissionManagement.actions.CREATE',\n      [PermissionAction.READ]: 'permissions.permissionManagement.actions.READ',\n      [PermissionAction.UPDATE]: 'permissions.permissionManagement.actions.UPDATE',\n      [PermissionAction.DELETE]: 'permissions.permissionManagement.actions.DELETE',\n      [PermissionAction.EXPORT]: 'permissions.permissionManagement.actions.EXPORT',\n      [PermissionAction.IMPORT]: 'permissions.permissionManagement.actions.IMPORT',\n      [PermissionAction.PRINT]: 'permissions.permissionManagement.actions.PRINT'\n    };\n    const key = actionKeys[action] || action;\n    // Le pipe translate sera utilisé dans le template, donc on retourne la clé\n    return key;\n  }\n\n  /**\n   * Récupère les permissions d'un module spécifique\n   */\n  getPermissionsByModule(module: PermissionModule): PermissionDto[] {\n    return this.groupedPermissions.get(module) || [];\n  }\n\n  /**\n   * Récupère les modules disponibles\n   */\n  getAvailableModules(): PermissionModule[] {\n    return Array.from(this.groupedPermissions.keys());\n  }\n\n  /**\n   * Vérifie si toutes les permissions d'un sous-module sont assignées\n   */\n  isAllPermissionsAssignedForSubModule(actionMap: Map<PermissionAction, PermissionDto[]>): boolean {\n    let allAssigned = true;\n    \n    for (const [action, permissions] of actionMap) {\n      for (const permission of permissions) {\n        if (!this.isPermissionAssigned(permission.id)) {\n          allAssigned = false;\n          break;\n        }\n      }\n      if (!allAssigned) break;\n    }\n    \n    return allAssigned;\n  }\n\n  /**\n   * Bascule toutes les permissions d'un sous-module (localement)\n   */\n  toggleAllPermissionsForSubModule(actionMap: Map<PermissionAction, PermissionDto[]>, event: Event): void {\n    const target = event.target as HTMLInputElement;\n    const checked = target.checked;\n\n    // Collecter toutes les permissions du sous-module\n    const allPermissionIds: number[] = [];\n    for (const [action, permissions] of actionMap) {\n      for (const permission of permissions) {\n        allPermissionIds.push(permission.id);\n      }\n    }\n\n    // Créer un nouveau Set pour forcer la détection de changement\n    const newSelectedPermissions = new Set(this.selectedPermissions);\n\n    // Appliquer le changement à toutes les permissions\n    if (checked) {\n      // Ajouter toutes les permissions\n      allPermissionIds.forEach(permissionId => {\n        newSelectedPermissions.add(permissionId);\n      });\n    } else {\n      // Retirer toutes les permissions\n      allPermissionIds.forEach(permissionId => {\n        newSelectedPermissions.delete(permissionId);\n      });\n    }\n\n    // Mettre à jour la référence pour forcer la détection de changement\n    this.selectedPermissions = newSelectedPermissions;\n  }\n\n  /**\n   * Bascule l'expansion d'un module\n   */\n  toggleModuleExpansion(moduleIndex: number): void {\n    if (this.expandedModules.has(moduleIndex)) {\n      this.expandedModules.delete(moduleIndex);\n    } else {\n      this.expandedModules.add(moduleIndex);\n    }\n  }\n\n  /**\n   * Vérifie si un module est expandé\n   */\n  isModuleExpanded(moduleIndex: number): boolean {\n    return this.expandedModules.has(moduleIndex);\n  }\n\n  /**\n   * Bascule l'expansion d'un sous-module\n   */\n  toggleSubModuleExpansion(moduleIndex: number, subModuleIndex: number): void {\n    if (!this.expandedSubModules.has(moduleIndex)) {\n      this.expandedSubModules.set(moduleIndex, new Set());\n    }\n    \n    const subModuleSet = this.expandedSubModules.get(moduleIndex)!;\n    if (subModuleSet.has(subModuleIndex)) {\n      subModuleSet.delete(subModuleIndex);\n    } else {\n      subModuleSet.add(subModuleIndex);\n    }\n  }\n\n  /**\n   * Vérifie si un sous-module est expandé\n   */\n  isSubModuleExpanded(moduleIndex: number, subModuleIndex: number): boolean {\n    const subModuleSet = this.expandedSubModules.get(moduleIndex);\n    return subModuleSet ? subModuleSet.has(subModuleIndex) : false;\n  }\n\n  /**\n   * Obtient la description d'une action\n   */\n  getActionDescription(action: PermissionAction): string {\n    const actionDescriptions: Record<PermissionAction, string> = {\n      [PermissionAction.CREATE]: 'Permet de créer de nouveaux éléments',\n      [PermissionAction.READ]: 'Permet de visualiser les éléments',\n      [PermissionAction.UPDATE]: 'Permet de modifier les éléments existants',\n      [PermissionAction.DELETE]: 'Permet de supprimer des éléments',\n      [PermissionAction.EXPORT]: 'Permet d\\'exporter des données',\n      [PermissionAction.IMPORT]: 'Permet d\\'importer des données',\n      [PermissionAction.PRINT]: 'Permet d\\'imprimer des documents'\n    };\n    \n    return actionDescriptions[action] || 'Aucune description disponible';\n  }\n}\n", "import { ComponentFixture, TestBed } from '@angular/core/testing';\n\nimport { PermissionComponent } from './permission.component';\n\ndescribe('PermissionComponent', () => {\n  let component: PermissionComponent;\n  let fixture: ComponentFixture<PermissionComponent>;\n\n  beforeEach(async () => {\n    await TestBed.configureTestingModule({\n      declarations: [PermissionComponent]\n    })\n    .compileComponents();\n\n    fixture = TestBed.createComponent(PermissionComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  });\n\n  it('should create', () => {\n    expect(component).toBeTruthy();\n  });\n});\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA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",
  "names": ["permission_component_default", "init_permission_component", "PermissionModule", "PermissionAction", "GetPermissionsUseCaseImpl", "HttpPermissionRepository", "PermissionComponent", "init_permission_component"]
}
