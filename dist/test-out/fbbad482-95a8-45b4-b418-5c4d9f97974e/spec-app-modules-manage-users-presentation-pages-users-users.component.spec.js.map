{"version":3,"sources":["angular:jit:template:src/app/modules/manage-users/presentation/pages/users/users.component.html","angular:jit:style:src/app/modules/manage-users/presentation/pages/users/users.component.scss","src/app/modules/manage-users/presentation/pages/users/users.view-model.ts","angular:jit:template:src/app/modules/manage-users/presentation/components/user-form/user-form.component.html","angular:jit:style:src/app/modules/manage-users/presentation/components/user-form/user-form.component.scss","node_modules/@angular/material/fesm2022/date-formats-K6TQue-Y.mjs","node_modules/@angular/material/fesm2022/core.mjs","src/app/modules/manage-users/application/use-cases/update-user.use-case.token.ts","src/app/modules/manage-users/application/use-cases/update-user.use-case.ts","src/app/modules/setting/application/services/departement.service.ts","src/app/modules/manage-users/presentation/components/user-form/user-form.component.ts","angular:jit:template:src/app/modules/_shared/presentation/components/form-builder/form-builder.component.html","angular:jit:style:src/app/modules/_shared/presentation/components/form-builder/form-builder.component.scss","src/app/modules/_shared/presentation/components/form-builder/form-builder.component.ts","src/app/modules/_shared/presentation/components/form-builder/form-builder-example.component.ts","src/app/modules/manage-users/presentation/pages/users/users.component.ts","src/app/modules/manage-users/presentation/pages/users/users.component.spec.ts"],"sourcesContent":["<!-- Start Content -->\n<div class=\"content-two\">\n\n    <!-- Page Header -->\n    <div class=\"d-flex d-block align-items-center justify-content-between flex-wrap gap-3 mb-3\">\n        <div>\n            <h6>{{ 'manageUsers.title' | translate }}</h6>\n        </div>\n        <div class=\"d-flex my-xl-auto right-content align-items-center flex-wrap gap-2\">\n            <div class=\"dropdown\">\n                <a href=\"javascript:void(0);\" class=\"btn btn-outline-white d-inline-flex align-items-center\"\n                    data-bs-toggle=\"dropdown\">\n                    <i class=\"isax isax-export-1 me-1\"></i>{{ 'manageUsers.export' | translate }}\n                </a>\n                <ul class=\"dropdown-menu\">\n                    <li>\n                        <a class=\"dropdown-item\" href=\"javascript:void(0);\" (click)=\"exportUsers()\">{{\n                            'manageUsers.exportPdf' | translate }}</a>\n                    </li>\n                    <li>\n                        <a class=\"dropdown-item\" href=\"javascript:void(0);\" (click)=\"exportUsers()\">{{\n                            'manageUsers.exportExcel' | translate }}</a>\n                    </li>\n                </ul>\n            </div>\n            <div>\n                <a href=\"javascript:void(0);\" class=\"btn btn-primary d-flex align-items-center\"\n                    (click)=\"openCreateUserModal()\">\n                    <i class=\"isax isax-add-circle5 me-1\"></i>{{ 'manageUsers.newUser' | translate }}\n                </a>\n            </div>\n        </div>\n    </div>\n    <!-- End Page Header -->\n\n    <div class=\"mb-3\">\n        <div class=\"d-flex align-items-center justify-content-between flex-wrap gap-3\">\n            <div class=\"d-flex align-items-center flex-wrap gap-2\">\n                <div class=\"table-search d-flex align-items-center mb-0\">\n                    <div class=\"search-input\">\n                        <a href=\"javascript:void(0);\" class=\"btn-searchset\"><i\n                                class=\"isax isax-search-normal fs-12\"></i></a>\n                        <div id=\"DataTables_Table_0_filter\" class=\"dataTables_filter\">\n                            <label>\n                                <input type=\"search\" [(ngModel)]=\"searchQuery\" [ngModelOptions]=\"{ standalone: true }\"\n                                    (ngModelChange)=\"onSearch()\" class=\"form-control form-control-sm\"\n                                    placeholder=\"{{ 'manageUsers.search' | translate }}\"\n                                    aria-controls=\"DataTables_Table_0\">\n                            </label>\n                        </div>\n                    </div>\n                </div>\n                <a class=\"btn btn-outline-white fw-normal d-inline-flex align-items-center\" href=\"javascript:void(0);\"\n                    (click)=\"resetFilters()\">\n                    <i class=\"isax isax-refresh me-1\"></i>{{ 'manageUsers.reset' | translate }}\n                </a>\n            </div>\n            <div class=\"d-flex align-items-center flex-wrap gap-2\">\n                <div class=\"dropdown\">\n                    <a href=\"javascript:void(0);\"\n                        class=\"dropdown-toggle btn btn-outline-white d-inline-flex align-items-center\"\n                        data-bs-toggle=\"dropdown\">\n                        <i class=\"isax isax-sort me-1\"></i>{{ 'manageUsers.sortBy' | translate }} <span\n                            class=\"fw-normal ms-1\">Nom</span>\n                    </a>\n                    <ul class=\"dropdown-menu dropdown-menu-end\">\n                        <li>\n                            <a href=\"javascript:void(0);\" class=\"dropdown-item\"\n                                (click)=\"changeSort('nomPrenom', 'asc')\">{{ 'manageUsers.sortNameAsc' | translate }}</a>\n                        </li>\n                        <li>\n                            <a href=\"javascript:void(0);\" class=\"dropdown-item\"\n                                (click)=\"changeSort('nomPrenom', 'desc')\">{{ 'manageUsers.sortNameDesc' | translate\n                                }}</a>\n                        </li>\n                        <li>\n                            <a href=\"javascript:void(0);\" class=\"dropdown-item\"\n                                (click)=\"changeSort('dateCreation', 'desc')\">{{ 'manageUsers.sortRecent' | translate\n                                }}</a>\n                        </li>\n                        <li>\n                            <a href=\"javascript:void(0);\" class=\"dropdown-item\"\n                                (click)=\"changeSort('dateCreation', 'asc')\">{{ 'manageUsers.sortOldest' | translate\n                                }}</a>\n                        </li>\n                    </ul>\n                </div>\n                <div class=\"dropdown\">\n                    <a href=\"javascript:void(0);\"\n                        class=\"dropdown-toggle btn btn-outline-white d-inline-flex align-items-center\"\n                        data-bs-toggle=\"dropdown\">\n                        <i class=\"isax isax-filter me-1\"></i>{{ 'manageUsers.filterStatus' | translate }}\n                    </a>\n                    <ul class=\"dropdown-menu\">\n                        <li>\n                            <a href=\"javascript:void(0);\" class=\"dropdown-item\" (click)=\"filterByStatus('')\">{{\n                                'manageUsers.filterAll' | translate }}</a>\n                        </li>\n                        <li>\n                            <a href=\"javascript:void(0);\" class=\"dropdown-item\" (click)=\"filterByStatus('ACTIF')\">{{\n                                'manageUsers.filterActive' | translate }}</a>\n                        </li>\n                        <li>\n                            <a href=\"javascript:void(0);\" class=\"dropdown-item\" (click)=\"filterByStatus('INACTIF')\">{{\n                                'manageUsers.filterInactive' | translate }}</a>\n                        </li>\n                        <li>\n                            <a href=\"javascript:void(0);\" class=\"dropdown-item\"\n                                (click)=\"filterByStatus('EN_ATTENTE')\">{{ 'manageUsers.filterPending' | translate }}</a>\n                        </li>\n                    </ul>\n                </div>\n\n                <!-- Filtre par site -->\n                <div class=\"dropdown\">\n                    <a href=\"javascript:void(0);\"\n                        class=\"dropdown-toggle btn btn-outline-white d-inline-flex align-items-center\"\n                        data-bs-toggle=\"dropdown\">\n                        <i class=\"isax isax-building me-1\"></i>\n                        Site: {{ getSelectedSiteName() }}\n                    </a>\n                    <ul class=\"dropdown-menu\">\n                        <li>\n                            <a href=\"javascript:void(0);\" class=\"dropdown-item\" (click)=\"filterBySite(null)\">\n                                Tous les sites\n                            </a>\n                        </li>\n                        <li *ngIf=\"loadingFilters\">\n                            <a href=\"javascript:void(0);\" class=\"dropdown-item disabled\">\n                                <i class=\"fas fa-spinner fa-spin me-2\"></i>Chargement...\n                            </a>\n                        </li>\n                        <li *ngFor=\"let site of sites\">\n                            <a href=\"javascript:void(0);\" class=\"dropdown-item\" (click)=\"filterBySite(site.id)\">\n                                {{ site.nom }}\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n\n                <!-- Filtre par département -->\n                <div class=\"dropdown\">\n                    <a href=\"javascript:void(0);\"\n                        class=\"dropdown-toggle btn btn-outline-white d-inline-flex align-items-center\"\n                        data-bs-toggle=\"dropdown\">\n                        <i class=\"isax isax-building-3 me-1\"></i>\n                        Département: {{ getSelectedDepartmentName() }}\n                    </a>\n                    <ul class=\"dropdown-menu\">\n                        <li>\n                            <a href=\"javascript:void(0);\" class=\"dropdown-item\" (click)=\"filterByDepartment(null)\">\n                                Tous les départements\n                            </a>\n                        </li>\n                        <li *ngIf=\"loadingFilters\">\n                            <a href=\"javascript:void(0);\" class=\"dropdown-item disabled\">\n                                <i class=\"fas fa-spinner fa-spin me-2\"></i>Chargement...\n                            </a>\n                        </li>\n                        <li *ngFor=\"let dept of departments\">\n                            <a href=\"javascript:void(0);\" class=\"dropdown-item\" (click)=\"filterByDepartment(dept.id)\">\n                                {{ dept.nom }}\n                            </a>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <!-- Loading Indicator -->\n    <div *ngIf=\"loading\" class=\"text-center py-4\">\n        <div class=\"spinner-border text-primary\" role=\"status\">\n            <span class=\"visually-hidden\">Chargement...</span>\n        </div>\n        <p class=\"mt-2\">Chargement des utilisateurs...</p>\n    </div>\n\n    <!-- Error Message -->\n    <div *ngIf=\"error && !loading\" class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\n        <i class=\"fas fa-exclamation-circle me-2\"></i>\n        {{ error }}\n        <button type=\"button\" class=\"btn-close\" (click)=\"error = null\" aria-label=\"Close\"></button>\n    </div>\n\n    <!-- Users Table -->\n    <div *ngIf=\"!loading && !error\" class=\"table-responsive\">\n        <table class=\"table table-nowrap dataTable datatable\">\n            <thead class=\"thead-light\">\n                <tr>\n                    <th>{{ 'manageUsers.user' | translate }}</th>\n                    <th>{{ 'manageUsers.email' | translate }}</th>\n                    <th>{{ 'manageUsers.phone' | translate }}</th>\n                    <th>{{ 'manageUsers.site' | translate }}</th>\n                    <th>{{ 'manageUsers.department' | translate }}</th>\n                    <th>{{ 'manageUsers.lastLogin' | translate }}</th>\n                    <th>{{ 'manageUsers.creationDate' | translate }}</th>\n                    <th>{{ 'manageUsers.status' | translate }}</th>\n                    <th class=\"text-end\">{{ 'manageUsers.actions' | translate }}</th>\n                </tr>\n            </thead>\n            <tbody>\n                @for (user of users; track user.id) {\n                <tr>\n                    <td>\n                        <div class=\"d-flex align-items-center\">\n                            <div class=\"avatar avatar-sm rounded-circle me-2 flex-shrink-0\">\n                                <img [src]=\"user.photo || 'assets/img/profiles/avatar-01.jpg'\" class=\"rounded-circle\"\n                                    alt=\"Avatar\">\n                            </div>\n                            <div>\n                                <h6 class=\"fs-14 fw-medium mb-0\">{{ user.nomPrenom }}</h6>\n                                <small class=\"text-muted\">{{ user.userName }}</small>\n                            </div>\n                        </div>\n                    </td>\n                    <td>\n                        <a href=\"mailto:{{ user.email }}\" class=\"text-primary\">{{ user.email }}</a>\n                        <button class=\"btn btn-sm btn-link text-muted p-0 ms-1\" (click)=\"copyEmail(user)\"\n                            title=\"Copier l'email\">\n                            <i class=\"fas fa-copy\"></i>\n                        </button>\n                    </td>\n                    <td>{{ user.telephone || ('manageUsers.notProvided' | translate) }}</td>\n                    <td>{{ user.siteNom || 'Site ' + user.siteId }}</td>\n                    <td>{{ user.departementNom || 'Département ' + user.departementId }}</td>\n                    <td>{{ user.derniereConnexion ? formatDate(user.derniereConnexion) : ('manageUsers.never' |\n                        translate) }}</td>\n                    <td>{{ formatDate(user.dateCreation) }}</td>\n                    <td>\n                        <span class=\"badge d-inline-flex align-items-center\" [ngClass]=\"getStatusClass(user.statut)\">\n                            {{ getStatusText(user.statut) }}\n                        </span>\n                    </td>\n\n\n                    <td class=\"action-item\">\n                        <a href=\"javascript:void(0);\" data-bs-toggle=\"dropdown\">\n                            <i class=\"isax isax-more\"></i>\n                        </a>\n                        <ul class=\"dropdown-menu\">\n                            <li>\n                                <a href=\"javascript:void(0);\" class=\"dropdown-item d-flex align-items-center\"\n                                    (click)=\"viewUserDetails(user)\">\n                                    <i class=\"isax isax-eye me-2\"></i>Voir détails\n                                </a>\n                            </li>\n                            <li>\n                                <a href=\"javascript:void(0);\" class=\"dropdown-item d-flex align-items-center\"\n                                    (click)=\"openEditUserModal(user)\">\n                                    <i class=\"isax isax-edit me-2\"></i>Modifier\n                                </a>\n                            </li>\n                            <li *ngIf=\"user.statut === 'ACTIF'\">\n                                <a href=\"javascript:void(0);\"\n                                    class=\"dropdown-item d-flex align-items-center text-warning\"\n                                    (click)=\"deactivateUser(user)\">\n                                    <i class=\"isax isax-pause-circle me-2\"></i>Désactiver\n                                </a>\n                            </li>\n                            <li *ngIf=\"user.statut === 'INACTIF' || user.statut === 'EN_ATTENTE'\">\n                                <a href=\"javascript:void(0);\"\n                                    class=\"dropdown-item d-flex align-items-center text-success\"\n                                    (click)=\"activateUser(user)\">\n                                    <i class=\"isax isax-play-circle me-2\"></i>Activer\n                                </a>\n                            </li>\n                            <li>\n                                <a href=\"javascript:void(0);\"\n                                    class=\"dropdown-item d-flex align-items-center text-danger\"\n                                    (click)=\"deleteUser(user)\">\n                                    <i class=\"isax isax-trash me-2\"></i>Supprimer\n                                </a>\n                            </li>\n                        </ul>\n                    </td>\n                </tr>\n                } @empty {\n                <tr>\n                    <td colspan=\"9\" class=\"text-center py-4\">\n                        <div class=\"empty-state\">\n                            <i class=\"isax isax-user-square fs-48 text-muted mb-3\"></i>\n                            <h6 class=\"mb-2\">{{ 'manageUsers.noUsers' | translate }}</h6>\n                            <p class=\"text-muted mb-0\">{{ 'manageUsers.noUsersMessage' | translate }}</p>\n                        </div>\n                    </td>\n                </tr>\n                }\n            </tbody>\n        </table>\n\n        <!-- Pagination -->\n        @if (totalPages > 1) {\n        <div class=\"d-flex justify-content-between align-items-center mt-3\">\n            <div class=\"text-muted\">\n                {{ 'manageUsers.showing' | translate }} {{ users.length }} {{ 'manageUsers.of' | translate }} {{\n                totalElements }} {{ 'manageUsers.users' | translate }}\n            </div>\n            <nav>\n                <ul class=\"pagination pagination-sm mb-0\">\n                    <li class=\"page-item\" [class.disabled]=\"currentPage === 0\">\n                        <a class=\"page-link\" href=\"javascript:void(0);\" (click)=\"changePage(currentPage - 1)\">\n                            <i class=\"fas fa-chevron-left\"></i>\n                        </a>\n                    </li>\n\n                    @for (page of getPageNumbers(); track page) {\n                    <li class=\"page-item\" [class.active]=\"page === currentPage\">\n                        <a class=\"page-link\" href=\"javascript:void(0);\" (click)=\"changePage(page)\">\n                            {{ page + 1 }}\n                        </a>\n                    </li>\n                    }\n\n                    <li class=\"page-item\" [class.disabled]=\"currentPage === totalPages - 1\">\n                        <a class=\"page-link\" href=\"javascript:void(0);\" (click)=\"changePage(currentPage + 1)\">\n                            <i class=\"fas fa-chevron-right\"></i>\n                        </a>\n                    </li>\n                </ul>\n            </nav>\n            <div class=\"dropdown\">\n                <a href=\"javascript:void(0);\" class=\"btn btn-outline-white btn-sm dropdown-toggle\"\n                    data-bs-toggle=\"dropdown\">\n                    {{ pageSize }} {{ 'manageUsers.perPage' | translate }}\n                </a>\n                <ul class=\"dropdown-menu\">\n                    <li><a class=\"dropdown-item\" href=\"javascript:void(0);\" (click)=\"changePageSize(5)\">5 {{\n                            'manageUsers.perPage' | translate }}</a></li>\n                    <li><a class=\"dropdown-item\" href=\"javascript:void(0);\" (click)=\"changePageSize(10)\">10 {{\n                            'manageUsers.perPage' | translate }}</a></li>\n                    <li><a class=\"dropdown-item\" href=\"javascript:void(0);\" (click)=\"changePageSize(25)\">25 {{\n                            'manageUsers.perPage' | translate }}</a></li>\n                    <li><a class=\"dropdown-item\" href=\"javascript:void(0);\" (click)=\"changePageSize(50)\">50 {{\n                            'manageUsers.perPage' | translate }}</a></li>\n                </ul>\n            </div>\n        </div>\n        }\n    </div>\n\n</div>\n<!-- End Content -->\n\n<!-- Modal Formulaire Utilisateur -->\n<div #userFormModal class=\"modal fade\" [class.show]=\"false\" [style.display]=\"'none'\" tabindex=\"-1\">\n    <div class=\"modal-dialog modal-lg modal-dialog-centered\">\n        <div class=\"modal-content\">\n            <div class=\"modal-header\">\n                <h5 class=\"modal-title\">\n                    {{ modalTitle }}\n                </h5>\n                <button type=\"button\" class=\"btn-close\" (click)=\"onFormCancelled()\"></button>\n            </div>\n            <div class=\"modal-body\">\n                <app-user-form [user]=\"selectedUser || undefined\" [isEditMode]=\"isEditMode\"\n                    (userSaved)=\"onUserSaved($event)\" (cancelled)=\"onFormCancelled()\">\n                </app-user-form>\n            </div>\n        </div>\n    </div>\n</div>\n\n<!-- Backdrop du modal -->\n<div class=\"modal-backdrop fade\" [class.show]=\"false\" *ngIf=\"false\"></div>","/* src/app/modules/manage-users/presentation/pages/users/users.component.scss */\n/*# sourceMappingURL=users.component.css.map */\n","/**\n * ViewModel for Users Component\n * \n * Contains all presentation logic (formatting, styling, calculations)\n * that doesn't belong in the component itself.\n * \n * This keeps the component thin and focused on orchestration.\n */\nexport class UsersViewModel {\n    /**\n     * Format a date string for display\n     */\n    formatDate(dateString: string | Date | null): string {\n        if (!dateString) {\n            return 'N/A';\n        }\n\n        try {\n            const date = typeof dateString === 'string' ? new Date(dateString) : dateString;\n\n            if (isNaN(date.getTime())) {\n                return 'Date invalide';\n            }\n\n            return date.toLocaleDateString('fr-FR', {\n                day: '2-digit',\n                month: '2-digit',\n                year: 'numeric',\n                hour: '2-digit',\n                minute: '2-digit'\n            });\n        } catch (error) {\n            return 'Date invalide';\n        }\n    }\n\n    /**\n     * Get CSS class for user status badge\n     */\n    getStatusClass(status: string): string {\n        const statusMap: Record<string, string> = {\n            'ACTIF': 'badge bg-success',\n            'INACTIF': 'badge bg-danger',\n            'SUSPENDU': 'badge bg-warning',\n            'BLOQUE': 'badge bg-dark',\n            'EN_ATTENTE': 'badge bg-info'\n        };\n\n        return statusMap[status] || 'badge bg-secondary';\n    }\n\n    /**\n     * Get human-readable text for user status\n     */\n    getStatusText(status: string): string {\n        const textMap: Record<string, string> = {\n            'ACTIF': 'Actif',\n            'INACTIF': 'Inactif',\n            'SUSPENDU': 'Suspendu',\n            'BLOQUE': 'Bloqué',\n            'EN_ATTENTE': 'En attente'\n        };\n\n        return textMap[status] || status;\n    }\n\n    /**\n     * Calculate page numbers for pagination\n     */\n    getPageNumbers(currentPage: number, totalPages: number, maxVisible: number = 5): number[] {\n        if (totalPages <= maxVisible) {\n            return Array.from({ length: totalPages }, (_, i) => i);\n        }\n\n        const half = Math.floor(maxVisible / 2);\n        let startPage = Math.max(0, currentPage - half);\n        let endPage = Math.min(totalPages - 1, startPage + maxVisible - 1);\n\n        // Adjust if we're near the end\n        if (endPage - startPage + 1 < maxVisible) {\n            startPage = Math.max(0, endPage - maxVisible + 1);\n        }\n\n        return Array.from({ length: endPage - startPage + 1 }, (_, i) => startPage + i);\n    }\n\n    /**\n     * Check if user can be activated\n     */\n    canActivate(status: string): boolean {\n        return status !== 'ACTIF';\n    }\n\n    /**\n     * Check if user can be deactivated\n     */\n    canDeactivate(status: string): boolean {\n        return status === 'ACTIF';\n    }\n\n    /**\n     * Get icon for user status\n     */\n    getStatusIcon(status: string): string {\n        const iconMap: Record<string, string> = {\n            'ACTIF': 'check-circle',\n            'INACTIF': 'x-circle',\n            'SUSPENDU': 'pause-circle',\n            'BLOQUE': 'lock',\n            'EN_ATTENTE': 'clock'\n        };\n\n        return iconMap[status] || 'help-circle';\n    }\n\n    /**\n     * Format phone number for display\n     */\n    formatPhoneNumber(phone: string): string {\n        if (!phone) {\n            return 'N/A';\n        }\n\n        // Remove all non-digit characters except +\n        const cleaned = phone.replace(/[^\\d+]/g, '');\n\n        // Format with spaces\n        if (cleaned.startsWith('+')) {\n            const countryCode = cleaned.substring(0, 4);\n            const rest = cleaned.substring(4);\n            return `${countryCode} ${rest.match(/.{1,3}/g)?.join(' ') || rest}`;\n        }\n\n        return cleaned.match(/.{1,3}/g)?.join(' ') || cleaned;\n    }\n\n    /**\n     * Get initials from name for avatar\n     */\n    getInitials(name: string): string {\n        if (!name) {\n            return '?';\n        }\n\n        const parts = name.trim().split(' ');\n        if (parts.length >= 2) {\n            return (parts[0][0] + parts[parts.length - 1][0]).toUpperCase();\n        }\n\n        return name.substring(0, 2).toUpperCase();\n    }\n\n    /**\n     * Get color for avatar based on name\n     */\n    getAvatarColor(name: string): string {\n        const colors = [\n            '#1abc9c', '#2ecc71', '#3498db', '#9b59b6', '#34495e',\n            '#16a085', '#27ae60', '#2980b9', '#8e44ad', '#2c3e50',\n            '#f39c12', '#e67e22', '#e74c3c', '#95a5a6', '#d35400'\n        ];\n\n        const hash = name.split('').reduce((acc, char) => {\n            return char.charCodeAt(0) + ((acc << 5) - acc);\n        }, 0);\n\n        return colors[Math.abs(hash) % colors.length];\n    }\n\n    /**\n     * Truncate text with ellipsis\n     */\n    truncate(text: string, maxLength: number = 50): string {\n        if (!text || text.length <= maxLength) {\n            return text;\n        }\n\n        return text.substring(0, maxLength) + '...';\n    }\n\n    /**\n     * Get pagination info text\n     */\n    getPaginationInfo(currentPage: number, pageSize: number, totalElements: number): string {\n        const start = currentPage * pageSize + 1;\n        const end = Math.min((currentPage + 1) * pageSize, totalElements);\n\n        return `Affichage de ${start} à ${end} sur ${totalElements} utilisateurs`;\n    }\n}\n","<div class=\"user-form\">\n  <!-- Message de succès -->\n  <div *ngIf=\"success\" class=\"alert alert-success alert-dismissible fade show\" role=\"alert\">\n    <i class=\"fas fa-check-circle me-2\"></i>\n    {{ isEditMode ? ('forms.userForm.successEdit' | translate) : ('forms.userForm.successCreate' | translate) }}\n    <button type=\"button\" class=\"btn-close\" (click)=\"success = false\" aria-label=\"Close\"></button>\n  </div>\n\n  <!-- Message d'erreur -->\n  <div *ngIf=\"error\" class=\"alert alert-danger alert-dismissible fade show\" role=\"alert\">\n    <i class=\"fas fa-exclamation-circle me-2\"></i>\n    {{ error }}\n    <button type=\"button\" class=\"btn-close\" (click)=\"error = null\" aria-label=\"Close\"></button>\n  </div>\n\n  <form [formGroup]=\"userForm\" (ngSubmit)=\"onSubmit()\" class=\"needs-validation\" novalidate>\n    <div class=\"form-grid\">\n      <!-- Colonne gauche -->\n      <div class=\"form-column\">\n        <!-- Nom et Prénom -->\n        <div class=\"form-group\">\n          <label for=\"nomPrenom\" class=\"form-label\">\n            {{ 'forms.userForm.fullName' | translate }} <span class=\"required\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            id=\"nomPrenom\"\n            class=\"form-control\"\n            [class.is-invalid]=\"isFieldInvalid('nomPrenom')\"\n            formControlName=\"nomPrenom\"\n            placeholder=\"{{ 'forms.userForm.fullNamePlaceholder' | translate }}\"\n          >\n          <div *ngIf=\"isFieldInvalid('nomPrenom')\" class=\"invalid-feedback\">\n            {{ getFieldError('nomPrenom') }}\n          </div>\n        </div>\n\n        <!-- Email -->\n        <div class=\"form-group\">\n          <label for=\"email\" class=\"form-label\">\n            {{ 'forms.userForm.email' | translate }} <span class=\"required\">*</span>\n          </label>\n          <input\n            type=\"email\"\n            id=\"email\"\n            class=\"form-control\"\n            [class.is-invalid]=\"isFieldInvalid('email')\"\n            formControlName=\"email\"\n            placeholder=\"{{ 'forms.userForm.emailPlaceholder' | translate }}\"\n            (blur)=\"generateUsername()\"\n          >\n          <div *ngIf=\"isFieldInvalid('email')\" class=\"invalid-feedback\">\n            {{ getFieldError('email') }}\n          </div>\n        </div>\n\n        <!-- Nom d'utilisateur -->\n        <div class=\"form-group\">\n          <label for=\"userName\" class=\"form-label\">\n            {{ 'forms.userForm.username' | translate }} <span class=\"required\">*</span>\n          </label>\n          <input\n            type=\"text\"\n            id=\"userName\"\n            class=\"form-control\"\n            [class.is-invalid]=\"isFieldInvalid('userName')\"\n            formControlName=\"userName\"\n            placeholder=\"{{ 'forms.userForm.usernamePlaceholder' | translate }}\"\n          >\n          <div *ngIf=\"isFieldInvalid('userName')\" class=\"invalid-feedback\">\n            {{ getFieldError('userName') }}\n          </div>\n        </div>\n\n        <!-- Mot de passe -->\n        <div class=\"form-group\" *ngIf=\"!isEditMode\">\n          <label for=\"password\" class=\"form-label\">\n            {{ 'forms.userForm.password' | translate }} <span class=\"required\">*</span>\n          </label>\n          <input\n            type=\"password\"\n            id=\"password\"\n            class=\"form-control\"\n            [class.is-invalid]=\"isFieldInvalid('password')\"\n            formControlName=\"password\"\n            placeholder=\"{{ 'forms.userForm.passwordPlaceholder' | translate }}\"\n          >\n          <div *ngIf=\"isFieldInvalid('password')\" class=\"invalid-feedback\">\n            {{ getFieldError('password') }}\n          </div>\n        </div>\n\n        <!-- Confirmation du mot de passe -->\n        <div class=\"form-group\" *ngIf=\"!isEditMode\">\n          <label for=\"confirmPassword\" class=\"form-label\">\n            {{ 'forms.userForm.confirmPassword' | translate }} <span class=\"required\">*</span>\n          </label>\n          <input\n            type=\"password\"\n            id=\"confirmPassword\"\n            class=\"form-control\"\n            [class.is-invalid]=\"isFieldInvalid('confirmPassword')\"\n            formControlName=\"confirmPassword\"\n            placeholder=\"{{ 'forms.userForm.confirmPasswordPlaceholder' | translate }}\"\n          >\n          <div *ngIf=\"isFieldInvalid('confirmPassword')\" class=\"invalid-feedback\">\n            {{ getFieldError('confirmPassword') }}\n          </div>\n        </div>\n\n        <!-- Téléphone -->\n        <div class=\"form-group\">\n          <label for=\"telephone\" class=\"form-label\">{{ 'forms.userForm.phone' | translate }}</label>\n          <input\n            type=\"tel\"\n            id=\"telephone\"\n            class=\"form-control\"\n            [class.is-invalid]=\"isFieldInvalid('telephone')\"\n            formControlName=\"telephone\"\n            placeholder=\"{{ 'forms.userForm.phonePlaceholder' | translate }}\"\n          >\n          <div *ngIf=\"isFieldInvalid('telephone')\" class=\"invalid-feedback\">\n            {{ getFieldError('telephone') }}\n          </div>\n        </div>\n      </div>\n\n      <!-- Colonne droite -->\n      <div class=\"form-column\">\n       \n\n        <!-- Site -->\n        <div class=\"form-group\">\n          <label class=\"form-label\">{{ 'forms.userForm.site' | translate }} <span class=\"required\">*</span></label>\n         \n            <mat-select\n              class=\"custom-mat-select select\" \n              id=\"siteId\"\n              formControlName=\"siteId\"\n              [class.is-invalid]=\"isFieldInvalid('siteId')\"\n            >\n              <mat-option value=\"\" disabled>{{ 'forms.userForm.sitePlaceholder' | translate }}</mat-option>\n              <mat-option *ngFor=\"let site of siteOptions\" [value]=\"site.value\">\n                {{ site.label }}\n              </mat-option>\n            </mat-select>\n            <mat-error *ngIf=\"isFieldInvalid('siteId')\">\n              {{ getFieldError('siteId') }}\n            </mat-error>\n        </div>\n\n        <!-- Département -->\n        <div class=\"form-group\">\n          <label class=\"form-label\">{{ 'forms.userForm.department' | translate }} <span class=\"required\">*</span></label>\n           <mat-select\n              class=\"custom-mat-select select\" \n              id=\"departementId\"\n              formControlName=\"departementId\"\n              [class.is-invalid]=\"isFieldInvalid('departementId')\"\n            >\n              <mat-option value=\"\" disabled>{{ 'forms.userForm.departmentPlaceholder' | translate }}</mat-option>\n              <mat-option *ngFor=\"let dept of departmentOptions\" [value]=\"dept.value\">\n                {{ dept.label }}\n              </mat-option>\n            </mat-select>\n            <mat-error *ngIf=\"isFieldInvalid('departementId')\">\n              {{ getFieldError('departementId') }}\n            </mat-error>\n        </div>\n\n        <!-- Statut -->\n        <div class=\"form-group\">\n          <label class=\"form-label\">{{ 'forms.userForm.status' | translate }} <span class=\"required\">*</span></label>\n         \n            <mat-select\n             class=\"custom-mat-select select\" \n              id=\"statut\"\n              formControlName=\"statut\"\n              [class.is-invalid]=\"isFieldInvalid('statut')\"\n            >\n              <mat-option *ngFor=\"let status of statusOptions\" [value]=\"status.value\">\n                {{ status.label }}\n              </mat-option>\n            </mat-select>\n            <mat-error *ngIf=\"isFieldInvalid('statut')\">\n              {{ getFieldError('statut') }}\n            </mat-error>\n        </div>\n\n        <!-- Langue -->\n        <div class=\"form-group\">\n           <label class=\"form-label\">{{ 'forms.userForm.language' | translate }} <span class=\"required\">*</span></label>\n           <mat-select  class=\"custom-mat-select select\"  id=\"langue\" formControlName=\"langue\">\n              <mat-option value=\"fr\">{{ 'forms.userForm.languages.fr' | translate }}</mat-option>\n              <mat-option value=\"en\">{{ 'forms.userForm.languages.en' | translate }}</mat-option>\n              <mat-option value=\"es\">{{ 'forms.userForm.languages.es' | translate }}</mat-option>\n            </mat-select>\n        </div>\n         <!-- Adresse -->\n        <div class=\"form-group\">\n          <label for=\"adresse\" class=\"form-label\">{{ 'forms.userForm.address' | translate }}</label>\n          <textarea\n            id=\"adresse\"\n            class=\"form-control\"\n            formControlName=\"adresse\"\n            rows=\"2\"\n            placeholder=\"{{ 'forms.userForm.addressPlaceholder' | translate }}\"\n          ></textarea>\n        </div>\n\n        <!-- Champs cachés -->\n        <input type=\"hidden\" formControlName=\"societeId\">\n        <input type=\"hidden\" formControlName=\"pwdText\">\n        <input type=\"hidden\" formControlName=\"photo\">\n        <input type=\"hidden\" formControlName=\"signature\">\n      </div>\n    </div>\n\n    <!-- Boutons d'action -->\n    <div class=\"form-actions \">\n      <div class=\"action-buttons d-flex align-items-center justify-content-between gap-1\">\n        <button\n          type=\"button\"\n          class=\"btn btn-secondary\"\n          (click)=\"onCancel()\"\n          [disabled]=\"loading\"\n        >\n          <i class=\"fas fa-times me-1\"></i> {{ 'forms.userForm.cancel' | translate }}\n        </button>\n        <button\n          type=\"submit\"\n          class=\"btn btn-primary\"\n          [disabled]=\"userForm.invalid || loading\"\n        >\n          <span *ngIf=\"loading\" class=\"spinner-border spinner-border-sm me-1\" role=\"status\" aria-hidden=\"true\"></span>\n          <i *ngIf=\"!loading\" class=\"fas fa-save me-1\"></i>\n          {{ loading ? ('forms.userForm.saving' | translate) : (isEditMode ? ('forms.userForm.edit' | translate) : ('forms.userForm.create' | translate)) }}\n        </button>\n      </div>\n    </div>\n\n    <!-- Aide sur les champs obligatoires -->\n    <div class=\"form-help\">\n      <p class=\"help-text\">\n        <span class=\"required\">*</span> {{ 'forms.userForm.requiredField' | translate }}\n      </p>\n    </div>\n  </form>\n</div>\n","/* src/app/modules/manage-users/presentation/components/user-form/user-form.component.scss */\n.user-form {\n  background-color: #fff;\n  border-radius: 8px;\n  padding: 24px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n}\n.form-header {\n  margin-bottom: 24px;\n  padding-bottom: 16px;\n  border-bottom: 1px solid #eaeaea;\n}\n.form-title {\n  color: #333;\n  font-size: 1.5rem;\n  font-weight: 600;\n  margin-bottom: 8px;\n}\n.form-description {\n  color: #666;\n  font-size: 0.95rem;\n  margin-bottom: 0;\n}\n.form-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 24px;\n  margin-bottom: 24px;\n}\n.form-column {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n.form-group {\n  display: flex;\n  flex-direction: column;\n}\n.form-label {\n  font-weight: 500;\n  color: #555;\n  margin-bottom: 6px;\n  font-size: 0.9rem;\n}\n.form-label .required {\n  color: #dc3545;\n  margin-left: 2px;\n}\n.form-control {\n  border: 1px solid #ddd;\n  border-radius: 6px;\n  padding: 10px 12px;\n  font-size: 0.95rem;\n  transition: all 0.2s ease;\n  background-color: #fff;\n  width: 100%;\n}\n.form-control:focus {\n  border-color: #4a90e2;\n  box-shadow: 0 0 0 0.2rem rgba(74, 144, 226, 0.25);\n  outline: none;\n}\n.form-control.is-invalid {\n  border-color: #dc3545;\n}\n.form-control.is-invalid:focus {\n  box-shadow: 0 0 0 0.2rem rgba(220, 53, 69, 0.25);\n}\ntextarea.form-control {\n  min-height: 80px;\n  resize: vertical;\n}\n.invalid-feedback {\n  font-size: 0.85rem;\n  margin-top: 4px;\n  color: #dc3545;\n}\nmat-form-field {\n  width: 100%;\n}\nmat-form-field .mat-mdc-form-field-subscript-wrapper {\n  display: none;\n}\nmat-form-field .mat-mdc-form-field-infix {\n  min-height: 48px;\n  padding-top: 8px;\n  padding-bottom: 8px;\n}\nmat-form-field .mat-mdc-text-field-wrapper {\n  border-radius: 6px;\n  background-color: #fff;\n}\nmat-form-field .mat-mdc-form-field-flex {\n  align-items: center;\n}\nmat-form-field .mat-mdc-select-value {\n  font-size: 0.95rem;\n}\n.mat-mdc-form-field.mat-form-field-invalid .mat-mdc-text-field-wrapper {\n  border-color: #dc3545;\n}\n.mat-mdc-form-field-error {\n  font-size: 0.85rem;\n  color: #dc3545;\n  margin-top: 4px;\n}\n.mat-mdc-option {\n  font-size: 0.95rem;\n}\n.mat-mdc-option:hover {\n  background-color: rgba(74, 144, 226, 0.1);\n}\n.mat-mdc-select-panel {\n  border-radius: 6px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n}\n.alert {\n  border-radius: 6px;\n  padding: 12px 16px;\n  margin-bottom: 20px;\n  border: none;\n}\n.alert.alert-success {\n  background-color: #d4edda;\n  color: #155724;\n}\n.alert.alert-danger {\n  background-color: #f8d7da;\n  color: #721c24;\n}\n.btn-close {\n  opacity: 0.7;\n}\n.btn-close:hover {\n  opacity: 1;\n}\n.form-actions {\n  padding-top: 20px;\n  border-top: 1px solid #eaeaea;\n  margin-top: 24px;\n}\n.spinner-border-sm {\n  width: 1rem;\n  height: 1rem;\n  border-width: 0.2em;\n}\n.form-help {\n  margin-top: 16px;\n  text-align: center;\n}\n.help-text {\n  color: #6c757d;\n  font-size: 0.85rem;\n  margin-bottom: 0;\n}\n.help-text .required {\n  color: #dc3545;\n}\n@media (max-width: 768px) {\n  .user-form {\n    padding: 16px;\n  }\n  .form-grid {\n    grid-template-columns: 1fr;\n    gap: 16px;\n  }\n  .form-title {\n    font-size: 1.3rem;\n  }\n  .btn {\n    padding: 8px 16px;\n    font-size: 0.9rem;\n  }\n  .action-buttons {\n    flex-direction: column;\n  }\n  .action-buttons .btn {\n    width: 100%;\n  }\n}\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n.form-control,\nmat-form-field,\n.alert {\n  animation: fadeIn 0.3s ease-out;\n}\n/*# sourceMappingURL=user-form.component.css.map */\n","import { InjectionToken, inject, LOCALE_ID } from '@angular/core';\nimport { Subject } from 'rxjs';\n\n/** InjectionToken for datepicker that can be used to override default locale code. */\nconst MAT_DATE_LOCALE = new InjectionToken('MAT_DATE_LOCALE', {\n    providedIn: 'root',\n    factory: MAT_DATE_LOCALE_FACTORY,\n});\n/**\n * @docs-private\n * @deprecated No longer used, will be removed.\n * @breaking-change 21.0.0\n */\nfunction MAT_DATE_LOCALE_FACTORY() {\n    return inject(LOCALE_ID);\n}\nconst NOT_IMPLEMENTED = 'Method not implemented';\n/** Adapts type `D` to be usable as a date by cdk-based components that work with dates. */\nclass DateAdapter {\n    /** The locale to use for all dates. */\n    locale;\n    _localeChanges = new Subject();\n    /** A stream that emits when the locale changes. */\n    localeChanges = this._localeChanges;\n    /**\n     * Sets the time of one date to the time of another.\n     * @param target Date whose time will be set.\n     * @param hours New hours to set on the date object.\n     * @param minutes New minutes to set on the date object.\n     * @param seconds New seconds to set on the date object.\n     */\n    setTime(target, hours, minutes, seconds) {\n        throw new Error(NOT_IMPLEMENTED);\n    }\n    /**\n     * Gets the hours component of the given date.\n     * @param date The date to extract the hours from.\n     */\n    getHours(date) {\n        throw new Error(NOT_IMPLEMENTED);\n    }\n    /**\n     * Gets the minutes component of the given date.\n     * @param date The date to extract the minutes from.\n     */\n    getMinutes(date) {\n        throw new Error(NOT_IMPLEMENTED);\n    }\n    /**\n     * Gets the seconds component of the given date.\n     * @param date The date to extract the seconds from.\n     */\n    getSeconds(date) {\n        throw new Error(NOT_IMPLEMENTED);\n    }\n    /**\n     * Parses a date with a specific time from a user-provided value.\n     * @param value The value to parse.\n     * @param parseFormat The expected format of the value being parsed\n     *     (type is implementation-dependent).\n     */\n    parseTime(value, parseFormat) {\n        throw new Error(NOT_IMPLEMENTED);\n    }\n    /**\n     * Adds an amount of seconds to the specified date.\n     * @param date Date to which to add the seconds.\n     * @param amount Amount of seconds to add to the date.\n     */\n    addSeconds(date, amount) {\n        throw new Error(NOT_IMPLEMENTED);\n    }\n    /**\n     * Given a potential date object, returns that same date object if it is\n     * a valid date, or `null` if it's not a valid date.\n     * @param obj The object to check.\n     * @returns A date or `null`.\n     */\n    getValidDateOrNull(obj) {\n        return this.isDateInstance(obj) && this.isValid(obj) ? obj : null;\n    }\n    /**\n     * Attempts to deserialize a value to a valid date object. This is different from parsing in that\n     * deserialize should only accept non-ambiguous, locale-independent formats (e.g. a ISO 8601\n     * string). The default implementation does not allow any deserialization, it simply checks that\n     * the given value is already a valid date object or null. The `<mat-datepicker>` will call this\n     * method on all of its `@Input()` properties that accept dates. It is therefore possible to\n     * support passing values from your backend directly to these properties by overriding this method\n     * to also deserialize the format used by your backend.\n     * @param value The value to be deserialized into a date object.\n     * @returns The deserialized date object, either a valid date, null if the value can be\n     *     deserialized into a null date (e.g. the empty string), or an invalid date.\n     */\n    deserialize(value) {\n        if (value == null || (this.isDateInstance(value) && this.isValid(value))) {\n            return value;\n        }\n        return this.invalid();\n    }\n    /**\n     * Sets the locale used for all dates.\n     * @param locale The new locale.\n     */\n    setLocale(locale) {\n        this.locale = locale;\n        this._localeChanges.next();\n    }\n    /**\n     * Compares two dates.\n     * @param first The first date to compare.\n     * @param second The second date to compare.\n     * @returns 0 if the dates are equal, a number less than 0 if the first date is earlier,\n     *     a number greater than 0 if the first date is later.\n     */\n    compareDate(first, second) {\n        return (this.getYear(first) - this.getYear(second) ||\n            this.getMonth(first) - this.getMonth(second) ||\n            this.getDate(first) - this.getDate(second));\n    }\n    /**\n     * Compares the time values of two dates.\n     * @param first First date to compare.\n     * @param second Second date to compare.\n     * @returns 0 if the times are equal, a number less than 0 if the first time is earlier,\n     *     a number greater than 0 if the first time is later.\n     */\n    compareTime(first, second) {\n        return (this.getHours(first) - this.getHours(second) ||\n            this.getMinutes(first) - this.getMinutes(second) ||\n            this.getSeconds(first) - this.getSeconds(second));\n    }\n    /**\n     * Checks if two dates are equal.\n     * @param first The first date to check.\n     * @param second The second date to check.\n     * @returns Whether the two dates are equal.\n     *     Null dates are considered equal to other null dates.\n     */\n    sameDate(first, second) {\n        if (first && second) {\n            let firstValid = this.isValid(first);\n            let secondValid = this.isValid(second);\n            if (firstValid && secondValid) {\n                return !this.compareDate(first, second);\n            }\n            return firstValid == secondValid;\n        }\n        return first == second;\n    }\n    /**\n     * Checks if the times of two dates are equal.\n     * @param first The first date to check.\n     * @param second The second date to check.\n     * @returns Whether the times of the two dates are equal.\n     *     Null dates are considered equal to other null dates.\n     */\n    sameTime(first, second) {\n        if (first && second) {\n            const firstValid = this.isValid(first);\n            const secondValid = this.isValid(second);\n            if (firstValid && secondValid) {\n                return !this.compareTime(first, second);\n            }\n            return firstValid == secondValid;\n        }\n        return first == second;\n    }\n    /**\n     * Clamp the given date between min and max dates.\n     * @param date The date to clamp.\n     * @param min The minimum value to allow. If null or omitted no min is enforced.\n     * @param max The maximum value to allow. If null or omitted no max is enforced.\n     * @returns `min` if `date` is less than `min`, `max` if date is greater than `max`,\n     *     otherwise `date`.\n     */\n    clampDate(date, min, max) {\n        if (min && this.compareDate(date, min) < 0) {\n            return min;\n        }\n        if (max && this.compareDate(date, max) > 0) {\n            return max;\n        }\n        return date;\n    }\n}\n\nconst MAT_DATE_FORMATS = new InjectionToken('mat-date-formats');\n\nexport { DateAdapter as D, MAT_DATE_LOCALE as M, MAT_DATE_FORMATS as a, MAT_DATE_LOCALE_FACTORY as b };\n\n","export { _ as _MatInternalFormField } from './internal-form-field-D5iFxU6d.mjs';\nimport * as i0 from '@angular/core';\nimport { Version, inject, Injectable, NgModule } from '@angular/core';\nexport { A as AnimationCurves, b as AnimationDurations, M as MATERIAL_ANIMATIONS, _ as _animationsDisabled, a as _getAnimationsState } from './animation-ChQ1vjiF.mjs';\nexport { a as MATERIAL_SANITY_CHECKS, M as MatCommonModule } from './common-module-cKSwHniA.mjs';\nexport { _ as _ErrorStateTracker } from './error-state-Dtb1IHM-.mjs';\nimport { D as DateAdapter, M as MAT_DATE_LOCALE, a as MAT_DATE_FORMATS } from './date-formats-K6TQue-Y.mjs';\nexport { b as MAT_DATE_LOCALE_FACTORY } from './date-formats-K6TQue-Y.mjs';\nexport { E as ErrorStateMatcher, S as ShowOnDirtyErrorStateMatcher } from './error-options-DCNQlTOA.mjs';\nexport { _ as _StructuralStylesLoader } from './structural-styles-CObeNzjn.mjs';\nexport { M as MatLine, a as MatLineModule, s as setLines } from './line-Bz5f9Cyx.mjs';\nexport { d as MAT_OPTGROUP, c as MAT_OPTION_PARENT_COMPONENT, a as MatOptgroup, M as MatOption, e as MatOptionSelectionChange, _ as _countGroupLabelsBeforeOption, b as _getOptionScrollPosition } from './option-CEIjUDzj.mjs';\nexport { M as MatOptionModule } from './index-ZUoC96yG.mjs';\nexport { M as MatRippleLoader } from './ripple-loader-wNDzC_j6.mjs';\nexport { a as MAT_RIPPLE_GLOBAL_OPTIONS, M as MatRipple, c as RippleRef, R as RippleRenderer, b as RippleState, d as defaultRippleAnimationConfig } from './ripple-BMyyyLz2.mjs';\nexport { M as MatRippleModule } from './index-BRImSAOu.mjs';\nexport { M as MatPseudoCheckbox } from './pseudo-checkbox-AUVlNJs_.mjs';\nexport { M as MatPseudoCheckboxModule } from './pseudo-checkbox-module-BymSaWBn.mjs';\nimport '@angular/cdk/layout';\nimport '@angular/cdk/a11y';\nimport '@angular/cdk/bidi';\nimport 'rxjs';\nimport 'rxjs/operators';\nimport '@angular/cdk/keycodes';\nimport '@angular/cdk/private';\nimport '@angular/cdk/platform';\nimport '@angular/cdk/coercion';\n\n/** Current version of Angular Material. */\nconst VERSION = new Version('20.1.4');\n\n/**\n * Matches strings that have the form of a valid RFC 3339 string\n * (https://tools.ietf.org/html/rfc3339). Note that the string may not actually be a valid date\n * because the regex will match strings with an out of bounds month, date, etc.\n */\nconst ISO_8601_REGEX = /^\\d{4}-\\d{2}-\\d{2}(?:T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?(?:Z|(?:(?:\\+|-)\\d{2}:\\d{2}))?)?$/;\n/**\n * Matches a time string. Supported formats:\n * - {{hours}}:{{minutes}}\n * - {{hours}}:{{minutes}}:{{seconds}}\n * - {{hours}}:{{minutes}} AM/PM\n * - {{hours}}:{{minutes}}:{{seconds}} AM/PM\n * - {{hours}}.{{minutes}}\n * - {{hours}}.{{minutes}}.{{seconds}}\n * - {{hours}}.{{minutes}} AM/PM\n * - {{hours}}.{{minutes}}.{{seconds}} AM/PM\n */\nconst TIME_REGEX = /^(\\d?\\d)[:.](\\d?\\d)(?:[:.](\\d?\\d))?\\s*(AM|PM)?$/i;\n/** Creates an array and fills it with values. */\nfunction range(length, valueFunction) {\n    const valuesArray = Array(length);\n    for (let i = 0; i < length; i++) {\n        valuesArray[i] = valueFunction(i);\n    }\n    return valuesArray;\n}\n/** Adapts the native JS Date for use with cdk-based components that work with dates. */\nclass NativeDateAdapter extends DateAdapter {\n    /**\n     * @deprecated No longer being used. To be removed.\n     * @breaking-change 14.0.0\n     */\n    useUtcForDisplay = false;\n    /** The injected locale. */\n    _matDateLocale = inject(MAT_DATE_LOCALE, { optional: true });\n    constructor() {\n        super();\n        const matDateLocale = inject(MAT_DATE_LOCALE, { optional: true });\n        if (matDateLocale !== undefined) {\n            this._matDateLocale = matDateLocale;\n        }\n        super.setLocale(this._matDateLocale);\n    }\n    getYear(date) {\n        return date.getFullYear();\n    }\n    getMonth(date) {\n        return date.getMonth();\n    }\n    getDate(date) {\n        return date.getDate();\n    }\n    getDayOfWeek(date) {\n        return date.getDay();\n    }\n    getMonthNames(style) {\n        const dtf = new Intl.DateTimeFormat(this.locale, { month: style, timeZone: 'utc' });\n        return range(12, i => this._format(dtf, new Date(2017, i, 1)));\n    }\n    getDateNames() {\n        const dtf = new Intl.DateTimeFormat(this.locale, { day: 'numeric', timeZone: 'utc' });\n        return range(31, i => this._format(dtf, new Date(2017, 0, i + 1)));\n    }\n    getDayOfWeekNames(style) {\n        const dtf = new Intl.DateTimeFormat(this.locale, { weekday: style, timeZone: 'utc' });\n        return range(7, i => this._format(dtf, new Date(2017, 0, i + 1)));\n    }\n    getYearName(date) {\n        const dtf = new Intl.DateTimeFormat(this.locale, { year: 'numeric', timeZone: 'utc' });\n        return this._format(dtf, date);\n    }\n    getFirstDayOfWeek() {\n        // At the time of writing `Intl.Locale` isn't available\n        // in the internal types so we need to cast to `any`.\n        if (typeof Intl !== 'undefined' && Intl.Locale) {\n            const locale = new Intl.Locale(this.locale);\n            // Some browsers implement a `getWeekInfo` method while others have a `weekInfo` getter.\n            // Note that this isn't supported in all browsers so we need to null check it.\n            const firstDay = (locale.getWeekInfo?.() || locale.weekInfo)?.firstDay ?? 0;\n            // `weekInfo.firstDay` is a number between 1 and 7 where, starting from Monday,\n            // whereas our representation is 0 to 6 where 0 is Sunday so we need to normalize it.\n            return firstDay === 7 ? 0 : firstDay;\n        }\n        // Default to Sunday if the browser doesn't provide the week information.\n        return 0;\n    }\n    getNumDaysInMonth(date) {\n        return this.getDate(this._createDateWithOverflow(this.getYear(date), this.getMonth(date) + 1, 0));\n    }\n    clone(date) {\n        return new Date(date.getTime());\n    }\n    createDate(year, month, date) {\n        if (typeof ngDevMode === 'undefined' || ngDevMode) {\n            // Check for invalid month and date (except upper bound on date which we have to check after\n            // creating the Date).\n            if (month < 0 || month > 11) {\n                throw Error(`Invalid month index \"${month}\". Month index has to be between 0 and 11.`);\n            }\n            if (date < 1) {\n                throw Error(`Invalid date \"${date}\". Date has to be greater than 0.`);\n            }\n        }\n        let result = this._createDateWithOverflow(year, month, date);\n        // Check that the date wasn't above the upper bound for the month, causing the month to overflow\n        if (result.getMonth() != month && (typeof ngDevMode === 'undefined' || ngDevMode)) {\n            throw Error(`Invalid date \"${date}\" for month with index \"${month}\".`);\n        }\n        return result;\n    }\n    today() {\n        return new Date();\n    }\n    parse(value, parseFormat) {\n        // We have no way using the native JS Date to set the parse format or locale, so we ignore these\n        // parameters.\n        if (typeof value == 'number') {\n            return new Date(value);\n        }\n        return value ? new Date(Date.parse(value)) : null;\n    }\n    format(date, displayFormat) {\n        if (!this.isValid(date)) {\n            throw Error('NativeDateAdapter: Cannot format invalid date.');\n        }\n        const dtf = new Intl.DateTimeFormat(this.locale, { ...displayFormat, timeZone: 'utc' });\n        return this._format(dtf, date);\n    }\n    addCalendarYears(date, years) {\n        return this.addCalendarMonths(date, years * 12);\n    }\n    addCalendarMonths(date, months) {\n        let newDate = this._createDateWithOverflow(this.getYear(date), this.getMonth(date) + months, this.getDate(date));\n        // It's possible to wind up in the wrong month if the original month has more days than the new\n        // month. In this case we want to go to the last day of the desired month.\n        // Note: the additional + 12 % 12 ensures we end up with a positive number, since JS % doesn't\n        // guarantee this.\n        if (this.getMonth(newDate) != (((this.getMonth(date) + months) % 12) + 12) % 12) {\n            newDate = this._createDateWithOverflow(this.getYear(newDate), this.getMonth(newDate), 0);\n        }\n        return newDate;\n    }\n    addCalendarDays(date, days) {\n        return this._createDateWithOverflow(this.getYear(date), this.getMonth(date), this.getDate(date) + days);\n    }\n    toIso8601(date) {\n        return [\n            date.getUTCFullYear(),\n            this._2digit(date.getUTCMonth() + 1),\n            this._2digit(date.getUTCDate()),\n        ].join('-');\n    }\n    /**\n     * Returns the given value if given a valid Date or null. Deserializes valid ISO 8601 strings\n     * (https://www.ietf.org/rfc/rfc3339.txt) into valid Dates and empty string into null. Returns an\n     * invalid date for all other values.\n     */\n    deserialize(value) {\n        if (typeof value === 'string') {\n            if (!value) {\n                return null;\n            }\n            // The `Date` constructor accepts formats other than ISO 8601, so we need to make sure the\n            // string is the right format first.\n            if (ISO_8601_REGEX.test(value)) {\n                let date = new Date(value);\n                if (this.isValid(date)) {\n                    return date;\n                }\n            }\n        }\n        return super.deserialize(value);\n    }\n    isDateInstance(obj) {\n        return obj instanceof Date;\n    }\n    isValid(date) {\n        return !isNaN(date.getTime());\n    }\n    invalid() {\n        return new Date(NaN);\n    }\n    setTime(target, hours, minutes, seconds) {\n        if (typeof ngDevMode === 'undefined' || ngDevMode) {\n            if (!inRange(hours, 0, 23)) {\n                throw Error(`Invalid hours \"${hours}\". Hours value must be between 0 and 23.`);\n            }\n            if (!inRange(minutes, 0, 59)) {\n                throw Error(`Invalid minutes \"${minutes}\". Minutes value must be between 0 and 59.`);\n            }\n            if (!inRange(seconds, 0, 59)) {\n                throw Error(`Invalid seconds \"${seconds}\". Seconds value must be between 0 and 59.`);\n            }\n        }\n        const clone = this.clone(target);\n        clone.setHours(hours, minutes, seconds, 0);\n        return clone;\n    }\n    getHours(date) {\n        return date.getHours();\n    }\n    getMinutes(date) {\n        return date.getMinutes();\n    }\n    getSeconds(date) {\n        return date.getSeconds();\n    }\n    parseTime(userValue, parseFormat) {\n        if (typeof userValue !== 'string') {\n            return userValue instanceof Date ? new Date(userValue.getTime()) : null;\n        }\n        const value = userValue.trim();\n        if (value.length === 0) {\n            return null;\n        }\n        // Attempt to parse the value directly.\n        let result = this._parseTimeString(value);\n        // Some locales add extra characters around the time, but are otherwise parseable\n        // (e.g. `00:05 ч.` in bg-BG). Try replacing all non-number and non-colon characters.\n        if (result === null) {\n            const withoutExtras = value.replace(/[^0-9:(AM|PM)]/gi, '').trim();\n            if (withoutExtras.length > 0) {\n                result = this._parseTimeString(withoutExtras);\n            }\n        }\n        return result || this.invalid();\n    }\n    addSeconds(date, amount) {\n        return new Date(date.getTime() + amount * 1000);\n    }\n    /** Creates a date but allows the month and date to overflow. */\n    _createDateWithOverflow(year, month, date) {\n        // Passing the year to the constructor causes year numbers <100 to be converted to 19xx.\n        // To work around this we use `setFullYear` and `setHours` instead.\n        const d = new Date();\n        d.setFullYear(year, month, date);\n        d.setHours(0, 0, 0, 0);\n        return d;\n    }\n    /**\n     * Pads a number to make it two digits.\n     * @param n The number to pad.\n     * @returns The padded number.\n     */\n    _2digit(n) {\n        return ('00' + n).slice(-2);\n    }\n    /**\n     * When converting Date object to string, javascript built-in functions may return wrong\n     * results because it applies its internal DST rules. The DST rules around the world change\n     * very frequently, and the current valid rule is not always valid in previous years though.\n     * We work around this problem building a new Date object which has its internal UTC\n     * representation with the local date and time.\n     * @param dtf Intl.DateTimeFormat object, containing the desired string format. It must have\n     *    timeZone set to 'utc' to work fine.\n     * @param date Date from which we want to get the string representation according to dtf\n     * @returns A Date object with its UTC representation based on the passed in date info\n     */\n    _format(dtf, date) {\n        // Passing the year to the constructor causes year numbers <100 to be converted to 19xx.\n        // To work around this we use `setUTCFullYear` and `setUTCHours` instead.\n        const d = new Date();\n        d.setUTCFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n        d.setUTCHours(date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds());\n        return dtf.format(d);\n    }\n    /**\n     * Attempts to parse a time string into a date object. Returns null if it cannot be parsed.\n     * @param value Time string to parse.\n     */\n    _parseTimeString(value) {\n        // Note: we can technically rely on the browser for the time parsing by generating\n        // an ISO string and appending the string to the end of it. We don't do it, because\n        // browsers aren't consistent in what they support. Some examples:\n        // - Safari doesn't support AM/PM.\n        // - Firefox produces a valid date object if the time string has overflows (e.g. 12:75) while\n        //   other browsers produce an invalid date.\n        // - Safari doesn't allow padded numbers.\n        const parsed = value.toUpperCase().match(TIME_REGEX);\n        if (parsed) {\n            let hours = parseInt(parsed[1]);\n            const minutes = parseInt(parsed[2]);\n            let seconds = parsed[3] == null ? undefined : parseInt(parsed[3]);\n            const amPm = parsed[4];\n            if (hours === 12) {\n                hours = amPm === 'AM' ? 0 : hours;\n            }\n            else if (amPm === 'PM') {\n                hours += 12;\n            }\n            if (inRange(hours, 0, 23) &&\n                inRange(minutes, 0, 59) &&\n                (seconds == null || inRange(seconds, 0, 59))) {\n                return this.setTime(this.today(), hours, minutes, seconds || 0);\n            }\n        }\n        return null;\n    }\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: NativeDateAdapter, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\n    static ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: NativeDateAdapter });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: NativeDateAdapter, decorators: [{\n            type: Injectable\n        }], ctorParameters: () => [] });\n/** Checks whether a number is within a certain range. */\nfunction inRange(value, min, max) {\n    return !isNaN(value) && value >= min && value <= max;\n}\n\nconst MAT_NATIVE_DATE_FORMATS = {\n    parse: {\n        dateInput: null,\n        timeInput: null,\n    },\n    display: {\n        dateInput: { year: 'numeric', month: 'numeric', day: 'numeric' },\n        timeInput: { hour: 'numeric', minute: 'numeric' },\n        monthYearLabel: { year: 'numeric', month: 'short' },\n        dateA11yLabel: { year: 'numeric', month: 'long', day: 'numeric' },\n        monthYearA11yLabel: { year: 'numeric', month: 'long' },\n        timeOptionLabel: { hour: 'numeric', minute: 'numeric' },\n    },\n};\n\nclass NativeDateModule {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: NativeDateModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\n    static ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"20.0.0\", ngImport: i0, type: NativeDateModule });\n    static ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: NativeDateModule, providers: [{ provide: DateAdapter, useClass: NativeDateAdapter }] });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: NativeDateModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    providers: [{ provide: DateAdapter, useClass: NativeDateAdapter }],\n                }]\n        }] });\nclass MatNativeDateModule {\n    static ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: MatNativeDateModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\n    static ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"14.0.0\", version: \"20.0.0\", ngImport: i0, type: MatNativeDateModule });\n    static ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: MatNativeDateModule, providers: [provideNativeDateAdapter()] });\n}\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"20.0.0\", ngImport: i0, type: MatNativeDateModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    providers: [provideNativeDateAdapter()],\n                }]\n        }] });\nfunction provideNativeDateAdapter(formats = MAT_NATIVE_DATE_FORMATS) {\n    return [\n        { provide: DateAdapter, useClass: NativeDateAdapter },\n        { provide: MAT_DATE_FORMATS, useValue: formats },\n    ];\n}\n\nexport { DateAdapter, MAT_DATE_FORMATS, MAT_DATE_LOCALE, MAT_NATIVE_DATE_FORMATS, MatNativeDateModule, NativeDateAdapter, NativeDateModule, VERSION, provideNativeDateAdapter };\n\n","import { InjectionToken } from '@angular/core';\nimport { UpdateUserUseCase } from './update-user.use-case';\n\n/**\n * Token d'injection pour le use case de modification d'utilisateur\n */\nexport const UPDATE_USER_USE_CASE = new InjectionToken<UpdateUserUseCase>('UpdateUserUseCase');\n","import { Inject, Injectable } from '@angular/core';\nimport { User, UserUpdateCommand, UserId } from '../../domain/entities/user.entity';\nimport { UserRepository, USER_REPOSITORY } from '../../domain/repositories/user.repository';\nimport { CreateUserDto, UserMapper, UserResponseDto } from '../dto/create-user.dto';\n\n/**\n * Interface pour le use case de modification d'utilisateur\n */\nexport interface UpdateUserUseCase {\n  execute(id: number, dto: CreateUserDto): Promise<UserResponseDto>;\n}\n\n@Injectable()\nexport class UpdateUserUseCaseImpl implements UpdateUserUseCase {\n  constructor(\n    @Inject(USER_REPOSITORY) private readonly userRepository: UserRepository\n  ) {}\n\n  async execute(id: number, dto: CreateUserDto): Promise<UserResponseDto> {\n    // Validation des données\n    this.validateUpdateUserDto(dto);\n\n    // Convertir l'ID en UserId\n    const userId: UserId = { value: id };\n\n    // Vérifier si l'utilisateur existe\n    const existingUser = await this.userRepository.findById(userId);\n    if (!existingUser) {\n      throw new Error(`L'utilisateur avec l'ID ${id} n'existe pas`);\n    }\n\n    // Vérifier si un autre utilisateur avec le même email existe déjà\n    if (dto.email !== existingUser.email) {\n      const existingByEmail = await this.userRepository.findByEmail(dto.email);\n      if (existingByEmail && existingByEmail.id !== id) {\n        throw new Error(`Un autre utilisateur avec l'email ${dto.email} existe déjà`);\n      }\n    }\n\n    // Vérifier si un autre utilisateur avec le même nom d'utilisateur existe déjà\n    if (dto.userName !== existingUser.userName) {\n      const existingByUsername = await this.userRepository.findByUsername(dto.userName);\n      if (existingByUsername && existingByUsername.id !== id) {\n        throw new Error(`Un autre utilisateur avec le nom d'utilisateur ${dto.userName} existe déjà`);\n      }\n    }\n\n    // Convertir le DTO en commande de mise à jour\n    const updateCommand = UserMapper.toUpdateCommand(dto);\n      \n    // Créer un utilisateur mis à jour\n    const updatedUser: User = {\n      ...existingUser,\n      societeId:updateCommand.societeId ?? existingUser.societeId,\n      nomPrenom: updateCommand.nomPrenom ?? existingUser.nomPrenom,\n      telephone: updateCommand.telephone ?? existingUser.telephone,\n      adresse: updateCommand.adresse ?? existingUser.adresse,\n      userName: updateCommand.userName ?? existingUser.userName,\n      email: updateCommand.email ?? existingUser.email,\n      statut: updateCommand.statut ?? existingUser.statut,\n      siteId: updateCommand.siteId ?? existingUser.siteId,\n      departementId: updateCommand.departementId ?? existingUser.departementId,\n      photo: updateCommand.photo ?? existingUser.photo,\n      signature: updateCommand.signature ?? existingUser.signature,\n      langue: updateCommand.langue ?? existingUser.langue,\n      // Note: pwdText n'est pas mis à jour via updateCommand\n      // Les autres champs restent inchangés\n    };\n    // Sauvegarder dans le repository\n    const savedUser = await this.userRepository.update(updatedUser);\n\n    // Convertir en DTO de réponse\n    return UserMapper.toResponseDto(savedUser);\n  }\n\n  /**\n   * Valide les données de modification d'utilisateur\n   * Note: Le mot de passe n'est pas obligatoire en mode édition\n   */\n  private validateUpdateUserDto(dto: CreateUserDto): void {\n    const errors: string[] = [];\n\n    if (!dto.nomPrenom || dto.nomPrenom.trim().length === 0) {\n      errors.push('Le nom et prénom sont requis');\n    }\n\n    if (!dto.userName || dto.userName.trim().length === 0) {\n      errors.push(\"Le nom d'utilisateur est requis\");\n    }\n\n    if (!dto.email || !this.isValidEmail(dto.email)) {\n      errors.push('Un email valide est requis');\n    }\n\n    // Le mot de passe n'est pas obligatoire en mode édition\n    // Mais s'il est fourni, il doit respecter les règles\n    if (dto.password && dto.password.trim().length > 0 && dto.password.trim().length < 6) {\n      errors.push('Le mot de passe doit contenir au moins 6 caractères');\n    }\n\n    if (dto.pwdText && (!dto.pwdText || dto.pwdText.trim().length === 0)) {\n      errors.push('Le texte du mot de passe est requis');\n    }\n\n    if (!dto.societeId || dto.societeId <= 0) {\n      errors.push('Un identifiant de société valide est requis');\n    }\n\n    if (!dto.siteId || dto.siteId <= 0) {\n      errors.push('Un identifiant de site valide est requis');\n    }\n\n    if (!dto.departementId || dto.departementId <= 0) {\n      errors.push('Un identifiant de département valide est requis');\n    }\n\n    if (!dto.statut) {\n      errors.push('Le statut est requis');\n    }\n\n    if (errors.length > 0) {\n      throw new Error(`Validation échouée: ${errors.join(', ')}`);\n    }\n  }\n\n  /**\n   * Valide le format d'email\n   */\n  private isValidEmail(email: string): boolean {\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailRegex.test(email);\n  }\n\n  /**\n   * Valide le numéro de téléphone\n   */\n  private isValidPhoneNumber(phone: string): boolean {\n    const phoneRegex = /^[\\d\\s\\-\\+\\(\\)]{8,20}$/;\n    return phoneRegex.test(phone);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpParams, HttpErrorResponse } from '@angular/common/http';\nimport { Observable, throwError, of } from 'rxjs';\nimport { catchError, map } from 'rxjs/operators';\nimport { environment } from '../../../../../environments/environment';\nimport { \n  CreateDepartementDto, \n  UpdateDepartementDto, \n  DepartementResponseDto, \n  PagedDepartementResponse,\n  DepartementStatistics \n} from '../../domain/dto/departement.dto';\nimport { AuthService } from '../../../../core/services/auth/auth.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DepartementService {\n  private apiUrl = `${environment.api}hierarchie/departements`;\n\n  constructor(private http: HttpClient,private authService: AuthService) {}\n\n  /**\n   * Récupère la liste paginée des départements\n   * @param societeId ID de la société (optionnel)\n   * @param page Numéro de page (0-based)\n   * @param size Taille de la page\n   * @param search Terme de recherche\n   * @param actif Filtre par statut\n   */\n  getDepartements(\n    societeId?: number,\n    page: number = 0,\n    size: number = 10,\n    search?: string,\n    actif?: boolean\n  ): Observable<PagedDepartementResponse> {\n    let params = new HttpParams()\n      .set('page', page.toString())\n      .set('size', size.toString());\n\n    if (societeId) {\n      params = params.set('societeId', societeId.toString());\n    }\n\n    if (search) {\n      params = params.set('search', search);\n    }\n\n    if (actif !== undefined) {\n      params = params.set('actif', actif.toString());\n    }\n\n    return this.http.get<PagedDepartementResponse>(this.apiUrl, { params });\n  }\n\n  /**\n   * Récupère un département par son ID\n   * @param id ID du département\n   */\n  getDepartement(id: number): Observable<DepartementResponseDto> {\n    return this.http.get<DepartementResponseDto>(`${this.apiUrl}/${id}`);\n  }\n\n  /**\n   * Crée un nouveau département\n   * @param dto Données du département\n   */\n  createDepartement(dto: CreateDepartementDto): Observable<DepartementResponseDto> {\n    return this.http.post<DepartementResponseDto>(this.apiUrl, dto);\n  }\n\n  /**\n   * Met à jour un département existant\n   * @param id ID du département\n   * @param dto Données mises à jour\n   */\n  updateDepartement(id: number, dto: UpdateDepartementDto): Observable<DepartementResponseDto> {\n    return this.http.put<DepartementResponseDto>(`${this.apiUrl}/${id}`, dto);\n  }\n\n  /**\n   * Supprime un département\n   * @param id ID du département\n   */\n  deleteDepartement(id: number): Observable<void> {\n    return this.http.delete<void>(`${this.apiUrl}/${id}`);\n  }\n\n  /**\n   * Active ou désactive un département\n   * @param id ID du département\n   * @param actif Nouveau statut\n   */\n  toggleDepartementStatus(id: number, actif: boolean): Observable<DepartementResponseDto> {\n    return this.http.patch<DepartementResponseDto>(`${this.apiUrl}/${id}/status`, { actif });\n  }\n\n  /**\n   * Récupère les statistiques des départements\n   * @param societeId ID de la société (optionnel)\n   */\n  getDepartementStatistics(societeId?: number): Observable<DepartementStatistics> {\n    let params = new HttpParams();\n    if (societeId) {\n      params = params.set('societeId', societeId.toString());\n    }\n    \n    return this.http.get<DepartementStatistics>(`${this.apiUrl}/statistics`, { params });\n  }\n\n  /**\n   * Récupère la liste de toutes les sociétés (pour les dropdowns)\n   * Note: Cette méthode dépend de l'API des sociétés\n   */\n  getSocietes(): Observable<any[]> {\n    // À adapter selon l'API des sociétés\n    return this.http.get<any[]>(`${environment.api}societes`);\n  }\n\n   /**\n   * Récupère la société de l'utilisateur connecté\n   */\n  getCurrentUserSocieteId(): number | null {\n    const user = this.authService.user;\n    return user?.societeId || null;\n  }\n}\n","import { Component, EventEmitter, Input, Output, OnInit, OnChanges, SimpleChanges, inject } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormBuilder, FormGroup, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { Observable, of } from 'rxjs';\nimport { map } from 'rxjs/operators';\n\n// Angular Material imports\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatOptionModule } from '@angular/material/core';\nimport { MatInputModule } from '@angular/material/input';\n\n// Import de la traduction\nimport { TranslatePipe } from '../../../../../core/services/translation/translate.pipe';\n\n// Import des use cases\nimport { CREATE_USER_USE_CASE } from '../../../application/use-cases/create-user.use-case.token';\nimport { UPDATE_USER_USE_CASE } from '../../../application/use-cases/update-user.use-case.token';\nimport { CreateUserUseCaseImpl } from '../../../application/use-cases/create-user.use-case';\nimport { UpdateUserUseCaseImpl } from '../../../application/use-cases/update-user.use-case';\n\n// Import des DTOs\nimport { CreateUserDto, UserResponseDto } from '../../../application/dto/create-user.dto';\n\n// Import des services\nimport { SiteService } from '../../../../setting/application/services/site.service';\nimport { DepartementService } from '../../../../setting/application/services/departement.service';\nimport { AuthService } from '../../../../../core/core.index';\n\n@Component({\n  selector: 'app-user-form',\n  standalone: true,\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    // Angular Material modules\n    MatSelectModule,\n    MatFormFieldModule,\n    MatOptionModule,\n    MatInputModule,\n    // Traduction\n    TranslatePipe\n  ],\n  templateUrl: './user-form.component.html',\n  styleUrls: ['./user-form.component.scss'],\n  providers: [\n    // Providers pour les use cases\n    {\n      provide: CREATE_USER_USE_CASE,\n      useClass: CreateUserUseCaseImpl,\n    },\n    {\n      provide: UPDATE_USER_USE_CASE,\n      useClass: UpdateUserUseCaseImpl,\n    },\n  ]\n})\nexport class UserFormComponent implements OnInit, OnChanges {\n  private fb = inject(FormBuilder);\n  private createUserUseCase = inject(CREATE_USER_USE_CASE);\n  private updateUserUseCase = inject(UPDATE_USER_USE_CASE);\n  private siteService = inject(SiteService);\n  private departementService = inject(DepartementService);\n  private authService = inject(AuthService);\n\n  @Input() user?: UserResponseDto; // Pour l'édition\n  @Input() isEditMode = false;\n  @Output() userSaved = new EventEmitter<UserResponseDto>();\n  @Output() cancelled = new EventEmitter<void>();\n\n  userForm!: FormGroup;\n  loading = false;\n  error: string | null = null;\n  success = false;\n\n  // Options pour les listes déroulantes\n  statusOptions = [\n    { value: 'ACTIF', label: 'forms.userForm.statuses.ACTIF' },\n    { value: 'INACTIF', label: 'forms.userForm.statuses.INACTIF' },\n    { value: 'EN_ATTENTE', label: 'forms.userForm.statuses.EN_ATTENTE' }\n  ];\n\n  siteOptions: { value: number, label: string }[] = [];\n  departmentOptions: { value: number, label: string }[] = [];\n\n  ngOnInit(): void {\n    this.initForm();\n    this.loadSites();\n    this.loadDepartements();\n  }\n\n  /**\n   * Hook appelé quand les inputs changent\n   */\n  ngOnChanges(): void {\n    if (this.user && this.isEditMode) {\n      // On attend un peu pour s'assurer que les options sont chargées\n      setTimeout(() => {\n        this.populateForm(this.user!);\n      }, 100);\n    }\n  }\n\n  /**\n   * Initialise le formulaire\n   */\n  private initForm(): void {\n    this.userForm = this.fb.group({\n      id:[null],\n      nomPrenom: ['', [Validators.required, Validators.minLength(3)]],\n      email: ['', [Validators.required, Validators.email]],\n      telephone: ['', [Validators.pattern(/^[0-9+\\s\\-()]{10,}$/)]],\n      adresse: [''],\n      siteId: ['', Validators.required],\n      departementId: ['', Validators.required],\n      statut: ['ACTIF', Validators.required],\n      // Champs supplémentaires\n      userName: ['', [Validators.required, Validators.minLength(3)]],\n      password: ['', this.isEditMode ? [] : [Validators.required, Validators.minLength(6)]],\n      confirmPassword: ['', this.isEditMode ? [] : [Validators.required]],\n      societeId: [this.authService.idUser, Validators.required], // Valeur par défaut\n      pwdText: [''],\n      photo: [''],\n      signature: [''],\n      langue: ['fr']\n    }, { validators: this.passwordMatchValidator });\n  }\n\n  /**\n   * Remplit le formulaire avec les données d'un utilisateur existant\n   */\n  private populateForm(user: UserResponseDto): void {\n    this.userForm.patchValue({\n      id: user.id,\n      nomPrenom: user.nomPrenom,\n      email: user.email,\n      telephone: user.telephone || '',\n      adresse: user.adresse || '',\n      siteId: user.siteId || '',\n      departementId: user.departementId || '',\n      statut: user.statut || 'ACTIF',\n      userName: user.userName || user.email.split('@')[0],\n      societeId: user.societeId || 1,\n      pwdText: user.pwdText || '',\n      photo: user.photo || '',\n      signature: user.signature || '',\n      langue: user.langue || 'fr'\n    });\n\n    // Désactive la validation du mot de passe en mode édition\n    this.userForm.get('password')?.clearValidators();\n    this.userForm.get('confirmPassword')?.clearValidators();\n    this.userForm.get('password')?.updateValueAndValidity();\n    this.userForm.get('confirmPassword')?.updateValueAndValidity();\n  }\n\n  /**\n   * Validateur pour vérifier que les mots de passe correspondent\n   */\n  private passwordMatchValidator(form: FormGroup): { [key: string]: boolean } | null {\n    const password = form.get('password')?.value;\n    const confirmPassword = form.get('confirmPassword')?.value;\n\n    if (password && confirmPassword && password !== confirmPassword) {\n      return { passwordMismatch: true };\n    }\n    return null;\n  }\n\n  /**\n   * Soumet le formulaire\n   */\n  async onSubmit(): Promise<void> {\n    if (this.userForm.invalid) {\n      this.markFormGroupTouched(this.userForm);\n      return;\n    }\n\n    this.loading = true;\n    this.error = null;\n    this.success = false;\n\n    try {\n      const formValue = this.userForm.value;\n      \n      const userData: CreateUserDto = {\n        id : formValue.id,\n        nomPrenom: formValue.nomPrenom,\n        email: formValue.email,\n        telephone: formValue.telephone || '',\n        adresse: formValue.adresse || '',\n        userName: formValue.userName,\n        password: formValue.password || '',\n        pwdText: formValue.password || '', // Pour l'instant, même que le mot de passe\n        societeId: formValue.societeId,\n        siteId: formValue.siteId,\n        departementId: formValue.departementId,\n        statut: formValue.statut,\n        photo: formValue.photo || '',\n        signature: formValue.signature || '',\n        langue: formValue.langue || 'fr'\n      };\n\n      let result: UserResponseDto;\n\n      if (this.isEditMode && this.user) {\n        // Utiliser le use case de modification\n        result = await this.updateUserUseCase.execute(userData.id!, userData);\n      } else {\n        // Utiliser le use case de création\n        result = await this.createUserUseCase.execute(userData);\n      }\n\n      this.success = true;\n      this.userSaved.emit(result);\n\n      // Réinitialise le formulaire après un succès en mode création\n      if (!this.isEditMode) {\n        setTimeout(() => {\n          this.userForm.reset({\n            statut: 'ACTIF',\n            siteId: '',\n            departementId: '',\n            societeId: 1,\n            langue: 'fr'\n          });\n          this.success = false;\n        }, 2000);\n      }\n\n    } catch (error: any) {\n      console.error('Erreur lors de la sauvegarde de l\\'utilisateur:', error);\n      this.error = error.message || 'Une erreur est survenue lors de la sauvegarde. Veuillez réessayer.';\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  /**\n   * Annule l'opération\n   */\n  onCancel(): void {\n    this.cancelled.emit();\n  }\n\n  /**\n   * Marque tous les champs du formulaire comme touchés pour afficher les erreurs\n   */\n  private markFormGroupTouched(formGroup: FormGroup): void {\n    Object.values(formGroup.controls).forEach(control => {\n      control.markAsTouched();\n\n      if (control instanceof FormGroup) {\n        this.markFormGroupTouched(control);\n      }\n    });\n  }\n\n  /**\n   * Vérifie si un champ est invalide et a été touché\n   */\n  isFieldInvalid(fieldName: string): boolean {\n    const field = this.userForm.get(fieldName);\n    return field ? field.invalid && (field.dirty || field.touched) : false;\n  }\n\n  /**\n   * Récupère le message d'erreur pour un champ\n   */\n  getFieldError(fieldName: string): string {\n    const field = this.userForm.get(fieldName);\n    \n    if (!field || !field.errors) {\n      return '';\n    }\n\n    if (field.errors['required']) {\n      return 'forms.validation.required';\n    }\n\n    if (field.errors['email']) {\n      return 'forms.validation.email';\n    }\n\n    if (field.errors['minlength']) {\n      const requiredLength = field.errors['minlength'].requiredLength;\n      return `forms.validation.minLength`.replace('{min}', requiredLength.toString());\n    }\n\n    if (field.errors['pattern']) {\n      return 'Format invalide';\n    }\n\n    if (field.errors['passwordMismatch']) {\n      return 'forms.validation.passwordMismatch';\n    }\n\n    return 'Valeur invalide';\n  }\n\n  /**\n   * Génère un nom d'utilisateur à partir de l'email\n   */\n  generateUsername(): void {\n    const email = this.userForm.get('email')?.value;\n    if (email && !this.userForm.get('userName')?.value) {\n      const username = email.split('@')[0];\n      this.userForm.get('userName')?.setValue(username);\n    }\n  }\n\n  /**\n   * Charge la liste des sites\n   */\n  private loadSites(): void {\n    this.siteService.getSites({ page: 0, size: 100 }).subscribe({\n      next: (response) => {\n        this.siteOptions = response.content.map(site => ({\n          value: site.id,\n          label: `${site.nom} (${site.code})`\n        }));\n      },\n      error: (error) => {\n        console.error('Erreur lors du chargement des sites:', error);\n        this.siteOptions = [];\n      }\n    });\n  }\n\n  /**\n   * Charge la liste des départements\n   */\n  private loadDepartements(): void {\n    this.departementService.getDepartements(undefined, 0, 100).subscribe({\n      next: (response) => {\n        this.departmentOptions = response.content.map(departement => ({\n          value: departement.id,\n          label: departement.nom\n        }));\n      },\n      error: (error) => {\n        console.error('Erreur lors du chargement des départements:', error);\n        this.departmentOptions = [];\n      }\n    });\n  }\n}\n","<form [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\" class=\"form-builder\"\n    [class.form-horizontal]=\"config.layout === 'horizontal'\">\n    <div class=\"row\">\n        <ng-container *ngFor=\"let field of config.fields\">\n            <!-- Field container -->\n            <div *ngIf=\"isFieldVisible(field)\" [ngClass]=\"getFieldWidthClass(field)\" class=\"mb-3\">\n\n                <!-- Label -->\n                <label *ngIf=\"config.showLabels !== false && field.type !== 'hidden'\" [for]=\"field.name\"\n                    class=\"form-label\" [class.required]=\"field.validation?.required\">\n                    {{ field.label | translate }}\n                    <span *ngIf=\"field.validation?.required\" class=\"text-danger\">*</span>\n                </label>\n\n                <!-- Text Input -->\n                <input\n                    *ngIf=\"field.type === 'text' || field.type === 'email' || field.type === 'password' || field.type === 'tel' || field.type === 'url'\"\n                    [type]=\"field.type\" [id]=\"field.name\" [formControlName]=\"field.name\"\n                    [placeholder]=\"field.placeholder ? (field.placeholder | translate) : ''\" [readonly]=\"field.readonly\"\n                    class=\"form-control\" [class.is-invalid]=\"hasError(field.name)\" />\n\n                <!-- Number Input -->\n                <input *ngIf=\"field.type === 'number'\" type=\"number\" [id]=\"field.name\" [formControlName]=\"field.name\"\n                    [placeholder]=\"field.placeholder ? (field.placeholder | translate) : ''\" [readonly]=\"field.readonly\"\n                    [min]=\"field.validation?.min ?? null\" [max]=\"field.validation?.max ?? null\" class=\"form-control\"\n                    [class.is-invalid]=\"hasError(field.name)\" />\n\n                <!-- Textarea -->\n                <textarea *ngIf=\"field.type === 'textarea'\" [id]=\"field.name\" [formControlName]=\"field.name\"\n                    [placeholder]=\"field.placeholder ? (field.placeholder | translate) : ''\" [readonly]=\"field.readonly\"\n                    rows=\"4\" class=\"form-control\" [class.is-invalid]=\"hasError(field.name)\">\n        </textarea>\n\n                <!-- Select -->\n                <select *ngIf=\"field.type === 'select'\" [id]=\"field.name\" [formControlName]=\"field.name\"\n                    class=\"form-select\" [class.is-invalid]=\"hasError(field.name)\">\n                    <option value=\"\" disabled selected>\n                        {{ field.placeholder ? (field.placeholder | translate) : ('form.selectOption' | translate) }}\n                    </option>\n                    <option *ngFor=\"let option of field.options\" [value]=\"option.value\"\n                        [disabled]=\"option.disabled || false\">\n                        {{ option.label | translate }}\n                    </option>\n                </select>\n\n                <!-- Radio Buttons -->\n                <div *ngIf=\"field.type === 'radio'\" class=\"form-radio-group\">\n                    <div *ngFor=\"let option of field.options\" class=\"form-check\"\n                        [class.form-check-inline]=\"config.layout === 'horizontal'\">\n                        <input type=\"radio\" [id]=\"field.name + '_' + option.value\" [formControlName]=\"field.name\"\n                            [value]=\"option.value\" [disabled]=\"option.disabled || false\" class=\"form-check-input\" />\n                        <label [for]=\"field.name + '_' + option.value\" class=\"form-check-label\">\n                            {{ option.label | translate }}\n                        </label>\n                    </div>\n                </div>\n\n                <!-- Checkbox -->\n                <div *ngIf=\"field.type === 'checkbox'\" class=\"form-check\">\n                    <input type=\"checkbox\" [id]=\"field.name\" [formControlName]=\"field.name\" class=\"form-check-input\"\n                        [class.is-invalid]=\"hasError(field.name)\" />\n                    <label [for]=\"field.name\" class=\"form-check-label\">\n                        {{ field.label | translate }}\n                    </label>\n                </div>\n\n                <!-- Date Input -->\n                <input *ngIf=\"field.type === 'date'\" type=\"date\" [id]=\"field.name\" [formControlName]=\"field.name\"\n                    [readonly]=\"field.readonly\" class=\"form-control\" [class.is-invalid]=\"hasError(field.name)\" />\n\n                <!-- Time Input -->\n                <input *ngIf=\"field.type === 'time'\" type=\"time\" [id]=\"field.name\" [formControlName]=\"field.name\"\n                    [readonly]=\"field.readonly\" class=\"form-control\" [class.is-invalid]=\"hasError(field.name)\" />\n\n                <!-- Datetime Input -->\n                <input *ngIf=\"field.type === 'datetime'\" type=\"datetime-local\" [id]=\"field.name\"\n                    [formControlName]=\"field.name\" [readonly]=\"field.readonly\" class=\"form-control\"\n                    [class.is-invalid]=\"hasError(field.name)\" />\n\n                <!-- File Input -->\n                <input *ngIf=\"field.type === 'file'\" type=\"file\" [id]=\"field.name\" class=\"form-control\"\n                    [class.is-invalid]=\"hasError(field.name)\" />\n\n                <!-- Hidden Input -->\n                <input *ngIf=\"field.type === 'hidden'\" type=\"hidden\" [id]=\"field.name\" [formControlName]=\"field.name\" />\n\n                <!-- Help Text -->\n                <small *ngIf=\"field.helpText && !hasError(field.name)\" class=\"form-text text-muted\">\n                    {{ field.helpText | translate }}\n                </small>\n\n                <!-- Error Message -->\n                <div *ngIf=\"hasError(field.name)\" class=\"invalid-feedback d-block\">\n                    {{ getErrorMessage(field) | translate }}\n                </div>\n            </div>\n        </ng-container>\n    </div>\n\n    <!-- Form Actions -->\n    <div class=\"form-actions mt-4\" *ngIf=\"config.submitButton || config.cancelButton\">\n        <button *ngIf=\"config.submitButton\" type=\"submit\" [class]=\"config.submitButton.class || 'btn btn-primary'\"\n            [disabled]=\"readonly\">\n            {{ config.submitButton.label | translate }}\n        </button>\n\n        <button *ngIf=\"config.cancelButton\" type=\"button\"\n            [class]=\"config.cancelButton.class || 'btn btn-secondary ms-2'\" (click)=\"onCancel()\">\n            {{ config.cancelButton.label | translate }}\n        </button>\n    </div>\n</form>","/* src/app/modules/_shared/presentation/components/form-builder/form-builder.component.scss */\n.form-builder {\n  width: 100%;\n}\n.form-builder .form-label.required {\n  font-weight: 600;\n}\n.form-builder .form-radio-group {\n  display: flex;\n  flex-direction: column;\n  gap: 0.5rem;\n}\n.form-builder.form-horizontal .form-radio-group {\n  flex-direction: row;\n  flex-wrap: wrap;\n}\n.form-builder .form-actions {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  padding-top: 1rem;\n  border-top: 1px solid var(--bs-border-color);\n}\n.form-builder .form-actions button {\n  min-width: 120px;\n}\n.form-builder .invalid-feedback {\n  font-size: 0.875rem;\n  margin-top: 0.25rem;\n}\n@media (max-width: 768px) {\n  .form-builder .form-actions {\n    flex-direction: column;\n    width: 100%;\n  }\n  .form-builder .form-actions button {\n    width: 100%;\n  }\n}\n/*# sourceMappingURL=form-builder.component.css.map */\n","import { Component, Input, Output, EventEmitter, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormBuilder, FormGroup, ReactiveFormsModule, Validators, AbstractControl } from '@angular/forms';\nimport { TranslatePipe } from '../../../../../core/services/translation';\n\n/**\n * Types de champs supportés\n */\nexport type FormFieldType =\n    | 'text'\n    | 'email'\n    | 'password'\n    | 'number'\n    | 'tel'\n    | 'url'\n    | 'textarea'\n    | 'select'\n    | 'radio'\n    | 'checkbox'\n    | 'date'\n    | 'time'\n    | 'datetime'\n    | 'file'\n    | 'hidden';\n\n/**\n * Option pour select/radio\n */\nexport interface FormFieldOption {\n    label: string;\n    value: any;\n    disabled?: boolean;\n}\n\n/**\n * Règle de validation\n */\nexport interface FormFieldValidation {\n    required?: boolean;\n    minLength?: number;\n    maxLength?: number;\n    min?: number;\n    max?: number;\n    pattern?: string | RegExp;\n    email?: boolean;\n    custom?: (control: AbstractControl) => { [key: string]: any } | null;\n}\n\n/**\n * Configuration d'un champ de formulaire\n */\nexport interface FormFieldConfig {\n    /** Nom du champ (clé dans le FormGroup) */\n    name: string;\n    /** Libellé du champ (clé i18n) */\n    label: string;\n    /** Type de champ */\n    type: FormFieldType;\n    /** Valeur par défaut */\n    defaultValue?: any;\n    /** Placeholder (clé i18n) */\n    placeholder?: string;\n    /** Texte d'aide (clé i18n) */\n    helpText?: string;\n    /** Options pour select/radio */\n    options?: FormFieldOption[];\n    /** Validations */\n    validation?: FormFieldValidation;\n    /** Champ désactivé */\n    disabled?: boolean;\n    /** Champ en lecture seule */\n    readonly?: boolean;\n    /** Classe CSS personnalisée */\n    customClass?: string;\n    /** Largeur (col-md-X) */\n    width?: number;\n    /** Afficher le champ */\n    visible?: boolean;\n    /** Champ requis */\n    required?: boolean;\n    /** Condition d'affichage (fonction) */\n    visibleWhen?: (formValue: any) => boolean;\n    /** Nombre de lignes (pour textarea) */\n    rows?: number;\n    /** Valeur minimum */\n    min?: number;\n    /** Valeur maximum */\n    max?: number;\n    /** Pas d'incrémentation */\n    step?: number;\n}\n\n/**\n * Configuration du formulaire\n */\nexport interface FormConfig {\n    /** Champs du formulaire */\n    fields: FormFieldConfig[];\n    /** Layout (horizontal ou vertical) */\n    layout?: 'horizontal' | 'vertical';\n    /** Afficher les labels */\n    showLabels?: boolean;\n    /** Largeur des labels (pour layout horizontal) */\n    labelWidth?: number;\n    /** Bouton de soumission */\n    submitButton?: {\n        label: string;\n        class?: string;\n    };\n    /** Bouton d'annulation */\n    cancelButton?: {\n        label: string;\n        class?: string;\n    };\n}\n\n/**\n * Composant FormBuilder pour générer des formulaires dynamiques\n * \n * Features:\n * - Génération automatique de formulaires\n * - Validation intégrée\n * - Support multi-types de champs\n * - Layouts configurables\n * - i18n\n * - Champs conditionnels\n * \n * @example\n * ```html\n * <app-form-builder\n *   [config]=\"formConfig\"\n *   (formSubmit)=\"onSubmit($event)\"\n *   (formCancel)=\"onCancel()\">\n * </app-form-builder>\n * ```\n */\n@Component({\n    selector: 'app-form-builder',\n    standalone: true,\n    imports: [CommonModule, ReactiveFormsModule, TranslatePipe],\n    templateUrl: './form-builder.component.html',\n    styleUrls: ['./form-builder.component.scss']\n})\nexport class FormBuilderComponent implements OnInit {\n    /** Configuration du formulaire */\n    @Input() config!: FormConfig;\n\n    /** Valeurs initiales du formulaire */\n    @Input() initialValues?: any;\n\n    /** Mode lecture seule */\n    @Input() readonly = false;\n\n    /** Afficher les erreurs immédiatement */\n    @Input() showErrorsOnLoad = false;\n\n    /** Événement de soumission du formulaire */\n    @Output() formSubmit = new EventEmitter<any>();\n\n    /** Événement d'annulation */\n    @Output() formCancel = new EventEmitter<void>();\n\n    /** Événement de changement de valeur */\n    @Output() formChange = new EventEmitter<any>();\n\n    /** FormGroup Angular */\n    form!: FormGroup;\n\n    /** Formulaire soumis */\n    submitted = false;\n\n    constructor(private fb: FormBuilder) { }\n\n    ngOnInit(): void {\n        this.buildForm();\n\n        if (this.initialValues) {\n            this.form.patchValue(this.initialValues);\n        }\n\n        // Écouter les changements\n        this.form.valueChanges.subscribe(value => {\n            this.formChange.emit(value);\n            this.updateConditionalFields();\n        });\n    }\n\n    /**\n     * Construire le FormGroup à partir de la configuration\n     */\n    private buildForm(): void {\n        const group: any = {};\n\n        this.config.fields.forEach(field => {\n            const validators = this.getValidators(field.validation);\n            const value = field.defaultValue !== undefined ? field.defaultValue : null;\n\n            group[field.name] = [\n                { value, disabled: field.disabled || this.readonly },\n                validators\n            ];\n        });\n\n        this.form = this.fb.group(group);\n    }\n\n    /**\n     * Obtenir les validateurs pour un champ\n     */\n    private getValidators(validation?: FormFieldValidation): any[] {\n        if (!validation) return [];\n\n        const validators: any[] = [];\n\n        if (validation.required) {\n            validators.push(Validators.required);\n        }\n\n        if (validation.minLength) {\n            validators.push(Validators.minLength(validation.minLength));\n        }\n\n        if (validation.maxLength) {\n            validators.push(Validators.maxLength(validation.maxLength));\n        }\n\n        if (validation.min !== undefined) {\n            validators.push(Validators.min(validation.min));\n        }\n\n        if (validation.max !== undefined) {\n            validators.push(Validators.max(validation.max));\n        }\n\n        if (validation.pattern) {\n            validators.push(Validators.pattern(validation.pattern));\n        }\n\n        if (validation.email) {\n            validators.push(Validators.email);\n        }\n\n        if (validation.custom) {\n            validators.push(validation.custom);\n        }\n\n        return validators;\n    }\n\n    /**\n     * Mettre à jour les champs conditionnels\n     */\n    private updateConditionalFields(): void {\n        const formValue = this.form.value;\n\n        this.config.fields.forEach(field => {\n            if (field.visibleWhen) {\n                const shouldBeVisible = field.visibleWhen(formValue);\n                field.visible = shouldBeVisible;\n\n                // Désactiver le champ s'il n'est pas visible\n                const control = this.form.get(field.name);\n                if (control) {\n                    if (!shouldBeVisible) {\n                        control.disable();\n                        control.setValue(null);\n                    } else if (!field.disabled && !this.readonly) {\n                        control.enable();\n                    }\n                }\n            }\n        });\n    }\n\n    /**\n     * Soumettre le formulaire\n     */\n    onSubmit(): void {\n        this.submitted = true;\n\n        if (this.form.valid) {\n            this.formSubmit.emit(this.form.value);\n        } else {\n            this.markFormGroupTouched(this.form);\n        }\n    }\n\n    /**\n     * Annuler le formulaire\n     */\n    onCancel(): void {\n        this.formCancel.emit();\n    }\n\n    /**\n     * Marquer tous les champs comme touchés\n     */\n    private markFormGroupTouched(formGroup: FormGroup): void {\n        Object.keys(formGroup.controls).forEach(key => {\n            const control = formGroup.get(key);\n            control?.markAsTouched();\n\n            if (control instanceof FormGroup) {\n                this.markFormGroupTouched(control);\n            }\n        });\n    }\n\n    /**\n     * Vérifier si un champ a une erreur\n     */\n    hasError(fieldName: string): boolean {\n        const control = this.form.get(fieldName);\n        return !!(control && control.invalid && (control.touched || this.submitted || this.showErrorsOnLoad));\n    }\n\n    /**\n     * Obtenir le message d'erreur pour un champ\n     */\n    getErrorMessage(field: FormFieldConfig): string {\n        const control = this.form.get(field.name);\n        if (!control || !control.errors) return '';\n\n        const errors = control.errors;\n\n        if (errors['required']) {\n            return 'form.errors.required';\n        }\n\n        if (errors['minlength']) {\n            return 'form.errors.minLength';\n        }\n\n        if (errors['maxlength']) {\n            return 'form.errors.maxLength';\n        }\n\n        if (errors['min']) {\n            return 'form.errors.min';\n        }\n\n        if (errors['max']) {\n            return 'form.errors.max';\n        }\n\n        if (errors['pattern']) {\n            return 'form.errors.pattern';\n        }\n\n        if (errors['email']) {\n            return 'form.errors.email';\n        }\n\n        return 'form.errors.invalid';\n    }\n\n    /**\n     * Vérifier si un champ est visible\n     */\n    isFieldVisible(field: FormFieldConfig): boolean {\n        if (field.visible === false) return false;\n        if (field.visibleWhen) {\n            return field.visibleWhen(this.form.value);\n        }\n        return true;\n    }\n\n    /**\n     * Obtenir la classe de largeur pour un champ\n     */\n    getFieldWidthClass(field: FormFieldConfig): string {\n        let cssClass = field.width ? `col-md-${field.width}` : 'col-md-12';\n\n        if (field.customClass) {\n            cssClass += ` ${field.customClass}`;\n        }\n\n        return cssClass;\n    }\n\n    /**\n     * Réinitialiser le formulaire\n     */\n    reset(): void {\n        this.form.reset();\n        this.submitted = false;\n    }\n\n    /**\n     * Définir les valeurs du formulaire\n     */\n    setValue(values: any): void {\n        this.form.patchValue(values);\n    }\n\n    /**\n     * Obtenir les valeurs du formulaire\n     */\n    getValue(): any {\n        return this.form.value;\n    }\n\n    /**\n     * Vérifier si le formulaire est valide\n     */\n    isValid(): boolean {\n        return this.form.valid;\n    }\n}\n","import { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormBuilderComponent, FormConfig, FormFieldConfig } from './form-builder.component';\n\n/**\n * Exemple d'utilisation du composant FormBuilder\n */\n@Component({\n    selector: 'app-form-builder-example',\n    standalone: true,\n    imports: [CommonModule, FormBuilderComponent],\n    template: `\n    <div class=\"container-fluid p-4\">\n      <h2>Exemple FormBuilder</h2>\n\n      <div class=\"row\">\n        <div class=\"col-md-8\">\n          <div class=\"card\">\n            <div class=\"card-body\">\n              <app-form-builder\n                [config]=\"formConfig\"\n                [initialValues]=\"initialValues\"\n                (formSubmit)=\"onSubmit($event)\"\n                (formCancel)=\"onCancel()\"\n                (formChange)=\"onChange($event)\">\n              </app-form-builder>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"col-md-4\">\n          <div class=\"card\">\n            <div class=\"card-header\">\n              <h5>Valeurs du Formulaire</h5>\n            </div>\n            <div class=\"card-body\">\n              <pre>{{ currentValues | json }}</pre>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `\n})\nexport class FormBuilderExampleComponent {\n    currentValues: any = {};\n\n    // Valeurs initiales\n    initialValues = {\n        firstName: 'Jean',\n        email: 'jean@example.com'\n    };\n\n    // Configuration du formulaire\n    formConfig: FormConfig = {\n        layout: 'vertical',\n        showLabels: true,\n        fields: [\n            // Section Informations personnelles\n            {\n                name: 'firstName',\n                label: 'Prénom',\n                type: 'text',\n                placeholder: 'Entrez votre prénom',\n                validation: {\n                    required: true,\n                    minLength: 2,\n                    maxLength: 50\n                },\n                width: 6\n            },\n            {\n                name: 'lastName',\n                label: 'Nom',\n                type: 'text',\n                placeholder: 'Entrez votre nom',\n                validation: {\n                    required: true,\n                    minLength: 2,\n                    maxLength: 50\n                },\n                width: 6\n            },\n            {\n                name: 'email',\n                label: 'Email',\n                type: 'email',\n                placeholder: 'exemple@email.com',\n                helpText: 'Nous ne partagerons jamais votre email',\n                validation: {\n                    required: true,\n                    email: true\n                },\n                width: 6\n            },\n            {\n                name: 'phone',\n                label: 'Téléphone',\n                type: 'tel',\n                placeholder: '+33 6 12 34 56 78',\n                validation: {\n                    pattern: /^(\\+33|0)[1-9](\\d{2}){4}$/\n                },\n                width: 6\n            },\n            {\n                name: 'birthDate',\n                label: 'Date de naissance',\n                type: 'date',\n                validation: {\n                    required: true\n                },\n                width: 6\n            },\n            {\n                name: 'gender',\n                label: 'Genre',\n                type: 'select',\n                placeholder: 'Sélectionnez votre genre',\n                options: [\n                    { label: 'Homme', value: 'male' },\n                    { label: 'Femme', value: 'female' },\n                    { label: 'Autre', value: 'other' }\n                ],\n                validation: {\n                    required: true\n                },\n                width: 6\n            },\n\n            // Section Adresse\n            {\n                name: 'address',\n                label: 'Adresse',\n                type: 'textarea',\n                placeholder: 'Entrez votre adresse complète',\n                validation: {\n                    required: true\n                },\n                width: 12\n            },\n            {\n                name: 'city',\n                label: 'Ville',\n                type: 'text',\n                placeholder: 'Paris',\n                validation: {\n                    required: true\n                },\n                width: 6\n            },\n            {\n                name: 'postalCode',\n                label: 'Code postal',\n                type: 'text',\n                placeholder: '75001',\n                validation: {\n                    required: true,\n                    pattern: /^\\d{5}$/\n                },\n                width: 6\n            },\n\n            // Section Préférences\n            {\n                name: 'newsletter',\n                label: 'S\\'abonner à la newsletter',\n                type: 'checkbox',\n                defaultValue: false,\n                width: 12\n            },\n            {\n                name: 'notificationMethod',\n                label: 'Méthode de notification préférée',\n                type: 'radio',\n                options: [\n                    { label: 'Email', value: 'email' },\n                    { label: 'SMS', value: 'sms' },\n                    { label: 'Push', value: 'push' }\n                ],\n                defaultValue: 'email',\n                visible: true,\n                visibleWhen: (formValue) => formValue.newsletter === true,\n                width: 12\n            },\n\n            // Section Professionnel\n            {\n                name: 'company',\n                label: 'Entreprise',\n                type: 'text',\n                placeholder: 'Nom de l\\'entreprise',\n                width: 6\n            },\n            {\n                name: 'position',\n                label: 'Poste',\n                type: 'text',\n                placeholder: 'Votre poste',\n                width: 6\n            },\n            {\n                name: 'experience',\n                label: 'Années d\\'expérience',\n                type: 'number',\n                validation: {\n                    min: 0,\n                    max: 50\n                },\n                width: 6\n            },\n            {\n                name: 'salary',\n                label: 'Salaire souhaité (€)',\n                type: 'number',\n                validation: {\n                    min: 0\n                },\n                width: 6\n            },\n\n            // Section Documents\n            {\n                name: 'cv',\n                label: 'CV (PDF)',\n                type: 'file',\n                helpText: 'Format PDF uniquement, max 5MB',\n                width: 12\n            },\n\n            // Section Commentaires\n            {\n                name: 'comments',\n                label: 'Commentaires',\n                type: 'textarea',\n                placeholder: 'Vos commentaires...',\n                width: 12\n            }\n        ],\n        submitButton: {\n            label: 'Enregistrer',\n            class: 'btn btn-primary'\n        },\n        cancelButton: {\n            label: 'Annuler',\n            class: 'btn btn-secondary'\n        }\n    };\n\n    onSubmit(values: any): void {\n        console.log('Form submitted:', values);\n        alert('Formulaire soumis avec succès !');\n    }\n\n    onCancel(): void {\n        console.log('Form cancelled');\n    }\n\n    onChange(values: any): void {\n        this.currentValues = values;\n    }\n}\n","import { Component, OnInit, inject, ViewChild, ElementRef } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport { Router } from '@angular/router';\n\n// Import des use cases\nimport { GetUsersUseCase } from '../../../application/use-cases/get-users.use-case';\nimport { CreateUserUseCase } from '../../../application/use-cases/create-user.use-case';\nimport { CREATE_USER_USE_CASE } from '../../../application/use-cases/create-user.use-case.token';\nimport { GET_USERS_USE_CASE } from '../../../application/use-cases/get-users.use-case.token';\nimport { ACTIVATE_USER_USE_CASE, ActivateUserUseCase } from '../../../application/use-cases/activate-user.use-case';\nimport { DEACTIVATE_USER_USE_CASE, DeactivateUserUseCase } from '../../../application/use-cases/deactivate-user.use-case';\nimport { DELETE_USER_USE_CASE, DeleteUserUseCase } from '../../../application/use-cases/delete-user.use-case';\n\n// Import du ViewModel\nimport { UsersViewModel } from './users.view-model';\n\n// Import des DTOs\nimport { UserResponseDto, UsersPaginationOptionsDto } from '../../../application/dto/create-user.dto';\n\n// Import des composants\nimport { UserFormComponent } from '../../components/user-form/user-form.component';\n\n// Import des services\nimport { SiteService } from '../../../../setting/application/services/site.service';\nimport { DepartementService } from '../../../../setting/application/services/departement.service';\nimport { AuthService } from '../../../../../core/services/auth/auth.service';\n\n// Import de la traduction\nimport { TranslatePipe } from '../../../../../core/services/translation/translate.pipe';\nimport { ToasterService } from '../../../../../core/core.index';\n\n// Import des implémentations et providers\nimport { GetUsersUseCaseImpl } from '../../../application/use-cases/get-users.use-case';\nimport { CreateUserUseCaseImpl } from '../../../application/use-cases/create-user.use-case';\nimport { ActivateUserUseCaseImpl } from '../../../application/use-cases/activate-user.use-case';\nimport { DeactivateUserUseCaseImpl } from '../../../application/use-cases/deactivate-user.use-case';\nimport { DeleteUserUseCaseImpl } from '../../../application/use-cases/delete-user.use-case';\nimport { APPLICATION_CONTEXT, LocalStorageContextAdapter } from '../../../../_shared';\nimport { USER_REPOSITORY } from '../../../domain/repositories/user.repository';\nimport { HttpUserRepository } from '../../../infrastructure/repositories/http-user.repository';\nimport { FormBuilderExampleComponent } from '../../../../_shared/presentation/components/form-builder/form-builder-example.component';\n\n@Component({\n  selector: 'app-users',\n  standalone: true,\n  imports: [\n    CommonModule,\n    FormsModule,\n    HttpClientModule,\n    UserFormComponent,\n    TranslatePipe,\n    FormBuilderExampleComponent\n  ],\n  providers: [\n    // ApplicationContext\n    {\n      provide: APPLICATION_CONTEXT,\n      useClass: LocalStorageContextAdapter\n    },\n    // Repository\n    {\n      provide: USER_REPOSITORY,\n      useClass: HttpUserRepository\n    },\n    // Use Cases\n    {\n      provide: GET_USERS_USE_CASE,\n      useClass: GetUsersUseCaseImpl\n    },\n    {\n      provide: CREATE_USER_USE_CASE,\n      useClass: CreateUserUseCaseImpl\n    },\n    {\n      provide: ACTIVATE_USER_USE_CASE,\n      useClass: ActivateUserUseCaseImpl\n    },\n    {\n      provide: DEACTIVATE_USER_USE_CASE,\n      useClass: DeactivateUserUseCaseImpl\n    },\n    {\n      provide: DELETE_USER_USE_CASE,\n      useClass: DeleteUserUseCaseImpl\n    },\n    // Services\n    SiteService,\n    DepartementService,\n    AuthService,\n    ToasterService\n  ],\n  templateUrl: './users.component.html',\n  styleUrls: ['./users.component.scss']\n})\nexport class UsersComponent implements OnInit {\n  // Use cases injectés\n  private getUsersUseCase = inject(GET_USERS_USE_CASE);\n  private createUserUseCase = inject(CREATE_USER_USE_CASE);\n  private activateUserUseCase = inject(ACTIVATE_USER_USE_CASE);\n  private deactivateUserUseCase = inject(DEACTIVATE_USER_USE_CASE);\n  private deleteUserUseCase = inject(DELETE_USER_USE_CASE);\n\n  // ViewModel pour la logique de présentation\n  viewModel = new UsersViewModel();\n\n  // Services injectés\n  private siteService = inject(SiteService);\n  private departementService = inject(DepartementService);\n  private authService = inject(AuthService);\n  private router = inject(Router);\n  private toastService = inject(ToasterService);\n\n  // Référence à la modale\n  @ViewChild('userFormModal') userFormModal!: ElementRef;\n\n  // Données\n  users: UserResponseDto[] = [];\n  loading = false;\n  error: string | null = null;\n\n  // Gestion de la modal\n  selectedUser: UserResponseDto | null = null;\n  isEditMode = false;\n  modalTitle = 'Créer un nouvel utilisateur';\n\n  // Pagination\n  currentPage = 0;\n  pageSize = 10;\n  totalElements = 0;\n  totalPages = 0;\n\n  // Filtres\n  searchQuery = '';\n  statusFilter = '';\n  siteFilter: number | null = null;\n  departmentFilter: number | null = null;\n\n  // Données pour les filtres\n  sites: any[] = [];\n  departments: any[] = [];\n  loadingFilters = false;\n\n  constructor() { }\n\n  ngOnInit(): void {\n    this.loadUsers();\n    this.loadFiltersData();\n  }\n\n  /**\n   * Charge la liste des utilisateurs avec les filtres appropriés\n   */\n  async loadUsers(): Promise<void> {\n    this.loading = true;\n    this.error = null;\n\n    try {\n      const options: UsersPaginationOptionsDto = {\n        page: this.currentPage,\n        size: this.pageSize,\n        search: this.searchQuery || undefined,\n        sortBy: 'nomPrenom',\n        sortOrder: 'asc'\n      };\n\n      let response;\n\n      // Déterminer quelle API utiliser en fonction des filtres\n      if (this.siteFilter) {\n        // Utiliser l'API spécifique pour le site\n        response = await this.getUsersUseCase.executeBySite(this.siteFilter, options);\n      } else if (this.departmentFilter) {\n        // Utiliser l'API spécifique pour le département\n        response = await this.getUsersUseCase.executeByDepartment(this.departmentFilter, options);\n      } else {\n        // Utiliser l'API par défaut (filtrée par société de l'utilisateur connecté)\n        response = await this.getUsersUseCase.execute(options);\n      }\n\n      this.users = response.content;\n      this.totalElements = response.totalElements;\n      this.totalPages = response.totalPages;\n\n    } catch (error) {\n      console.error('Erreur lors du chargement des utilisateurs:', error);\n      this.error = 'Impossible de charger la liste des utilisateurs. Veuillez réessayer.';\n      this.users = [];\n    } finally {\n      this.loading = false;\n    }\n  }\n\n  /**\n   * Charge les données pour les filtres (sites et départements)\n   */\n  async loadFiltersData(): Promise<void> {\n    this.loadingFilters = true;\n    try {\n      // Récupérer l'ID de la société de l'utilisateur connecté\n      const user = this.authService.user;\n      const societeId = user?.societeId;\n\n      if (!societeId) {\n        console.warn('Aucune société trouvée pour l\\'utilisateur connecté');\n        this.sites = [];\n        this.departments = [];\n        return;\n      }\n\n      // Charger les sites\n      const sitesResponse = await this.siteService.getSites({\n        societeId,\n        page: 0,\n        size: 100, // Charger tous les sites\n        actif: true // Seulement les sites actifs\n      }).toPromise();\n\n      if (sitesResponse?.content) {\n        this.sites = sitesResponse.content.map(site => ({\n          id: site.id,\n          nom: site.nom || `Site ${site.id}`\n        }));\n      } else {\n        this.sites = [];\n      }\n\n      // Charger les départements\n      const departementsResponse = await this.departementService.getDepartements(\n        societeId,\n        0, // page\n        100, // size - Charger tous les départements\n        undefined, // search\n        true // actif - Seulement les départements actifs\n      ).toPromise();\n\n      if (departementsResponse?.content) {\n        this.departments = departementsResponse.content.map(dept => ({\n          id: dept.id,\n          nom: dept.nom || `Département ${dept.id}`\n        }));\n      } else {\n        this.departments = [];\n      }\n    } catch (error) {\n      console.error('Erreur lors du chargement des filtres:', error);\n      this.sites = [];\n      this.departments = [];\n    } finally {\n      this.loadingFilters = false;\n    }\n  }\n\n  /**\n   * Recherche des utilisateurs\n   */\n  onSearch(): void {\n    this.currentPage = 0;\n    this.loadUsers();\n  }\n\n  /**\n   * Réinitialise les filtres\n   */\n  resetFilters(): void {\n    this.searchQuery = '';\n    this.statusFilter = '';\n    this.siteFilter = null;\n    this.departmentFilter = null;\n    this.currentPage = 0;\n    this.loadUsers();\n  }\n\n  /**\n   * Filtre par site\n   */\n  filterBySite(siteId: number | null): void {\n    this.siteFilter = siteId;\n    this.departmentFilter = null; // Réinitialiser le filtre département si on change de site\n    this.currentPage = 0;\n    this.loadUsers();\n  }\n\n  /**\n   * Filtre par département\n   */\n  filterByDepartment(departmentId: number | null): void {\n    this.departmentFilter = departmentId;\n    this.siteFilter = null; // Réinitialiser le filtre site si on change de département\n    this.currentPage = 0;\n    this.loadUsers();\n  }\n\n  /**\n   * Retourne le nom du site sélectionné\n   */\n  getSelectedSiteName(): string {\n    if (!this.siteFilter) return 'Tous';\n    const site = this.sites.find(s => s.id === this.siteFilter);\n    return site ? site.nom : `Site ${this.siteFilter}`;\n  }\n\n  /**\n   * Retourne le nom du département sélectionné\n   */\n  getSelectedDepartmentName(): string {\n    if (!this.departmentFilter) return 'Tous';\n    const dept = this.departments.find(d => d.id === this.departmentFilter);\n    return dept ? dept.nom : `Département ${this.departmentFilter}`;\n  }\n\n  /**\n   * Change de page\n   */\n  changePage(page: number): void {\n    if (page >= 0 && page < this.totalPages) {\n      this.currentPage = page;\n      this.loadUsers();\n    }\n  }\n\n  /**\n   * Change la taille de la page\n   */\n  changePageSize(size: number): void {\n    this.pageSize = size;\n    this.currentPage = 0;\n    this.loadUsers();\n  }\n\n  /**\n   * Ouvre le modal de création d'utilisateur\n   */\n  openCreateUserModal(): void {\n    this.selectedUser = null;\n    this.isEditMode = false;\n    this.modalTitle = 'Créer un nouvel utilisateur';\n    this.openModal();\n  }\n\n  /**\n   * Ouvre le modal d'édition d'utilisateur\n   */\n  openEditUserModal(user: UserResponseDto): void {\n    this.selectedUser = user;\n    this.isEditMode = true;\n    this.modalTitle = `Modifier l'utilisateur ${user.nomPrenom}`;\n    this.openModal();\n  }\n\n  /**\n   * Ouvre la modal\n   */\n  private openModal(): void {\n    const modalElement = this.userFormModal?.nativeElement;\n    if (modalElement) {\n      const modal = new (window as any).bootstrap.Modal(modalElement);\n      modal.show();\n    } else {\n      console.error('Élément modal non trouvé');\n    }\n  }\n\n  /**\n   * Active un utilisateur\n   */\n  async activateUser(user: UserResponseDto): Promise<void> {\n    const result = await this.activateUserUseCase.execute(user.id);\n\n    if (result.isFailure) {\n      this.toastService.typeError(result.error.message);\n      return;\n    }\n\n    this.toastService.typeSuccess(`L'utilisateur ${user.nomPrenom} a été activé avec succès.`);\n    await this.loadUsers(); // Recharger la liste\n  }\n\n  /**\n   * Désactive un utilisateur\n   */\n  async deactivateUser(user: UserResponseDto): Promise<void> {\n    const result = await this.deactivateUserUseCase.execute(user.id);\n\n    if (result.isFailure) {\n      this.toastService.typeError(result.error.message);\n      return;\n    }\n\n    this.toastService.typeSuccess(`L'utilisateur ${user.nomPrenom} a été désactivé avec succès.`);\n    await this.loadUsers(); // Recharger la liste\n  }\n\n  /**\n   * Supprime un utilisateur\n   */\n  async deleteUser(user: UserResponseDto): Promise<void> {\n    if (confirm(`Êtes-vous sûr de vouloir supprimer l'utilisateur ${user.nomPrenom} ?`)) {\n      try {\n        // TODO: Implémenter la suppression via un use case dédié\n        await this.loadUsers(); // Recharger la liste\n      } catch (error) {\n        this.error = 'Impossible de supprimer l\\'utilisateur.';\n        this.toastService.typeError('Erreur lors de la suppression de l\\'utilisateur.');\n      }\n    }\n  }\n\n  /**\n   * Exporte la liste des utilisateurs\n   */\n  exportUsers(): void {\n    // TODO: Implémenter l'exportation\n    this.toastService.typeSuccess('Exporter la liste des utilisateurs');\n  }\n\n  /**\n   * Importe des utilisateurs\n   */\n  importUsers(): void {\n    // TODO: Implémenter l'importation\n    this.toastService.typeSuccess('Importer des utilisateurs');\n  }\n\n  /**\n   * Génère un rapport d'utilisateurs\n   */\n  generateReport(): void {\n    // TODO: Implémenter la génération de rapport\n    this.toastService.typeSuccess('Générer un rapport d\\'utilisateurs');\n  }\n\n  /**\n   * Ouvre les détails d'un utilisateur\n   */\n  viewUserDetails(user: UserResponseDto): void {\n    // Navigation vers la page de détail de l'utilisateur\n    this.router.navigate(['/app/manage-users/user-detail', user.id]);\n  }\n\n  /**\n   * Copie l'email de l'utilisateur\n   */\n  copyEmail(user: UserResponseDto): void {\n    navigator.clipboard.writeText(user.email)\n      .then(() => {\n        this.toastService.typeSuccess('Email copié dans le presse-papier');\n      })\n      .catch(err => {\n        this.toastService.typeError('Erreur lors de la copie de l\\'email');\n      });\n  }\n\n  /**\n   * Formate la date pour l'affichage\n   */\n  formatDate(dateString: string): string {\n    try {\n      const date = new Date(dateString);\n      if (isNaN(date.getTime())) {\n        return 'Date invalide';\n      }\n      return date.toLocaleDateString('fr-FR', {\n        day: '2-digit',\n        month: '2-digit',\n        year: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    } catch (error) {\n      return 'Date invalide';\n    }\n  }\n\n  /**\n   * Retourne la classe CSS pour le statut\n   */\n  getStatusClass(status: string): string {\n    switch (status) {\n      case 'ACTIF':\n        return 'badge bg-success';\n      case 'INACTIF':\n        return 'badge bg-danger';\n      case 'EN_ATTENTE':\n        return 'badge bg-warning';\n      default:\n        return 'badge bg-secondary';\n    }\n  }\n\n  /**\n   * Retourne le texte du statut\n   */\n  getStatusText(status: string): string {\n    switch (status) {\n      case 'ACTIF':\n        return 'Actif';\n      case 'INACTIF':\n        return 'Inactif';\n      case 'EN_ATTENTE':\n        return 'En attente';\n      default:\n        return status;\n    }\n  }\n\n  // Nouvelles méthodes pour le template\n\n  /**\n   * Change le tri\n   */\n  changeSort(sortBy: string, sortOrder: 'asc' | 'desc'): void {\n    // TODO: Implémenter le changement de tri\n    console.log(`Trier par ${sortBy} (${sortOrder})`);\n    this.loadUsers();\n  }\n\n  /**\n   * Filtre par statut\n   */\n  filterByStatus(status: string): void {\n    this.statusFilter = status;\n    this.currentPage = 0;\n    this.loadUsers();\n  }\n\n  /**\n   * Retourne les numéros de page pour la pagination\n   */\n  getPageNumbers(): number[] {\n    const pages: number[] = [];\n    const maxVisiblePages = 5;\n    let startPage = Math.max(0, this.currentPage - Math.floor(maxVisiblePages / 2));\n    let endPage = Math.min(this.totalPages - 1, startPage + maxVisiblePages - 1);\n\n    if (endPage - startPage + 1 < maxVisiblePages) {\n      startPage = Math.max(0, endPage - maxVisiblePages + 1);\n    }\n\n    for (let i = startPage; i <= endPage; i++) {\n      pages.push(i);\n    }\n    return pages;\n  }\n\n  /**\n   * Gère la sauvegarde d'un utilisateur\n   */\n  onUserSaved(user: UserResponseDto): void {\n    this.toastService.typeSuccess('Utilisateur sauvegardé');\n    this.loadUsers();\n    this.closeModal();\n  }\n\n  /**\n   * Gère l'annulation du formulaire\n   */\n  onFormCancelled(): void {\n    this.closeModal();\n  }\n\n  /**\n   * Ferme la modale\n   */\n  private closeModal(): void {\n    const modalElement = this.userFormModal?.nativeElement;\n    if (modalElement) {\n      const modal = (window as any).bootstrap.Modal.getInstance(modalElement);\n      if (modal) {\n        modal.hide();\n      }\n    }\n  }\n}","import { ComponentFixture, TestBed } from '@angular/core/testing';\n\nimport { UsersComponent } from './users.component';\n\ndescribe('UsersComponent', () => {\n  let component: UsersComponent;\n  let fixture: ComponentFixture<UsersComponent>;\n\n  beforeEach(async () => {\n    await TestBed.configureTestingModule({\n      declarations: [UsersComponent]\n    })\n    .compileComponents();\n\n    fixture = TestBed.createComponent(UsersComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  });\n\n  it('should create', () => {\n    expect(component).toBeTruthy();\n  });\n});\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA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","names":["users_component_default","init_users_component","user_form_component_default","init_user_form_component","init_core","UpdateUserUseCaseImpl","DepartementService","init_core","UserFormComponent","form_builder_component_default","init_form_builder_component","FormBuilderComponent","init_form_builder_component","FormBuilderExampleComponent","init_user_form_component","UsersComponent","init_users_component"],"x_google_ignoreList":[5,6]}