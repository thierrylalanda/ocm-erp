<div class="content-two">

  <!-- Breadcrumb -->
  <div class="d-flex d-block align-items-center justify-content-between flex-wrap gap-3 mb-3">
      <div>
          <h6>Category</h6>
      </div>
      <div class="d-flex my-xl-auto right-content align-items-center flex-wrap gap-2">
          <div>
              <a href="javascript:void(0);" class="btn btn-primary d-flex align-items-center" data-bs-toggle="modal" data-bs-target="#add_modal"><i class="isax isax-add-circle5 me-1"></i>New Category</a>
          </div>
      </div>
  </div>
  <!-- /Breadcrumb -->

  <!-- Table Search -->
  <div class="mb-3">

      <div class="d-flex align-items-center justify-content-between flex-wrap gap-3">
          <div class="d-flex align-items-center flex-wrap gap-2">
              <div class="table-search d-flex align-items-center mb-0">
                <div class="search-input">
                    <a href="javascript:void(0);" class="btn-searchset"><i class="isax isax-search-normal fs-12"></i></a>
                    <div id="DataTables_Table_0_filter" class="dataTables_filter">
                      <label> 
                      <input type="search" [(ngModel)]="searchDataValue" [ngModelOptions]="{ standalone: true }" type="search" (ngModelChange)="searchData(searchDataValue)" class="form-control form-control-sm" placeholder="Search" aria-controls="DataTables_Table_0">
                    </label>
                  </div>
                 </div>
              </div>
          </div>
      </div>

  </div>
  <!-- /Table Search -->

  <!-- Table List -->
  <div class="table-responsive">
    <table matSort (matSortChange)="sortData($event)" class="table table-nowrap dataTable datatable">
          <thead class="thead-light">
              <tr>
                <th class="no-sort">
                    <div class="form-check form-check-md" (click)="selectAll(initChecked)">
                        <input class="form-check-input" type="checkbox" id="select-all"  [(ngModel)]="initChecked">
                    </div>
                </th>
                  <th mat-sort-header="category">Category</th>
                  <th class="no-sort">No of Products</th>
                  <th class="no-sort"></th>
                  <th class="no-sort"></th>
              </tr>
          </thead>
          <tbody>
            @for (data of tableData;track data){
              <tr>
                <td class="sorting_1">
                    <div class="form-check form-check-md" >
                        <input class="form-check-input" type="checkbox" [(ngModel)]="data.isSelected">
                    </div>
                </td>
                  <td>
                      <div class="d-flex align-items-center">
                          <a href="javascript:void(0);" class="avatar avatar-sm rounded-circle me-2 flex-shrink-0">
                              <img src="assets/img/products/{{data.img}}" class="rounded-circle" alt="img">
                          </a>
                          <div>
                              <h6 class="fs-14 fw-medium mb-0"><a href="javascript:void(0);">{{data.category}}</a></h6>
                          </div>
                      </div>
                  </td>
                  <td>{{data.noOfProducts}}</td>
                  <td>
                      <div class="form-check form-switch">
                          <input class="form-check-input" type="checkbox" role="switch" checked>
                      </div>
                  </td>
                  <td class="action-item">
                      <a href="javascript:void(0);" data-bs-toggle="dropdown">
                          <i class="fa-solid fa-ellipsis-vertical"></i>
                      </a>
                      <ul class="dropdown-menu">
                          <li>
                              <a href="javascript:void(0);" class="dropdown-item d-flex align-items-center" data-bs-toggle="modal" data-bs-target="#edit_modal"><i class="isax isax-edit me-2"></i>Edit</a>
                          </li>
                          <li>
                              <a href="javascript:void(0);" class="dropdown-item d-flex align-items-center" data-bs-toggle="modal" data-bs-target="#delete_modal"><i class="isax isax-trash me-2"></i>Delete</a>
                          </li>
                      </ul>
                  </td>
              </tr>
            }
            @if(tableData.length === 0){
                <tr>
                  <td colspan="12" class="text-center text-dark">No matching records found</td>
                </tr>
              }
          </tbody>
      </table>
  </div>
  <app-custom-pagination *ngIf="row"/>
  <!-- /Table List -->

</div>


        <!-- Add Modal Start -->
        <div id="add_modal" class="modal fade">
          <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                  <div class="modal-header">
                      <h4 class="modal-title">Add Category</h4>
                      <button type="button" class="btn-close btn-close-modal custom-btn-close" data-bs-dismiss="modal" aria-label="Close"><i class="fa-solid fa-x"></i></button>
                  </div>
                  <form >
                      <div class="modal-body">
                          <div class="mb-3">
                              <span class="text-gray-9 fw-bold mb-2 d-flex">Image</span>
                              <div class="d-flex align-items-center">
                                  <div class="avatar avatar-xxl border border-dashed bg-light me-3 flex-shrink-0">
                                      <i class="isax isax-image text-primary fs-24"></i>
                                  </div>
                                  <div class="d-inline-flex flex-column align-items-start">
                                      <div class="drag-upload-btn btn btn-sm btn-primary position-relative mb-2">
                                          <i class="isax isax-image me-1"></i>Upload Image
                                          <input type="file" class="form-control image-sign" multiple="">
                                      </div>
                                      <span class="text-gray-9 fs-12">JPG or PNG format, not exceeding 5MB.</span>
                                  </div>
                              </div>
                          </div>
                          <div class="mb-3">
                              <label class="form-label">Name<span class="text-danger ms-1">*</span></label>
                              <input type="text" class="form-control">
                          </div>
                          <div>
                              <label class="form-label">Slug</label>
                              <input type="text" class="form-control">
                          </div>
                      </div>
                      <div class="modal-footer d-flex align-items-center justify-content-between gap-1">
                          <button type="button" class="btn btn-outline-white" data-bs-dismiss="modal">Cancel</button>
                          <button type="submit" class="btn btn-primary" data-bs-dismiss="modal">Add New</button>
                      </div>
                  </form>
              </div>
          </div>
      </div>
      <!-- Add Modal End -->

      <!-- Edit Modal Start -->
      <div id="edit_modal" class="modal fade">
          <div class="modal-dialog modal-dialog-centered">
              <div class="modal-content">
                  <div class="modal-header">
                      <h4 class="modal-title">Edit  Category</h4>
                      <button type="button" class="btn-close btn-close-modal custom-btn-close" data-bs-dismiss="modal" aria-label="Close"><i class="fa-solid fa-x"></i></button>
                  </div>
                  <form >
                      <div class="modal-body">
                          <div class="mb-3">
                              <span class="text-gray-9 fw-bold mb-2 d-flex">Image</span>
                              <div class="d-flex align-items-center">
                                  <div class="avatar avatar-xxl border border-dashed bg-light me-3 flex-shrink-0">
                                      <div class="position-relative d-flex align-items-center">
                                          <img src="assets/img/products/product-05.jpg" class="avatar avatar-xl" alt="">
                                          <a href="javascript:void(0);" class="rounded-trash trash-top d-flex align-items-center justify-content-center"><i class="isax isax-trash"></i></a>
                                      </div>
                                  </div>
                                  <div class="d-inline-flex flex-column align-items-start">
                                      <div class="drag-upload-btn btn btn-sm btn-primary position-relative mb-2">
                                          <i class="isax isax-image me-1"></i>Upload Image
                                          <input type="file" class="form-control image-sign" multiple="">
                                      </div>
                                      <span class="text-gray-9 fs-12">JPG or PNG format, not exceeding 5MB.</span>
                                  </div>
                              </div>
                          </div>
                          <div class="mb-3">
                              <label class="form-label">Name<span class="text-danger ms-1">*</span></label>
                              <input type="text" class="form-control" value="Shoes">
                          </div>
                          <div>
                              <label class="form-label">Slug</label>
                              <input type="text" class="form-control" placeholder="Shoes">
                          </div>
                      </div>
                      <div class="modal-footer d-flex align-items-center justify-content-between gap-1">
                          <button type="button" class="btn btn-outline-white" data-bs-dismiss="modal">Cancel</button>
                          <button type="submit" class="btn btn-primary" data-bs-dismiss="modal">Save Changes</button>
                      </div>
                  </form>
              </div>
          </div>
      </div>
      <!-- Edit Modal End -->

      <!-- Delete Modal Start -->
      <div class="modal fade" id="delete_modal">
          <div class="modal-dialog modal-dialog-centered modal-sm">
              <div class="modal-content">
                  <div class="modal-body text-center">
                      <div class="mb-3">
                          <img src="assets/img/icons/delete.svg" alt="img">
                      </div>
                      <h6 class="mb-1">Delete Category</h6>
                      <p class="mb-3">Are you sure, you want to delete category?</p>
                      <div class="d-flex justify-content-center">
                          <a href="javascript:void(0);" class="btn btn-outline-white me-3" data-bs-dismiss="modal">Cancel</a>
                          <a href="javascript:void(0);" class="btn btn-primary" data-bs-dismiss="modal">Yes, Delete</a>
                      </div>
                  </div>
              </div>
          </div>
      </div>
      <!-- Delete Modal End  -->