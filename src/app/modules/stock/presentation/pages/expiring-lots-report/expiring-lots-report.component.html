<div class="expiring-lots-page">
    <div class="page-header d-flex flex-wrap justify-content-between align-items-center gap-3 mb-4">
        <h2 class="h3 mb-0">{{ 'stock.lots.expiringReport' | translate }}</h2>
    </div>

    <!-- Filter -->
    <div class="card mb-4">
        <div class="card-body">
            <div class="row g-3 align-items-end">
                <div class="col-md-4">
                    <label class="form-label">{{ 'stock.lots.daysBeforeExpiration' | translate }}</label>
                    <select class="form-select" [(ngModel)]="daysBeforeExpiration" (change)="onDaysFilterChange()">
                        <option [value]="7">7 jours</option>
                        <option [value]="15">15 jours</option>
                        <option [value]="30">30 jours</option>
                        <option [value]="60">60 jours</option>
                        <option [value]="90">90 jours</option>
                    </select>
                </div>
                <div class="col-md-8">
                    <div class="alert alert-warning mb-0">
                        <i class="isax isax-warning-2 me-2"></i>
                        <strong>{{ lots.length }}</strong> lot(s) en alerte ou périmé(s)
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Data Table -->
    <div class="card">
        <div class="card-body p-0">
            <app-data-table [columns]="columns" [data]="lots" [loading]="loading" [config]="tableConfig">
            </app-data-table>
        </div>
    </div>
</div>