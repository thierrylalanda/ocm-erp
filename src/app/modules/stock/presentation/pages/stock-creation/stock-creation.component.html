<div class="stock-creation-page">
    <!-- Header -->
    <div class="page-header mb-4">
        <div>
            <h2 class="h3 mb-1">{{ 'stock.creation.title' | translate }}</h2>
            <p class="text-muted mb-0">{{ 'stock.creation.subtitle' | translate }}</p>
        </div>
        <div class="header-actions">
            <button type="button" class="btn btn-primary" (click)="openCreateModal()">
                <i class="isax isax-add-circle me-2"></i>
                {{ 'stock.creation.create' | translate }}
            </button>
        </div>
    </div>

    <!-- DataTable -->
    <div class="card">
        <div class="card-body">
            <app-data-table [data]="movements" [columns]="tableColumns" [config]="tableConfig" [loading]="loading"
                (export)="onExport()">
                <!-- Custom template for reason column -->
                <ng-template #customCell let-column="column" let-row="row">
                    <span *ngIf="column.key === 'creationReason'" class="badge"
                        [ngClass]="getReasonClass(row.creationReason)">
                        {{ getReasonLabel(row.creationReason) | translate }}
                    </span>
                </ng-template>
            </app-data-table>
        </div>
    </div>

    <!-- Modal CrÃ©ation -->
    <app-modal [isOpen]="showModal" [config]="modalConfig" (close)="showModal = false">
        <div modal-body>
            <app-form-builder [config]="formConfig" (formSubmit)="onFormSubmit($event)" (formCancel)="onFormCancel()">
            </app-form-builder>
        </div>
    </app-modal>
</div>